function QI(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(r,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function F2(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Mp={exports:{}},Zc={},jp={exports:{}},pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function JI(){if(by)return pt;by=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.iterator;function y(J){return J===null||typeof J!="object"?null:(J=x&&J[x]||J["@@iterator"],typeof J=="function"?J:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function A(J,N,q){this.props=J,this.context=N,this.refs=T,this.updater=q||w}A.prototype.isReactComponent={},A.prototype.setState=function(J,N){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,N,"setState")},A.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function j(){}j.prototype=A.prototype;function U(J,N,q){this.props=J,this.context=N,this.refs=T,this.updater=q||w}var F=U.prototype=new j;F.constructor=U,S(F,A.prototype),F.isPureReactComponent=!0;var Q=Array.isArray,ne=Object.prototype.hasOwnProperty,he={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function R(J,N,q){var K,Y={},re=null,_e=null;if(N!=null)for(K in N.ref!==void 0&&(_e=N.ref),N.key!==void 0&&(re=""+N.key),N)ne.call(N,K)&&!k.hasOwnProperty(K)&&(Y[K]=N[K]);var ke=arguments.length-2;if(ke===1)Y.children=q;else if(1<ke){for(var Te=Array(ke),me=0;me<ke;me++)Te[me]=arguments[me+2];Y.children=Te}if(J&&J.defaultProps)for(K in ke=J.defaultProps,ke)Y[K]===void 0&&(Y[K]=ke[K]);return{$$typeof:r,type:J,key:re,ref:_e,props:Y,_owner:he.current}}function C(J,N){return{$$typeof:r,type:J.type,key:N,ref:J.ref,props:J.props,_owner:J._owner}}function D(J){return typeof J=="object"&&J!==null&&J.$$typeof===r}function L(J){var N={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(q){return N[q]})}var V=/\/+/g;function O(J,N){return typeof J=="object"&&J!==null&&J.key!=null?L(""+J.key):N.toString(36)}function Me(J,N,q,K,Y){var re=typeof J;(re==="undefined"||re==="boolean")&&(J=null);var _e=!1;if(J===null)_e=!0;else switch(re){case"string":case"number":_e=!0;break;case"object":switch(J.$$typeof){case r:case e:_e=!0}}if(_e)return _e=J,Y=Y(_e),J=K===""?"."+O(_e,0):K,Q(Y)?(q="",J!=null&&(q=J.replace(V,"$&/")+"/"),Me(Y,N,q,"",function(me){return me})):Y!=null&&(D(Y)&&(Y=C(Y,q+(!Y.key||_e&&_e.key===Y.key?"":(""+Y.key).replace(V,"$&/")+"/")+J)),N.push(Y)),1;if(_e=0,K=K===""?".":K+":",Q(J))for(var ke=0;ke<J.length;ke++){re=J[ke];var Te=K+O(re,ke);_e+=Me(re,N,q,Te,Y)}else if(Te=y(J),typeof Te=="function")for(J=Te.call(J),ke=0;!(re=J.next()).done;)re=re.value,Te=K+O(re,ke++),_e+=Me(re,N,q,Te,Y);else if(re==="object")throw N=String(J),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.");return _e}function ee(J,N,q){if(J==null)return J;var K=[],Y=0;return Me(J,K,"","",function(re){return N.call(q,re,Y++)}),K}function De(J){if(J._status===-1){var N=J._result;N=N(),N.then(function(q){(J._status===0||J._status===-1)&&(J._status=1,J._result=q)},function(q){(J._status===0||J._status===-1)&&(J._status=2,J._result=q)}),J._status===-1&&(J._status=0,J._result=N)}if(J._status===1)return J._result.default;throw J._result}var Ce={current:null},pe={transition:null},Ee={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:pe,ReactCurrentOwner:he};function Ae(){throw Error("act(...) is not supported in production builds of React.")}return pt.Children={map:ee,forEach:function(J,N,q){ee(J,function(){N.apply(this,arguments)},q)},count:function(J){var N=0;return ee(J,function(){N++}),N},toArray:function(J){return ee(J,function(N){return N})||[]},only:function(J){if(!D(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},pt.Component=A,pt.Fragment=t,pt.Profiler=i,pt.PureComponent=U,pt.StrictMode=n,pt.Suspense=f,pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ee,pt.act=Ae,pt.cloneElement=function(J,N,q){if(J==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+J+".");var K=S({},J.props),Y=J.key,re=J.ref,_e=J._owner;if(N!=null){if(N.ref!==void 0&&(re=N.ref,_e=he.current),N.key!==void 0&&(Y=""+N.key),J.type&&J.type.defaultProps)var ke=J.type.defaultProps;for(Te in N)ne.call(N,Te)&&!k.hasOwnProperty(Te)&&(K[Te]=N[Te]===void 0&&ke!==void 0?ke[Te]:N[Te])}var Te=arguments.length-2;if(Te===1)K.children=q;else if(1<Te){ke=Array(Te);for(var me=0;me<Te;me++)ke[me]=arguments[me+2];K.children=ke}return{$$typeof:r,type:J.type,key:Y,ref:re,props:K,_owner:_e}},pt.createContext=function(J){return J={$$typeof:l,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},J.Provider={$$typeof:o,_context:J},J.Consumer=J},pt.createElement=R,pt.createFactory=function(J){var N=R.bind(null,J);return N.type=J,N},pt.createRef=function(){return{current:null}},pt.forwardRef=function(J){return{$$typeof:c,render:J}},pt.isValidElement=D,pt.lazy=function(J){return{$$typeof:p,_payload:{_status:-1,_result:J},_init:De}},pt.memo=function(J,N){return{$$typeof:h,type:J,compare:N===void 0?null:N}},pt.startTransition=function(J){var N=pe.transition;pe.transition={};try{J()}finally{pe.transition=N}},pt.unstable_act=Ae,pt.useCallback=function(J,N){return Ce.current.useCallback(J,N)},pt.useContext=function(J){return Ce.current.useContext(J)},pt.useDebugValue=function(){},pt.useDeferredValue=function(J){return Ce.current.useDeferredValue(J)},pt.useEffect=function(J,N){return Ce.current.useEffect(J,N)},pt.useId=function(){return Ce.current.useId()},pt.useImperativeHandle=function(J,N,q){return Ce.current.useImperativeHandle(J,N,q)},pt.useInsertionEffect=function(J,N){return Ce.current.useInsertionEffect(J,N)},pt.useLayoutEffect=function(J,N){return Ce.current.useLayoutEffect(J,N)},pt.useMemo=function(J,N){return Ce.current.useMemo(J,N)},pt.useReducer=function(J,N,q){return Ce.current.useReducer(J,N,q)},pt.useRef=function(J){return Ce.current.useRef(J)},pt.useState=function(J){return Ce.current.useState(J)},pt.useSyncExternalStore=function(J,N,q){return Ce.current.useSyncExternalStore(J,N,q)},pt.useTransition=function(){return Ce.current.useTransition()},pt.version="18.3.1",pt}var Py;function Xg(){return Py||(Py=1,jp.exports=JI()),jp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function ZI(){if(Ny)return Zc;Ny=1;var r=Xg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,h){var p,x={},y=null,w=null;h!==void 0&&(y=""+h),f.key!==void 0&&(y=""+f.key),f.ref!==void 0&&(w=f.ref);for(p in f)n.call(f,p)&&!o.hasOwnProperty(p)&&(x[p]=f[p]);if(c&&c.defaultProps)for(p in f=c.defaultProps,f)x[p]===void 0&&(x[p]=f[p]);return{$$typeof:e,type:c,key:y,ref:w,props:x,_owner:i.current}}return Zc.Fragment=t,Zc.jsx=l,Zc.jsxs=l,Zc}var Dy;function e4(){return Dy||(Dy=1,Mp.exports=ZI()),Mp.exports}var g=e4(),ie=Xg();const Bt=F2(ie),t4=QI({__proto__:null,default:Bt},[ie]);var ph={},Bp={exports:{}},Cn={},Vp={exports:{}},Up={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function r4(){return Oy||(Oy=1,(function(r){function e(pe,Ee){var Ae=pe.length;pe.push(Ee);e:for(;0<Ae;){var J=Ae-1>>>1,N=pe[J];if(0<i(N,Ee))pe[J]=Ee,pe[Ae]=N,Ae=J;else break e}}function t(pe){return pe.length===0?null:pe[0]}function n(pe){if(pe.length===0)return null;var Ee=pe[0],Ae=pe.pop();if(Ae!==Ee){pe[0]=Ae;e:for(var J=0,N=pe.length,q=N>>>1;J<q;){var K=2*(J+1)-1,Y=pe[K],re=K+1,_e=pe[re];if(0>i(Y,Ae))re<N&&0>i(_e,Y)?(pe[J]=_e,pe[re]=Ae,J=re):(pe[J]=Y,pe[K]=Ae,J=K);else if(re<N&&0>i(_e,Ae))pe[J]=_e,pe[re]=Ae,J=re;else break e}}return Ee}function i(pe,Ee){var Ae=pe.sortIndex-Ee.sortIndex;return Ae!==0?Ae:pe.id-Ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();r.unstable_now=function(){return l.now()-c}}var f=[],h=[],p=1,x=null,y=3,w=!1,S=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(pe){for(var Ee=t(h);Ee!==null;){if(Ee.callback===null)n(h);else if(Ee.startTime<=pe)n(h),Ee.sortIndex=Ee.expirationTime,e(f,Ee);else break;Ee=t(h)}}function Q(pe){if(T=!1,F(pe),!S)if(t(f)!==null)S=!0,De(ne);else{var Ee=t(h);Ee!==null&&Ce(Q,Ee.startTime-pe)}}function ne(pe,Ee){S=!1,T&&(T=!1,j(R),R=-1),w=!0;var Ae=y;try{for(F(Ee),x=t(f);x!==null&&(!(x.expirationTime>Ee)||pe&&!L());){var J=x.callback;if(typeof J=="function"){x.callback=null,y=x.priorityLevel;var N=J(x.expirationTime<=Ee);Ee=r.unstable_now(),typeof N=="function"?x.callback=N:x===t(f)&&n(f),F(Ee)}else n(f);x=t(f)}if(x!==null)var q=!0;else{var K=t(h);K!==null&&Ce(Q,K.startTime-Ee),q=!1}return q}finally{x=null,y=Ae,w=!1}}var he=!1,k=null,R=-1,C=5,D=-1;function L(){return!(r.unstable_now()-D<C)}function V(){if(k!==null){var pe=r.unstable_now();D=pe;var Ee=!0;try{Ee=k(!0,pe)}finally{Ee?O():(he=!1,k=null)}}else he=!1}var O;if(typeof U=="function")O=function(){U(V)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,ee=Me.port2;Me.port1.onmessage=V,O=function(){ee.postMessage(null)}}else O=function(){A(V,0)};function De(pe){k=pe,he||(he=!0,O())}function Ce(pe,Ee){R=A(function(){pe(r.unstable_now())},Ee)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(pe){pe.callback=null},r.unstable_continueExecution=function(){S||w||(S=!0,De(ne))},r.unstable_forceFrameRate=function(pe){0>pe||125<pe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<pe?Math.floor(1e3/pe):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_getFirstCallbackNode=function(){return t(f)},r.unstable_next=function(pe){switch(y){case 1:case 2:case 3:var Ee=3;break;default:Ee=y}var Ae=y;y=Ee;try{return pe()}finally{y=Ae}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(pe,Ee){switch(pe){case 1:case 2:case 3:case 4:case 5:break;default:pe=3}var Ae=y;y=pe;try{return Ee()}finally{y=Ae}},r.unstable_scheduleCallback=function(pe,Ee,Ae){var J=r.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?J+Ae:J):Ae=J,pe){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=Ae+N,pe={id:p++,callback:Ee,priorityLevel:pe,startTime:Ae,expirationTime:N,sortIndex:-1},Ae>J?(pe.sortIndex=Ae,e(h,pe),t(f)===null&&pe===t(h)&&(T?(j(R),R=-1):T=!0,Ce(Q,Ae-J))):(pe.sortIndex=N,e(f,pe),S||w||(S=!0,De(ne))),pe},r.unstable_shouldYield=L,r.unstable_wrapCallback=function(pe){var Ee=y;return function(){var Ae=y;y=Ee;try{return pe.apply(this,arguments)}finally{y=Ae}}}})(Up)),Up}var Fy;function n4(){return Fy||(Fy=1,Vp.exports=r4()),Vp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function i4(){if(Ly)return Cn;Ly=1;var r=Xg(),e=n4();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)n.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},x={};function y(s){return f.call(x,s)?!0:f.call(p,s)?!1:h.test(s)?x[s]=!0:(p[s]=!0,!1)}function w(s,a,u,m){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,a,u,m){if(a===null||typeof a>"u"||w(s,a,u,m))return!0;if(m)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function T(s,a,u,m,v,E,b){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=v,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=E,this.removeEmptyString=b}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){A[s]=new T(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];A[a]=new T(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){A[s]=new T(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){A[s]=new T(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){A[s]=new T(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){A[s]=new T(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){A[s]=new T(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){A[s]=new T(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){A[s]=new T(s,5,!1,s.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function U(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(j,U);A[a]=new T(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(j,U);A[a]=new T(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(j,U);A[a]=new T(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){A[s]=new T(s,1,!1,s.toLowerCase(),null,!1,!1)}),A.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){A[s]=new T(s,1,!1,s.toLowerCase(),null,!0,!0)});function F(s,a,u,m){var v=A.hasOwnProperty(a)?A[a]:null;(v!==null?v.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(S(a,u,v,m)&&(u=null),m||v===null?y(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):v.mustUseProperty?s[v.propertyName]=u===null?v.type===3?!1:"":u:(a=v.attributeName,m=v.attributeNamespace,u===null?s.removeAttribute(a):(v=v.type,u=v===3||v===4&&u===!0?"":""+u,m?s.setAttributeNS(m,a,u):s.setAttribute(a,u))))}var Q=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ne=Symbol.for("react.element"),he=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),L=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),De=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),pe=Symbol.iterator;function Ee(s){return s===null||typeof s!="object"?null:(s=pe&&s[pe]||s["@@iterator"],typeof s=="function"?s:null)}var Ae=Object.assign,J;function N(s){if(J===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);J=a&&a[1]||""}return`
`+J+s}var q=!1;function K(s,a){if(!s||q)return"";q=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(de){var m=de}Reflect.construct(s,[],a)}else{try{a.call()}catch(de){m=de}s.call(a.prototype)}else{try{throw Error()}catch(de){m=de}s()}}catch(de){if(de&&m&&typeof de.stack=="string"){for(var v=de.stack.split(`
`),E=m.stack.split(`
`),b=v.length-1,X=E.length-1;1<=b&&0<=X&&v[b]!==E[X];)X--;for(;1<=b&&0<=X;b--,X--)if(v[b]!==E[X]){if(b!==1||X!==1)do if(b--,X--,0>X||v[b]!==E[X]){var Z=`
`+v[b].replace(" at new "," at ");return s.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",s.displayName)),Z}while(1<=b&&0<=X);break}}}finally{q=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?N(s):""}function Y(s){switch(s.tag){case 5:return N(s.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return s=K(s.type,!1),s;case 11:return s=K(s.type.render,!1),s;case 1:return s=K(s.type,!0),s;default:return""}}function re(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case he:return"Portal";case C:return"Profiler";case R:return"StrictMode";case O:return"Suspense";case Me:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case D:return(s._context.displayName||"Context")+".Provider";case V:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ee:return a=s.displayName||null,a!==null?a:re(s.type)||"Memo";case De:a=s._payload,s=s._init;try{return re(s(a))}catch{}}return null}function _e(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(a);case 8:return a===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ke(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Te(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function me(s){var a=Te(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),m=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,E=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return v.call(this)},set:function(b){m=""+b,E.call(this,b)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(b){m=""+b},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Qe(s){s._valueTracker||(s._valueTracker=me(s))}function Ke(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),m="";return s&&(m=Te(s)?s.checked?"true":"false":s.value),s=m,s!==u?(a.setValue(s),!0):!1}function dt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ze(s,a){var u=a.checked;return Ae({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function it(s,a){var u=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;u=ke(a.value!=null?a.value:u),s._wrapperState={initialChecked:m,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function et(s,a){a=a.checked,a!=null&&F(s,"checked",a,!1)}function Ue(s,a){et(s,a);var u=ke(a.value),m=a.type;if(u!=null)m==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?ft(s,a.type,u):a.hasOwnProperty("defaultValue")&&ft(s,a.type,ke(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function mt(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function ft(s,a,u){(a!=="number"||dt(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var jt=Array.isArray;function Jt(s,a,u,m){if(s=s.options,a){a={};for(var v=0;v<u.length;v++)a["$"+u[v]]=!0;for(u=0;u<s.length;u++)v=a.hasOwnProperty("$"+s[u].value),s[u].selected!==v&&(s[u].selected=v),v&&m&&(s[u].defaultSelected=!0)}else{for(u=""+ke(u),a=null,v=0;v<s.length;v++){if(s[v].value===u){s[v].selected=!0,m&&(s[v].defaultSelected=!0);return}a!==null||s[v].disabled||(a=s[v])}a!==null&&(a.selected=!0)}}function bt(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return Ae({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function fn(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(t(92));if(jt(u)){if(1<u.length)throw Error(t(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:ke(u)}}function Br(s,a){var u=ke(a.value),m=ke(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),m!=null&&(s.defaultValue=""+m)}function zi(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Zt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function er(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Zt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Vr,ea=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,m,v){MSApp.execUnsafeLocalFunction(function(){return s(a,u,m,v)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Vr=Vr||document.createElement("div"),Vr.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Vr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function mi(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var Wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$i=["Webkit","ms","Moz","O"];Object.keys(Wi).forEach(function(s){$i.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Wi[a]=Wi[s]})});function Ks(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||Wi.hasOwnProperty(s)&&Wi[s]?(""+a).trim():a+"px"}function Xs(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var m=u.indexOf("--")===0,v=Ks(u,a[u],m);u==="float"&&(u="cssFloat"),m?s.setProperty(u,v):s[u]=v}}var Ys=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ta(s,a){if(a){if(Ys[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function ra(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hi=null;function gs(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ms=null,vn=null,Qn=null;function xi(s){if(s=jc(s)){if(typeof ms!="function")throw Error(t(280));var a=s.stateNode;a&&(a=Rf(a),ms(s.stateNode,s.type,a))}}function Jn(s){vn?Qn?Qn.push(s):Qn=[s]:vn=s}function na(){if(vn){var s=vn,a=Qn;if(Qn=vn=null,xi(s),a)for(s=0;s<a.length;s++)xi(a[s])}}function xs(s,a){return s(a)}function ia(){}var yi=!1;function sa(s,a,u){if(yi)return s(a,u);yi=!0;try{return xs(s,a,u)}finally{yi=!1,(vn!==null||Qn!==null)&&(ia(),na())}}function tr(s,a){var u=s.stateNode;if(u===null)return null;var m=Rf(u);if(m===null)return null;u=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,a,typeof u));return u}var Qs=!1;if(c)try{var hn={};Object.defineProperty(hn,"passive",{get:function(){Qs=!0}}),window.addEventListener("test",hn,hn),window.removeEventListener("test",hn,hn)}catch{Qs=!1}function ys(s,a,u,m,v,E,b,X,Z){var de=Array.prototype.slice.call(arguments,3);try{a.apply(u,de)}catch(Re){this.onError(Re)}}var vs=!1,Js=null,P=!1,W=null,B={onError:function(s){vs=!0,Js=s}};function z(s,a,u,m,v,E,b,X,Z){vs=!1,Js=null,ys.apply(B,arguments)}function H(s,a,u,m,v,E,b,X,Z){if(z.apply(this,arguments),vs){if(vs){var de=Js;vs=!1,Js=null}else throw Error(t(198));P||(P=!0,W=de)}}function G(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function ae(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function xe(s){if(G(s)!==s)throw Error(t(188))}function le(s){var a=s.alternate;if(!a){if(a=G(s),a===null)throw Error(t(188));return a!==s?null:s}for(var u=s,m=a;;){var v=u.return;if(v===null)break;var E=v.alternate;if(E===null){if(m=v.return,m!==null){u=m;continue}break}if(v.child===E.child){for(E=v.child;E;){if(E===u)return xe(v),s;if(E===m)return xe(v),a;E=E.sibling}throw Error(t(188))}if(u.return!==m.return)u=v,m=E;else{for(var b=!1,X=v.child;X;){if(X===u){b=!0,u=v,m=E;break}if(X===m){b=!0,m=v,u=E;break}X=X.sibling}if(!b){for(X=E.child;X;){if(X===u){b=!0,u=E,m=v;break}if(X===m){b=!0,m=E,u=v;break}X=X.sibling}if(!b)throw Error(t(189))}}if(u.alternate!==m)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:a}function ue(s){return s=le(s),s!==null?fe(s):null}function fe(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=fe(s);if(a!==null)return a;s=s.sibling}return null}var be=e.unstable_scheduleCallback,je=e.unstable_cancelCallback,We=e.unstable_shouldYield,Oe=e.unstable_requestPaint,Pe=e.unstable_now,st=e.unstable_getCurrentPriorityLevel,Rt=e.unstable_ImmediatePriority,St=e.unstable_UserBlockingPriority,Nt=e.unstable_NormalPriority,vi=e.unstable_LowPriority,Gi=e.unstable_IdlePriority,Fn=null,cr=null;function Zs(s){if(cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(Fn,s,void 0,(s.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:of,Ec=Math.log,sf=Math.LN2;function of(s){return s>>>=0,s===0?32:31-(Ec(s)/sf|0)|0}var el=64,tl=4194304;function eo(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function oa(s,a){var u=s.pendingLanes;if(u===0)return 0;var m=0,v=s.suspendedLanes,E=s.pingedLanes,b=u&268435455;if(b!==0){var X=b&~v;X!==0?m=eo(X):(E&=b,E!==0&&(m=eo(E)))}else b=u&~v,b!==0?m=eo(b):E!==0&&(m=eo(E));if(m===0)return 0;if(a!==0&&a!==m&&(a&v)===0&&(v=m&-m,E=a&-a,v>=E||v===16&&(E&4194240)!==0))return a;if((m&4)!==0&&(m|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=m;0<a;)u=31-$t(a),v=1<<u,m|=s[u],a&=~v;return m}function d0(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _s(s,a){for(var u=s.suspendedLanes,m=s.pingedLanes,v=s.expirationTimes,E=s.pendingLanes;0<E;){var b=31-$t(E),X=1<<b,Z=v[b];Z===-1?((X&u)===0||(X&m)!==0)&&(v[b]=d0(X,a)):Z<=a&&(s.expiredLanes|=X),E&=~X}}function Ln(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function aa(){var s=el;return el<<=1,(el&4194240)===0&&(el=64),s}function to(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function ro(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-$t(a),s[a]=u}function Ut(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<u;){var v=31-$t(u),E=1<<v;a[v]=0,m[v]=-1,s[v]=-1,u&=~E}}function no(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var m=31-$t(u),v=1<<m;v&a|s[m]&a&&(s[m]|=a),u&=~v}}var _t=0;function io(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var af,rl,lf,cf,uf,Tc=!1,qi=[],Ur=null,_i=null,wi=null,so=new Map,Zn=new Map,Ki=[],p0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ff(s,a){switch(s){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":so.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zn.delete(a.pointerId)}}function _n(s,a,u,m,v,E){return s===null||s.nativeEvent!==E?(s={blockedOn:a,domEventName:u,eventSystemFlags:m,nativeEvent:E,targetContainers:[v]},a!==null&&(a=jc(a),a!==null&&rl(a)),s):(s.eventSystemFlags|=m,a=s.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),s)}function g0(s,a,u,m,v){switch(a){case"focusin":return Ur=_n(Ur,s,a,u,m,v),!0;case"dragenter":return _i=_n(_i,s,a,u,m,v),!0;case"mouseover":return wi=_n(wi,s,a,u,m,v),!0;case"pointerover":var E=v.pointerId;return so.set(E,_n(so.get(E)||null,s,a,u,m,v)),!0;case"gotpointercapture":return E=v.pointerId,Zn.set(E,_n(Zn.get(E)||null,s,a,u,m,v)),!0}return!1}function hf(s){var a=ha(s.target);if(a!==null){var u=G(a);if(u!==null){if(a=u.tag,a===13){if(a=ae(u),a!==null){s.blockedOn=a,uf(s.priority,function(){lf(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ws(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=nl(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var m=new u.constructor(u.type,u);Hi=m,u.target.dispatchEvent(m),Hi=null}else return a=jc(u),a!==null&&rl(a),s.blockedOn=u,!1;a.shift()}return!0}function la(s,a,u){ws(s)&&u.delete(a)}function df(){Tc=!1,Ur!==null&&ws(Ur)&&(Ur=null),_i!==null&&ws(_i)&&(_i=null),wi!==null&&ws(wi)&&(wi=null),so.forEach(la),Zn.forEach(la)}function Ei(s,a){s.blockedOn===a&&(s.blockedOn=null,Tc||(Tc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,df)))}function Ti(s){function a(v){return Ei(v,s)}if(0<qi.length){Ei(qi[0],s);for(var u=1;u<qi.length;u++){var m=qi[u];m.blockedOn===s&&(m.blockedOn=null)}}for(Ur!==null&&Ei(Ur,s),_i!==null&&Ei(_i,s),wi!==null&&Ei(wi,s),so.forEach(a),Zn.forEach(a),u=0;u<Ki.length;u++)m=Ki[u],m.blockedOn===s&&(m.blockedOn=null);for(;0<Ki.length&&(u=Ki[0],u.blockedOn===null);)hf(u),u.blockedOn===null&&Ki.shift()}var Es=Q.ReactCurrentBatchConfig,oo=!0;function Yt(s,a,u,m){var v=_t,E=Es.transition;Es.transition=null;try{_t=1,Sc(s,a,u,m)}finally{_t=v,Es.transition=E}}function m0(s,a,u,m){var v=_t,E=Es.transition;Es.transition=null;try{_t=4,Sc(s,a,u,m)}finally{_t=v,Es.transition=E}}function Sc(s,a,u,m){if(oo){var v=nl(s,a,u,m);if(v===null)C0(s,a,m,ca,u),ff(s,m);else if(g0(v,s,a,u,m))m.stopPropagation();else if(ff(s,m),a&4&&-1<p0.indexOf(s)){for(;v!==null;){var E=jc(v);if(E!==null&&af(E),E=nl(s,a,u,m),E===null&&C0(s,a,m,ca,u),E===v)break;v=E}v!==null&&m.stopPropagation()}else C0(s,a,m,null,u)}}var ca=null;function nl(s,a,u,m){if(ca=null,s=gs(m),s=ha(s),s!==null)if(a=G(s),a===null)s=null;else if(u=a.tag,u===13){if(s=ae(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return ca=s,null}function Ac(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(st()){case Rt:return 1;case St:return 4;case Nt:case vi:return 16;case Gi:return 536870912;default:return 16}default:return 16}}var Mn=null,il=null,wn=null;function Ic(){if(wn)return wn;var s,a=il,u=a.length,m,v="value"in Mn?Mn.value:Mn.textContent,E=v.length;for(s=0;s<u&&a[s]===v[s];s++);var b=u-s;for(m=1;m<=b&&a[u-m]===v[E-m];m++);return wn=v.slice(s,1<m?1-m:void 0)}function sl(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Xi(){return!0}function Cc(){return!1}function zr(s){function a(u,m,v,E,b){this._reactName=u,this._targetInst=v,this.type=m,this.nativeEvent=E,this.target=b,this.currentTarget=null;for(var X in s)s.hasOwnProperty(X)&&(u=s[X],this[X]=u?u(E):E[X]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Xi:Cc,this.isPropagationStopped=Cc,this}return Ae(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),a}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ol=zr(Si),Yi=Ae({},Si,{view:0,detail:0}),x0=zr(Yi),al,Ts,ao,ua=Ae({},Yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qi,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ao&&(ao&&s.type==="mousemove"?(al=s.screenX-ao.screenX,Ts=s.screenY-ao.screenY):Ts=al=0,ao=s),al)},movementY:function(s){return"movementY"in s?s.movementY:Ts}}),ll=zr(ua),Rc=Ae({},ua,{dataTransfer:0}),pf=zr(Rc),cl=Ae({},Yi,{relatedTarget:0}),ul=zr(cl),gf=Ae({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),Ss=zr(gf),mf=Ae({},Si,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),xf=zr(mf),yf=Ae({},Si,{data:0}),kc=zr(yf),fl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _f(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=vf[s])?!!a[s]:!1}function Qi(){return _f}var d=Ae({},Yi,{key:function(s){if(s.key){var a=fl[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=sl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?dn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qi,charCode:function(s){return s.type==="keypress"?sl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?sl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_=zr(d),I=Ae({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M=zr(I),se=Ae({},Yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qi}),ge=zr(se),Ve=Ae({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dt=zr(Ve),Ar=Ae({},ua,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),wt=zr(Ar),Pr=[9,13,27,32],gr=c&&"CompositionEvent"in window,ei=null;c&&"documentMode"in document&&(ei=document.documentMode);var jn=c&&"TextEvent"in window&&!ei,fa=c&&(!gr||ei&&8<ei&&11>=ei),hl=" ",S1=!1;function A1(s,a){switch(s){case"keyup":return Pr.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I1(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var dl=!1;function KA(s,a){switch(s){case"compositionend":return I1(a);case"keypress":return a.which!==32?null:(S1=!0,hl);case"textInput":return s=a.data,s===hl&&S1?null:s;default:return null}}function XA(s,a){if(dl)return s==="compositionend"||!gr&&A1(s,a)?(s=Ic(),wn=il=Mn=null,dl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return fa&&a.locale!=="ko"?null:a.data;default:return null}}var YA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function C1(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!YA[s.type]:a==="textarea"}function R1(s,a,u,m){Jn(m),a=Af(a,"onChange"),0<a.length&&(u=new ol("onChange","change",null,u,m),s.push({event:u,listeners:a}))}var bc=null,Pc=null;function QA(s){G1(s,0)}function wf(s){var a=yl(s);if(Ke(a))return s}function JA(s,a){if(s==="change")return a}var k1=!1;if(c){var y0;if(c){var v0="oninput"in document;if(!v0){var b1=document.createElement("div");b1.setAttribute("oninput","return;"),v0=typeof b1.oninput=="function"}y0=v0}else y0=!1;k1=y0&&(!document.documentMode||9<document.documentMode)}function P1(){bc&&(bc.detachEvent("onpropertychange",N1),Pc=bc=null)}function N1(s){if(s.propertyName==="value"&&wf(Pc)){var a=[];R1(a,Pc,s,gs(s)),sa(QA,a)}}function ZA(s,a,u){s==="focusin"?(P1(),bc=a,Pc=u,bc.attachEvent("onpropertychange",N1)):s==="focusout"&&P1()}function eI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return wf(Pc)}function tI(s,a){if(s==="click")return wf(a)}function rI(s,a){if(s==="input"||s==="change")return wf(a)}function nI(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Ai=typeof Object.is=="function"?Object.is:nI;function Nc(s,a){if(Ai(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),m=Object.keys(a);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var v=u[m];if(!f.call(a,v)||!Ai(s[v],a[v]))return!1}return!0}function D1(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function O1(s,a){var u=D1(s);s=0;for(var m;u;){if(u.nodeType===3){if(m=s+u.textContent.length,s<=a&&m>=a)return{node:u,offset:a-s};s=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=D1(u)}}function F1(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?F1(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function L1(){for(var s=window,a=dt();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=dt(s.document)}return a}function _0(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function iI(s){var a=L1(),u=s.focusedElem,m=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&F1(u.ownerDocument.documentElement,u)){if(m!==null&&_0(u)){if(a=m.start,s=m.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var v=u.textContent.length,E=Math.min(m.start,v);m=m.end===void 0?E:Math.min(m.end,v),!s.extend&&E>m&&(v=m,m=E,E=v),v=O1(u,E);var b=O1(u,m);v&&b&&(s.rangeCount!==1||s.anchorNode!==v.node||s.anchorOffset!==v.offset||s.focusNode!==b.node||s.focusOffset!==b.offset)&&(a=a.createRange(),a.setStart(v.node,v.offset),s.removeAllRanges(),E>m?(s.addRange(a),s.extend(b.node,b.offset)):(a.setEnd(b.node,b.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var sI=c&&"documentMode"in document&&11>=document.documentMode,pl=null,w0=null,Dc=null,E0=!1;function M1(s,a,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;E0||pl==null||pl!==dt(m)||(m=pl,"selectionStart"in m&&_0(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Dc&&Nc(Dc,m)||(Dc=m,m=Af(w0,"onSelect"),0<m.length&&(a=new ol("onSelect","select",null,a,u),s.push({event:a,listeners:m}),a.target=pl)))}function Ef(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var gl={animationend:Ef("Animation","AnimationEnd"),animationiteration:Ef("Animation","AnimationIteration"),animationstart:Ef("Animation","AnimationStart"),transitionend:Ef("Transition","TransitionEnd")},T0={},j1={};c&&(j1=document.createElement("div").style,"AnimationEvent"in window||(delete gl.animationend.animation,delete gl.animationiteration.animation,delete gl.animationstart.animation),"TransitionEvent"in window||delete gl.transitionend.transition);function Tf(s){if(T0[s])return T0[s];if(!gl[s])return s;var a=gl[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in j1)return T0[s]=a[u];return s}var B1=Tf("animationend"),V1=Tf("animationiteration"),U1=Tf("animationstart"),z1=Tf("transitionend"),W1=new Map,$1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lo(s,a){W1.set(s,a),o(a,[s])}for(var S0=0;S0<$1.length;S0++){var A0=$1[S0],oI=A0.toLowerCase(),aI=A0[0].toUpperCase()+A0.slice(1);lo(oI,"on"+aI)}lo(B1,"onAnimationEnd"),lo(V1,"onAnimationIteration"),lo(U1,"onAnimationStart"),lo("dblclick","onDoubleClick"),lo("focusin","onFocus"),lo("focusout","onBlur"),lo(z1,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oc));function H1(s,a,u){var m=s.type||"unknown-event";s.currentTarget=u,H(m,a,void 0,s),s.currentTarget=null}function G1(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var m=s[u],v=m.event;m=m.listeners;e:{var E=void 0;if(a)for(var b=m.length-1;0<=b;b--){var X=m[b],Z=X.instance,de=X.currentTarget;if(X=X.listener,Z!==E&&v.isPropagationStopped())break e;H1(v,X,de),E=Z}else for(b=0;b<m.length;b++){if(X=m[b],Z=X.instance,de=X.currentTarget,X=X.listener,Z!==E&&v.isPropagationStopped())break e;H1(v,X,de),E=Z}}}if(P)throw s=W,P=!1,W=null,s}function Ht(s,a){var u=a[D0];u===void 0&&(u=a[D0]=new Set);var m=s+"__bubble";u.has(m)||(q1(a,s,2,!1),u.add(m))}function I0(s,a,u){var m=0;a&&(m|=4),q1(u,s,m,a)}var Sf="_reactListening"+Math.random().toString(36).slice(2);function Fc(s){if(!s[Sf]){s[Sf]=!0,n.forEach(function(u){u!=="selectionchange"&&(lI.has(u)||I0(u,!1,s),I0(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Sf]||(a[Sf]=!0,I0("selectionchange",!1,a))}}function q1(s,a,u,m){switch(Ac(a)){case 1:var v=Yt;break;case 4:v=m0;break;default:v=Sc}u=v.bind(null,a,u,s),v=void 0,!Qs||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),m?v!==void 0?s.addEventListener(a,u,{capture:!0,passive:v}):s.addEventListener(a,u,!0):v!==void 0?s.addEventListener(a,u,{passive:v}):s.addEventListener(a,u,!1)}function C0(s,a,u,m,v){var E=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var b=m.tag;if(b===3||b===4){var X=m.stateNode.containerInfo;if(X===v||X.nodeType===8&&X.parentNode===v)break;if(b===4)for(b=m.return;b!==null;){var Z=b.tag;if((Z===3||Z===4)&&(Z=b.stateNode.containerInfo,Z===v||Z.nodeType===8&&Z.parentNode===v))return;b=b.return}for(;X!==null;){if(b=ha(X),b===null)return;if(Z=b.tag,Z===5||Z===6){m=E=b;continue e}X=X.parentNode}}m=m.return}sa(function(){var de=E,Re=gs(u),Ne=[];e:{var Ie=W1.get(s);if(Ie!==void 0){var $e=ol,qe=s;switch(s){case"keypress":if(sl(u)===0)break e;case"keydown":case"keyup":$e=_;break;case"focusin":qe="focus",$e=ul;break;case"focusout":qe="blur",$e=ul;break;case"beforeblur":case"afterblur":$e=ul;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$e=ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$e=pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$e=ge;break;case B1:case V1:case U1:$e=Ss;break;case z1:$e=Dt;break;case"scroll":$e=x0;break;case"wheel":$e=wt;break;case"copy":case"cut":case"paste":$e=xf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$e=M}var Xe=(a&4)!==0,ur=!Xe&&s==="scroll",oe=Xe?Ie!==null?Ie+"Capture":null:Ie;Xe=[];for(var te=de,ce;te!==null;){ce=te;var Fe=ce.stateNode;if(ce.tag===5&&Fe!==null&&(ce=Fe,oe!==null&&(Fe=tr(te,oe),Fe!=null&&Xe.push(Lc(te,Fe,ce)))),ur)break;te=te.return}0<Xe.length&&(Ie=new $e(Ie,qe,null,u,Re),Ne.push({event:Ie,listeners:Xe}))}}if((a&7)===0){e:{if(Ie=s==="mouseover"||s==="pointerover",$e=s==="mouseout"||s==="pointerout",Ie&&u!==Hi&&(qe=u.relatedTarget||u.fromElement)&&(ha(qe)||qe[As]))break e;if(($e||Ie)&&(Ie=Re.window===Re?Re:(Ie=Re.ownerDocument)?Ie.defaultView||Ie.parentWindow:window,$e?(qe=u.relatedTarget||u.toElement,$e=de,qe=qe?ha(qe):null,qe!==null&&(ur=G(qe),qe!==ur||qe.tag!==5&&qe.tag!==6)&&(qe=null)):($e=null,qe=de),$e!==qe)){if(Xe=ll,Fe="onMouseLeave",oe="onMouseEnter",te="mouse",(s==="pointerout"||s==="pointerover")&&(Xe=M,Fe="onPointerLeave",oe="onPointerEnter",te="pointer"),ur=$e==null?Ie:yl($e),ce=qe==null?Ie:yl(qe),Ie=new Xe(Fe,te+"leave",$e,u,Re),Ie.target=ur,Ie.relatedTarget=ce,Fe=null,ha(Re)===de&&(Xe=new Xe(oe,te+"enter",qe,u,Re),Xe.target=ce,Xe.relatedTarget=ur,Fe=Xe),ur=Fe,$e&&qe)t:{for(Xe=$e,oe=qe,te=0,ce=Xe;ce;ce=ml(ce))te++;for(ce=0,Fe=oe;Fe;Fe=ml(Fe))ce++;for(;0<te-ce;)Xe=ml(Xe),te--;for(;0<ce-te;)oe=ml(oe),ce--;for(;te--;){if(Xe===oe||oe!==null&&Xe===oe.alternate)break t;Xe=ml(Xe),oe=ml(oe)}Xe=null}else Xe=null;$e!==null&&K1(Ne,Ie,$e,Xe,!1),qe!==null&&ur!==null&&K1(Ne,ur,qe,Xe,!0)}}e:{if(Ie=de?yl(de):window,$e=Ie.nodeName&&Ie.nodeName.toLowerCase(),$e==="select"||$e==="input"&&Ie.type==="file")var Ye=JA;else if(C1(Ie))if(k1)Ye=rI;else{Ye=eI;var tt=ZA}else($e=Ie.nodeName)&&$e.toLowerCase()==="input"&&(Ie.type==="checkbox"||Ie.type==="radio")&&(Ye=tI);if(Ye&&(Ye=Ye(s,de))){R1(Ne,Ye,u,Re);break e}tt&&tt(s,Ie,de),s==="focusout"&&(tt=Ie._wrapperState)&&tt.controlled&&Ie.type==="number"&&ft(Ie,"number",Ie.value)}switch(tt=de?yl(de):window,s){case"focusin":(C1(tt)||tt.contentEditable==="true")&&(pl=tt,w0=de,Dc=null);break;case"focusout":Dc=w0=pl=null;break;case"mousedown":E0=!0;break;case"contextmenu":case"mouseup":case"dragend":E0=!1,M1(Ne,u,Re);break;case"selectionchange":if(sI)break;case"keydown":case"keyup":M1(Ne,u,Re)}var rt;if(gr)e:{switch(s){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else dl?A1(s,u)&&(ot="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(ot="onCompositionStart");ot&&(fa&&u.locale!=="ko"&&(dl||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&dl&&(rt=Ic()):(Mn=Re,il="value"in Mn?Mn.value:Mn.textContent,dl=!0)),tt=Af(de,ot),0<tt.length&&(ot=new kc(ot,s,null,u,Re),Ne.push({event:ot,listeners:tt}),rt?ot.data=rt:(rt=I1(u),rt!==null&&(ot.data=rt)))),(rt=jn?KA(s,u):XA(s,u))&&(de=Af(de,"onBeforeInput"),0<de.length&&(Re=new kc("onBeforeInput","beforeinput",null,u,Re),Ne.push({event:Re,listeners:de}),Re.data=rt))}G1(Ne,a)})}function Lc(s,a,u){return{instance:s,listener:a,currentTarget:u}}function Af(s,a){for(var u=a+"Capture",m=[];s!==null;){var v=s,E=v.stateNode;v.tag===5&&E!==null&&(v=E,E=tr(s,u),E!=null&&m.unshift(Lc(s,E,v)),E=tr(s,a),E!=null&&m.push(Lc(s,E,v))),s=s.return}return m}function ml(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function K1(s,a,u,m,v){for(var E=a._reactName,b=[];u!==null&&u!==m;){var X=u,Z=X.alternate,de=X.stateNode;if(Z!==null&&Z===m)break;X.tag===5&&de!==null&&(X=de,v?(Z=tr(u,E),Z!=null&&b.unshift(Lc(u,Z,X))):v||(Z=tr(u,E),Z!=null&&b.push(Lc(u,Z,X)))),u=u.return}b.length!==0&&s.push({event:a,listeners:b})}var cI=/\r\n?/g,uI=/\u0000|\uFFFD/g;function X1(s){return(typeof s=="string"?s:""+s).replace(cI,`
`).replace(uI,"")}function If(s,a,u){if(a=X1(a),X1(s)!==a&&u)throw Error(t(425))}function Cf(){}var R0=null,k0=null;function b0(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var P0=typeof setTimeout=="function"?setTimeout:void 0,fI=typeof clearTimeout=="function"?clearTimeout:void 0,Y1=typeof Promise=="function"?Promise:void 0,hI=typeof queueMicrotask=="function"?queueMicrotask:typeof Y1<"u"?function(s){return Y1.resolve(null).then(s).catch(dI)}:P0;function dI(s){setTimeout(function(){throw s})}function N0(s,a){var u=a,m=0;do{var v=u.nextSibling;if(s.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(m===0){s.removeChild(v),Ti(a);return}m--}else u!=="$"&&u!=="$?"&&u!=="$!"||m++;u=v}while(u);Ti(a)}function co(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Q1(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var xl=Math.random().toString(36).slice(2),Ji="__reactFiber$"+xl,Mc="__reactProps$"+xl,As="__reactContainer$"+xl,D0="__reactEvents$"+xl,pI="__reactListeners$"+xl,gI="__reactHandles$"+xl;function ha(s){var a=s[Ji];if(a)return a;for(var u=s.parentNode;u;){if(a=u[As]||u[Ji]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=Q1(s);s!==null;){if(u=s[Ji])return u;s=Q1(s)}return a}s=u,u=s.parentNode}return null}function jc(s){return s=s[Ji]||s[As],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function yl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Rf(s){return s[Mc]||null}var O0=[],vl=-1;function uo(s){return{current:s}}function Gt(s){0>vl||(s.current=O0[vl],O0[vl]=null,vl--)}function zt(s,a){vl++,O0[vl]=s.current,s.current=a}var fo={},en=uo(fo),En=uo(!1),da=fo;function _l(s,a){var u=s.type.contextTypes;if(!u)return fo;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var v={},E;for(E in u)v[E]=a[E];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=v),v}function Tn(s){return s=s.childContextTypes,s!=null}function kf(){Gt(En),Gt(en)}function J1(s,a,u){if(en.current!==fo)throw Error(t(168));zt(en,a),zt(En,u)}function Z1(s,a,u){var m=s.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var v in m)if(!(v in a))throw Error(t(108,_e(s)||"Unknown",v));return Ae({},u,m)}function bf(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||fo,da=en.current,zt(en,s),zt(En,En.current),!0}function ex(s,a,u){var m=s.stateNode;if(!m)throw Error(t(169));u?(s=Z1(s,a,da),m.__reactInternalMemoizedMergedChildContext=s,Gt(En),Gt(en),zt(en,s)):Gt(En),zt(En,u)}var Is=null,Pf=!1,F0=!1;function tx(s){Is===null?Is=[s]:Is.push(s)}function mI(s){Pf=!0,tx(s)}function ho(){if(!F0&&Is!==null){F0=!0;var s=0,a=_t;try{var u=Is;for(_t=1;s<u.length;s++){var m=u[s];do m=m(!0);while(m!==null)}Is=null,Pf=!1}catch(v){throw Is!==null&&(Is=Is.slice(s+1)),be(Rt,ho),v}finally{_t=a,F0=!1}}return null}var wl=[],El=0,Nf=null,Df=0,ti=[],ri=0,pa=null,Cs=1,Rs="";function ga(s,a){wl[El++]=Df,wl[El++]=Nf,Nf=s,Df=a}function rx(s,a,u){ti[ri++]=Cs,ti[ri++]=Rs,ti[ri++]=pa,pa=s;var m=Cs;s=Rs;var v=32-$t(m)-1;m&=~(1<<v),u+=1;var E=32-$t(a)+v;if(30<E){var b=v-v%5;E=(m&(1<<b)-1).toString(32),m>>=b,v-=b,Cs=1<<32-$t(a)+v|u<<v|m,Rs=E+s}else Cs=1<<E|u<<v|m,Rs=s}function L0(s){s.return!==null&&(ga(s,1),rx(s,1,0))}function M0(s){for(;s===Nf;)Nf=wl[--El],wl[El]=null,Df=wl[--El],wl[El]=null;for(;s===pa;)pa=ti[--ri],ti[ri]=null,Rs=ti[--ri],ti[ri]=null,Cs=ti[--ri],ti[ri]=null}var Bn=null,Vn=null,Qt=!1,Ii=null;function nx(s,a){var u=oi(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function ix(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Bn=s,Vn=co(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Bn=s,Vn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=pa!==null?{id:Cs,overflow:Rs}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=oi(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,Bn=s,Vn=null,!0):!1;default:return!1}}function j0(s){return(s.mode&1)!==0&&(s.flags&128)===0}function B0(s){if(Qt){var a=Vn;if(a){var u=a;if(!ix(s,a)){if(j0(s))throw Error(t(418));a=co(u.nextSibling);var m=Bn;a&&ix(s,a)?nx(m,u):(s.flags=s.flags&-4097|2,Qt=!1,Bn=s)}}else{if(j0(s))throw Error(t(418));s.flags=s.flags&-4097|2,Qt=!1,Bn=s}}}function sx(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Bn=s}function Of(s){if(s!==Bn)return!1;if(!Qt)return sx(s),Qt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!b0(s.type,s.memoizedProps)),a&&(a=Vn)){if(j0(s))throw ox(),Error(t(418));for(;a;)nx(s,a),a=co(a.nextSibling)}if(sx(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){Vn=co(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}Vn=null}}else Vn=Bn?co(s.stateNode.nextSibling):null;return!0}function ox(){for(var s=Vn;s;)s=co(s.nextSibling)}function Tl(){Vn=Bn=null,Qt=!1}function V0(s){Ii===null?Ii=[s]:Ii.push(s)}var xI=Q.ReactCurrentBatchConfig;function Bc(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var m=u.stateNode}if(!m)throw Error(t(147,s));var v=m,E=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===E?a.ref:(a=function(b){var X=v.refs;b===null?delete X[E]:X[E]=b},a._stringRef=E,a)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function Ff(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function ax(s){var a=s._init;return a(s._payload)}function lx(s){function a(oe,te){if(s){var ce=oe.deletions;ce===null?(oe.deletions=[te],oe.flags|=16):ce.push(te)}}function u(oe,te){if(!s)return null;for(;te!==null;)a(oe,te),te=te.sibling;return null}function m(oe,te){for(oe=new Map;te!==null;)te.key!==null?oe.set(te.key,te):oe.set(te.index,te),te=te.sibling;return oe}function v(oe,te){return oe=wo(oe,te),oe.index=0,oe.sibling=null,oe}function E(oe,te,ce){return oe.index=ce,s?(ce=oe.alternate,ce!==null?(ce=ce.index,ce<te?(oe.flags|=2,te):ce):(oe.flags|=2,te)):(oe.flags|=1048576,te)}function b(oe){return s&&oe.alternate===null&&(oe.flags|=2),oe}function X(oe,te,ce,Fe){return te===null||te.tag!==6?(te=Pp(ce,oe.mode,Fe),te.return=oe,te):(te=v(te,ce),te.return=oe,te)}function Z(oe,te,ce,Fe){var Ye=ce.type;return Ye===k?Re(oe,te,ce.props.children,Fe,ce.key):te!==null&&(te.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===De&&ax(Ye)===te.type)?(Fe=v(te,ce.props),Fe.ref=Bc(oe,te,ce),Fe.return=oe,Fe):(Fe=sh(ce.type,ce.key,ce.props,null,oe.mode,Fe),Fe.ref=Bc(oe,te,ce),Fe.return=oe,Fe)}function de(oe,te,ce,Fe){return te===null||te.tag!==4||te.stateNode.containerInfo!==ce.containerInfo||te.stateNode.implementation!==ce.implementation?(te=Np(ce,oe.mode,Fe),te.return=oe,te):(te=v(te,ce.children||[]),te.return=oe,te)}function Re(oe,te,ce,Fe,Ye){return te===null||te.tag!==7?(te=Ta(ce,oe.mode,Fe,Ye),te.return=oe,te):(te=v(te,ce),te.return=oe,te)}function Ne(oe,te,ce){if(typeof te=="string"&&te!==""||typeof te=="number")return te=Pp(""+te,oe.mode,ce),te.return=oe,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case ne:return ce=sh(te.type,te.key,te.props,null,oe.mode,ce),ce.ref=Bc(oe,null,te),ce.return=oe,ce;case he:return te=Np(te,oe.mode,ce),te.return=oe,te;case De:var Fe=te._init;return Ne(oe,Fe(te._payload),ce)}if(jt(te)||Ee(te))return te=Ta(te,oe.mode,ce,null),te.return=oe,te;Ff(oe,te)}return null}function Ie(oe,te,ce,Fe){var Ye=te!==null?te.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return Ye!==null?null:X(oe,te,""+ce,Fe);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case ne:return ce.key===Ye?Z(oe,te,ce,Fe):null;case he:return ce.key===Ye?de(oe,te,ce,Fe):null;case De:return Ye=ce._init,Ie(oe,te,Ye(ce._payload),Fe)}if(jt(ce)||Ee(ce))return Ye!==null?null:Re(oe,te,ce,Fe,null);Ff(oe,ce)}return null}function $e(oe,te,ce,Fe,Ye){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return oe=oe.get(ce)||null,X(te,oe,""+Fe,Ye);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case ne:return oe=oe.get(Fe.key===null?ce:Fe.key)||null,Z(te,oe,Fe,Ye);case he:return oe=oe.get(Fe.key===null?ce:Fe.key)||null,de(te,oe,Fe,Ye);case De:var tt=Fe._init;return $e(oe,te,ce,tt(Fe._payload),Ye)}if(jt(Fe)||Ee(Fe))return oe=oe.get(ce)||null,Re(te,oe,Fe,Ye,null);Ff(te,Fe)}return null}function qe(oe,te,ce,Fe){for(var Ye=null,tt=null,rt=te,ot=te=0,Or=null;rt!==null&&ot<ce.length;ot++){rt.index>ot?(Or=rt,rt=null):Or=rt.sibling;var At=Ie(oe,rt,ce[ot],Fe);if(At===null){rt===null&&(rt=Or);break}s&&rt&&At.alternate===null&&a(oe,rt),te=E(At,te,ot),tt===null?Ye=At:tt.sibling=At,tt=At,rt=Or}if(ot===ce.length)return u(oe,rt),Qt&&ga(oe,ot),Ye;if(rt===null){for(;ot<ce.length;ot++)rt=Ne(oe,ce[ot],Fe),rt!==null&&(te=E(rt,te,ot),tt===null?Ye=rt:tt.sibling=rt,tt=rt);return Qt&&ga(oe,ot),Ye}for(rt=m(oe,rt);ot<ce.length;ot++)Or=$e(rt,oe,ot,ce[ot],Fe),Or!==null&&(s&&Or.alternate!==null&&rt.delete(Or.key===null?ot:Or.key),te=E(Or,te,ot),tt===null?Ye=Or:tt.sibling=Or,tt=Or);return s&&rt.forEach(function(Eo){return a(oe,Eo)}),Qt&&ga(oe,ot),Ye}function Xe(oe,te,ce,Fe){var Ye=Ee(ce);if(typeof Ye!="function")throw Error(t(150));if(ce=Ye.call(ce),ce==null)throw Error(t(151));for(var tt=Ye=null,rt=te,ot=te=0,Or=null,At=ce.next();rt!==null&&!At.done;ot++,At=ce.next()){rt.index>ot?(Or=rt,rt=null):Or=rt.sibling;var Eo=Ie(oe,rt,At.value,Fe);if(Eo===null){rt===null&&(rt=Or);break}s&&rt&&Eo.alternate===null&&a(oe,rt),te=E(Eo,te,ot),tt===null?Ye=Eo:tt.sibling=Eo,tt=Eo,rt=Or}if(At.done)return u(oe,rt),Qt&&ga(oe,ot),Ye;if(rt===null){for(;!At.done;ot++,At=ce.next())At=Ne(oe,At.value,Fe),At!==null&&(te=E(At,te,ot),tt===null?Ye=At:tt.sibling=At,tt=At);return Qt&&ga(oe,ot),Ye}for(rt=m(oe,rt);!At.done;ot++,At=ce.next())At=$e(rt,oe,ot,At.value,Fe),At!==null&&(s&&At.alternate!==null&&rt.delete(At.key===null?ot:At.key),te=E(At,te,ot),tt===null?Ye=At:tt.sibling=At,tt=At);return s&&rt.forEach(function(YI){return a(oe,YI)}),Qt&&ga(oe,ot),Ye}function ur(oe,te,ce,Fe){if(typeof ce=="object"&&ce!==null&&ce.type===k&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case ne:e:{for(var Ye=ce.key,tt=te;tt!==null;){if(tt.key===Ye){if(Ye=ce.type,Ye===k){if(tt.tag===7){u(oe,tt.sibling),te=v(tt,ce.props.children),te.return=oe,oe=te;break e}}else if(tt.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===De&&ax(Ye)===tt.type){u(oe,tt.sibling),te=v(tt,ce.props),te.ref=Bc(oe,tt,ce),te.return=oe,oe=te;break e}u(oe,tt);break}else a(oe,tt);tt=tt.sibling}ce.type===k?(te=Ta(ce.props.children,oe.mode,Fe,ce.key),te.return=oe,oe=te):(Fe=sh(ce.type,ce.key,ce.props,null,oe.mode,Fe),Fe.ref=Bc(oe,te,ce),Fe.return=oe,oe=Fe)}return b(oe);case he:e:{for(tt=ce.key;te!==null;){if(te.key===tt)if(te.tag===4&&te.stateNode.containerInfo===ce.containerInfo&&te.stateNode.implementation===ce.implementation){u(oe,te.sibling),te=v(te,ce.children||[]),te.return=oe,oe=te;break e}else{u(oe,te);break}else a(oe,te);te=te.sibling}te=Np(ce,oe.mode,Fe),te.return=oe,oe=te}return b(oe);case De:return tt=ce._init,ur(oe,te,tt(ce._payload),Fe)}if(jt(ce))return qe(oe,te,ce,Fe);if(Ee(ce))return Xe(oe,te,ce,Fe);Ff(oe,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,te!==null&&te.tag===6?(u(oe,te.sibling),te=v(te,ce),te.return=oe,oe=te):(u(oe,te),te=Pp(ce,oe.mode,Fe),te.return=oe,oe=te),b(oe)):u(oe,te)}return ur}var Sl=lx(!0),cx=lx(!1),Lf=uo(null),Mf=null,Al=null,U0=null;function z0(){U0=Al=Mf=null}function W0(s){var a=Lf.current;Gt(Lf),s._currentValue=a}function $0(s,a,u){for(;s!==null;){var m=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),s===u)break;s=s.return}}function Il(s,a){Mf=s,U0=Al=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Sn=!0),s.firstContext=null)}function ni(s){var a=s._currentValue;if(U0!==s)if(s={context:s,memoizedValue:a,next:null},Al===null){if(Mf===null)throw Error(t(308));Al=s,Mf.dependencies={lanes:0,firstContext:s}}else Al=Al.next=s;return a}var ma=null;function H0(s){ma===null?ma=[s]:ma.push(s)}function ux(s,a,u,m){var v=a.interleaved;return v===null?(u.next=u,H0(a)):(u.next=v.next,v.next=u),a.interleaved=u,ks(s,m)}function ks(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var po=!1;function G0(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fx(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function bs(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function go(s,a,u){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(Tt&2)!==0){var v=m.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),m.pending=a,ks(s,u)}return v=m.interleaved,v===null?(a.next=a,H0(m)):(a.next=v.next,v.next=a),m.interleaved=a,ks(s,u)}function jf(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var m=a.lanes;m&=s.pendingLanes,u|=m,a.lanes=u,no(s,u)}}function hx(s,a){var u=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var v=null,E=null;if(u=u.firstBaseUpdate,u!==null){do{var b={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};E===null?v=E=b:E=E.next=b,u=u.next}while(u!==null);E===null?v=E=a:E=E.next=a}else v=E=a;u={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:E,shared:m.shared,effects:m.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function Bf(s,a,u,m){var v=s.updateQueue;po=!1;var E=v.firstBaseUpdate,b=v.lastBaseUpdate,X=v.shared.pending;if(X!==null){v.shared.pending=null;var Z=X,de=Z.next;Z.next=null,b===null?E=de:b.next=de,b=Z;var Re=s.alternate;Re!==null&&(Re=Re.updateQueue,X=Re.lastBaseUpdate,X!==b&&(X===null?Re.firstBaseUpdate=de:X.next=de,Re.lastBaseUpdate=Z))}if(E!==null){var Ne=v.baseState;b=0,Re=de=Z=null,X=E;do{var Ie=X.lane,$e=X.eventTime;if((m&Ie)===Ie){Re!==null&&(Re=Re.next={eventTime:$e,lane:0,tag:X.tag,payload:X.payload,callback:X.callback,next:null});e:{var qe=s,Xe=X;switch(Ie=a,$e=u,Xe.tag){case 1:if(qe=Xe.payload,typeof qe=="function"){Ne=qe.call($e,Ne,Ie);break e}Ne=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=Xe.payload,Ie=typeof qe=="function"?qe.call($e,Ne,Ie):qe,Ie==null)break e;Ne=Ae({},Ne,Ie);break e;case 2:po=!0}}X.callback!==null&&X.lane!==0&&(s.flags|=64,Ie=v.effects,Ie===null?v.effects=[X]:Ie.push(X))}else $e={eventTime:$e,lane:Ie,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Re===null?(de=Re=$e,Z=Ne):Re=Re.next=$e,b|=Ie;if(X=X.next,X===null){if(X=v.shared.pending,X===null)break;Ie=X,X=Ie.next,Ie.next=null,v.lastBaseUpdate=Ie,v.shared.pending=null}}while(!0);if(Re===null&&(Z=Ne),v.baseState=Z,v.firstBaseUpdate=de,v.lastBaseUpdate=Re,a=v.shared.interleaved,a!==null){v=a;do b|=v.lane,v=v.next;while(v!==a)}else E===null&&(v.shared.lanes=0);va|=b,s.lanes=b,s.memoizedState=Ne}}function dx(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var m=s[a],v=m.callback;if(v!==null){if(m.callback=null,m=u,typeof v!="function")throw Error(t(191,v));v.call(m)}}}var Vc={},Zi=uo(Vc),Uc=uo(Vc),zc=uo(Vc);function xa(s){if(s===Vc)throw Error(t(174));return s}function q0(s,a){switch(zt(zc,a),zt(Uc,s),zt(Zi,Vc),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:er(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=er(a,s)}Gt(Zi),zt(Zi,a)}function Cl(){Gt(Zi),Gt(Uc),Gt(zc)}function px(s){xa(zc.current);var a=xa(Zi.current),u=er(a,s.type);a!==u&&(zt(Uc,s),zt(Zi,u))}function K0(s){Uc.current===s&&(Gt(Zi),Gt(Uc))}var rr=uo(0);function Vf(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var X0=[];function Y0(){for(var s=0;s<X0.length;s++)X0[s]._workInProgressVersionPrimary=null;X0.length=0}var Uf=Q.ReactCurrentDispatcher,Q0=Q.ReactCurrentBatchConfig,ya=0,nr=null,Ir=null,Nr=null,zf=!1,Wc=!1,$c=0,yI=0;function tn(){throw Error(t(321))}function J0(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!Ai(s[u],a[u]))return!1;return!0}function Z0(s,a,u,m,v,E){if(ya=E,nr=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Uf.current=s===null||s.memoizedState===null?EI:TI,s=u(m,v),Wc){E=0;do{if(Wc=!1,$c=0,25<=E)throw Error(t(301));E+=1,Nr=Ir=null,a.updateQueue=null,Uf.current=SI,s=u(m,v)}while(Wc)}if(Uf.current=Hf,a=Ir!==null&&Ir.next!==null,ya=0,Nr=Ir=nr=null,zf=!1,a)throw Error(t(300));return s}function ep(){var s=$c!==0;return $c=0,s}function es(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nr===null?nr.memoizedState=Nr=s:Nr=Nr.next=s,Nr}function ii(){if(Ir===null){var s=nr.alternate;s=s!==null?s.memoizedState:null}else s=Ir.next;var a=Nr===null?nr.memoizedState:Nr.next;if(a!==null)Nr=a,Ir=s;else{if(s===null)throw Error(t(310));Ir=s,s={memoizedState:Ir.memoizedState,baseState:Ir.baseState,baseQueue:Ir.baseQueue,queue:Ir.queue,next:null},Nr===null?nr.memoizedState=Nr=s:Nr=Nr.next=s}return Nr}function Hc(s,a){return typeof a=="function"?a(s):a}function tp(s){var a=ii(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var m=Ir,v=m.baseQueue,E=u.pending;if(E!==null){if(v!==null){var b=v.next;v.next=E.next,E.next=b}m.baseQueue=v=E,u.pending=null}if(v!==null){E=v.next,m=m.baseState;var X=b=null,Z=null,de=E;do{var Re=de.lane;if((ya&Re)===Re)Z!==null&&(Z=Z.next={lane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),m=de.hasEagerState?de.eagerState:s(m,de.action);else{var Ne={lane:Re,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null};Z===null?(X=Z=Ne,b=m):Z=Z.next=Ne,nr.lanes|=Re,va|=Re}de=de.next}while(de!==null&&de!==E);Z===null?b=m:Z.next=X,Ai(m,a.memoizedState)||(Sn=!0),a.memoizedState=m,a.baseState=b,a.baseQueue=Z,u.lastRenderedState=m}if(s=u.interleaved,s!==null){v=s;do E=v.lane,nr.lanes|=E,va|=E,v=v.next;while(v!==s)}else v===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function rp(s){var a=ii(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var m=u.dispatch,v=u.pending,E=a.memoizedState;if(v!==null){u.pending=null;var b=v=v.next;do E=s(E,b.action),b=b.next;while(b!==v);Ai(E,a.memoizedState)||(Sn=!0),a.memoizedState=E,a.baseQueue===null&&(a.baseState=E),u.lastRenderedState=E}return[E,m]}function gx(){}function mx(s,a){var u=nr,m=ii(),v=a(),E=!Ai(m.memoizedState,v);if(E&&(m.memoizedState=v,Sn=!0),m=m.queue,np(vx.bind(null,u,m,s),[s]),m.getSnapshot!==a||E||Nr!==null&&Nr.memoizedState.tag&1){if(u.flags|=2048,Gc(9,yx.bind(null,u,m,v,a),void 0,null),Dr===null)throw Error(t(349));(ya&30)!==0||xx(u,a,v)}return v}function xx(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=nr.updateQueue,a===null?(a={lastEffect:null,stores:null},nr.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function yx(s,a,u,m){a.value=u,a.getSnapshot=m,_x(a)&&wx(s)}function vx(s,a,u){return u(function(){_x(a)&&wx(s)})}function _x(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!Ai(s,u)}catch{return!0}}function wx(s){var a=ks(s,1);a!==null&&bi(a,s,1,-1)}function Ex(s){var a=es();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hc,lastRenderedState:s},a.queue=s,s=s.dispatch=wI.bind(null,nr,s),[a.memoizedState,s]}function Gc(s,a,u,m){return s={tag:s,create:a,destroy:u,deps:m,next:null},a=nr.updateQueue,a===null?(a={lastEffect:null,stores:null},nr.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(m=u.next,u.next=s,s.next=m,a.lastEffect=s)),s}function Tx(){return ii().memoizedState}function Wf(s,a,u,m){var v=es();nr.flags|=s,v.memoizedState=Gc(1|a,u,void 0,m===void 0?null:m)}function $f(s,a,u,m){var v=ii();m=m===void 0?null:m;var E=void 0;if(Ir!==null){var b=Ir.memoizedState;if(E=b.destroy,m!==null&&J0(m,b.deps)){v.memoizedState=Gc(a,u,E,m);return}}nr.flags|=s,v.memoizedState=Gc(1|a,u,E,m)}function Sx(s,a){return Wf(8390656,8,s,a)}function np(s,a){return $f(2048,8,s,a)}function Ax(s,a){return $f(4,2,s,a)}function Ix(s,a){return $f(4,4,s,a)}function Cx(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Rx(s,a,u){return u=u!=null?u.concat([s]):null,$f(4,4,Cx.bind(null,a,s),u)}function ip(){}function kx(s,a){var u=ii();a=a===void 0?null:a;var m=u.memoizedState;return m!==null&&a!==null&&J0(a,m[1])?m[0]:(u.memoizedState=[s,a],s)}function bx(s,a){var u=ii();a=a===void 0?null:a;var m=u.memoizedState;return m!==null&&a!==null&&J0(a,m[1])?m[0]:(s=s(),u.memoizedState=[s,a],s)}function Px(s,a,u){return(ya&21)===0?(s.baseState&&(s.baseState=!1,Sn=!0),s.memoizedState=u):(Ai(u,a)||(u=aa(),nr.lanes|=u,va|=u,s.baseState=!0),a)}function vI(s,a){var u=_t;_t=u!==0&&4>u?u:4,s(!0);var m=Q0.transition;Q0.transition={};try{s(!1),a()}finally{_t=u,Q0.transition=m}}function Nx(){return ii().memoizedState}function _I(s,a,u){var m=vo(s);if(u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},Dx(s))Ox(a,u);else if(u=ux(s,a,u,m),u!==null){var v=gn();bi(u,s,m,v),Fx(u,a,m)}}function wI(s,a,u){var m=vo(s),v={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(Dx(s))Ox(a,v);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=a.lastRenderedReducer,E!==null))try{var b=a.lastRenderedState,X=E(b,u);if(v.hasEagerState=!0,v.eagerState=X,Ai(X,b)){var Z=a.interleaved;Z===null?(v.next=v,H0(a)):(v.next=Z.next,Z.next=v),a.interleaved=v;return}}catch{}finally{}u=ux(s,a,v,m),u!==null&&(v=gn(),bi(u,s,m,v),Fx(u,a,m))}}function Dx(s){var a=s.alternate;return s===nr||a!==null&&a===nr}function Ox(s,a){Wc=zf=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function Fx(s,a,u){if((u&4194240)!==0){var m=a.lanes;m&=s.pendingLanes,u|=m,a.lanes=u,no(s,u)}}var Hf={readContext:ni,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},EI={readContext:ni,useCallback:function(s,a){return es().memoizedState=[s,a===void 0?null:a],s},useContext:ni,useEffect:Sx,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,Wf(4194308,4,Cx.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Wf(4194308,4,s,a)},useInsertionEffect:function(s,a){return Wf(4,2,s,a)},useMemo:function(s,a){var u=es();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var m=es();return a=u!==void 0?u(a):a,m.memoizedState=m.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},m.queue=s,s=s.dispatch=_I.bind(null,nr,s),[m.memoizedState,s]},useRef:function(s){var a=es();return s={current:s},a.memoizedState=s},useState:Ex,useDebugValue:ip,useDeferredValue:function(s){return es().memoizedState=s},useTransition:function(){var s=Ex(!1),a=s[0];return s=vI.bind(null,s[1]),es().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var m=nr,v=es();if(Qt){if(u===void 0)throw Error(t(407));u=u()}else{if(u=a(),Dr===null)throw Error(t(349));(ya&30)!==0||xx(m,a,u)}v.memoizedState=u;var E={value:u,getSnapshot:a};return v.queue=E,Sx(vx.bind(null,m,E,s),[s]),m.flags|=2048,Gc(9,yx.bind(null,m,E,u,a),void 0,null),u},useId:function(){var s=es(),a=Dr.identifierPrefix;if(Qt){var u=Rs,m=Cs;u=(m&~(1<<32-$t(m)-1)).toString(32)+u,a=":"+a+"R"+u,u=$c++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=yI++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},TI={readContext:ni,useCallback:kx,useContext:ni,useEffect:np,useImperativeHandle:Rx,useInsertionEffect:Ax,useLayoutEffect:Ix,useMemo:bx,useReducer:tp,useRef:Tx,useState:function(){return tp(Hc)},useDebugValue:ip,useDeferredValue:function(s){var a=ii();return Px(a,Ir.memoizedState,s)},useTransition:function(){var s=tp(Hc)[0],a=ii().memoizedState;return[s,a]},useMutableSource:gx,useSyncExternalStore:mx,useId:Nx,unstable_isNewReconciler:!1},SI={readContext:ni,useCallback:kx,useContext:ni,useEffect:np,useImperativeHandle:Rx,useInsertionEffect:Ax,useLayoutEffect:Ix,useMemo:bx,useReducer:rp,useRef:Tx,useState:function(){return rp(Hc)},useDebugValue:ip,useDeferredValue:function(s){var a=ii();return Ir===null?a.memoizedState=s:Px(a,Ir.memoizedState,s)},useTransition:function(){var s=rp(Hc)[0],a=ii().memoizedState;return[s,a]},useMutableSource:gx,useSyncExternalStore:mx,useId:Nx,unstable_isNewReconciler:!1};function Ci(s,a){if(s&&s.defaultProps){a=Ae({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function sp(s,a,u,m){a=s.memoizedState,u=u(m,a),u=u==null?a:Ae({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Gf={isMounted:function(s){return(s=s._reactInternals)?G(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var m=gn(),v=vo(s),E=bs(m,v);E.payload=a,u!=null&&(E.callback=u),a=go(s,E,v),a!==null&&(bi(a,s,v,m),jf(a,s,v))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var m=gn(),v=vo(s),E=bs(m,v);E.tag=1,E.payload=a,u!=null&&(E.callback=u),a=go(s,E,v),a!==null&&(bi(a,s,v,m),jf(a,s,v))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=gn(),m=vo(s),v=bs(u,m);v.tag=2,a!=null&&(v.callback=a),a=go(s,v,m),a!==null&&(bi(a,s,m,u),jf(a,s,m))}};function Lx(s,a,u,m,v,E,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,E,b):a.prototype&&a.prototype.isPureReactComponent?!Nc(u,m)||!Nc(v,E):!0}function Mx(s,a,u){var m=!1,v=fo,E=a.contextType;return typeof E=="object"&&E!==null?E=ni(E):(v=Tn(a)?da:en.current,m=a.contextTypes,E=(m=m!=null)?_l(s,v):fo),a=new a(u,E),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Gf,s.stateNode=a,a._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=v,s.__reactInternalMemoizedMaskedChildContext=E),a}function jx(s,a,u,m){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,m),a.state!==s&&Gf.enqueueReplaceState(a,a.state,null)}function op(s,a,u,m){var v=s.stateNode;v.props=u,v.state=s.memoizedState,v.refs={},G0(s);var E=a.contextType;typeof E=="object"&&E!==null?v.context=ni(E):(E=Tn(a)?da:en.current,v.context=_l(s,E)),v.state=s.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(sp(s,a,E,u),v.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(a=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),a!==v.state&&Gf.enqueueReplaceState(v,v.state,null),Bf(s,u,v,m),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308)}function Rl(s,a){try{var u="",m=a;do u+=Y(m),m=m.return;while(m);var v=u}catch(E){v=`
Error generating stack: `+E.message+`
`+E.stack}return{value:s,source:a,stack:v,digest:null}}function ap(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function lp(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var AI=typeof WeakMap=="function"?WeakMap:Map;function Bx(s,a,u){u=bs(-1,u),u.tag=3,u.payload={element:null};var m=a.value;return u.callback=function(){Zf||(Zf=!0,Tp=m),lp(s,a)},u}function Vx(s,a,u){u=bs(-1,u),u.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var v=a.value;u.payload=function(){return m(v)},u.callback=function(){lp(s,a)}}var E=s.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(u.callback=function(){lp(s,a),typeof m!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var b=a.stack;this.componentDidCatch(a.value,{componentStack:b!==null?b:""})}),u}function Ux(s,a,u){var m=s.pingCache;if(m===null){m=s.pingCache=new AI;var v=new Set;m.set(a,v)}else v=m.get(a),v===void 0&&(v=new Set,m.set(a,v));v.has(u)||(v.add(u),s=BI.bind(null,s,a,u),a.then(s,s))}function zx(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Wx(s,a,u,m,v){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=bs(-1,1),a.tag=2,go(u,a,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=v,s)}var II=Q.ReactCurrentOwner,Sn=!1;function pn(s,a,u,m){a.child=s===null?cx(a,null,u,m):Sl(a,s.child,u,m)}function $x(s,a,u,m,v){u=u.render;var E=a.ref;return Il(a,v),m=Z0(s,a,u,m,E,v),u=ep(),s!==null&&!Sn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~v,Ps(s,a,v)):(Qt&&u&&L0(a),a.flags|=1,pn(s,a,m,v),a.child)}function Hx(s,a,u,m,v){if(s===null){var E=u.type;return typeof E=="function"&&!bp(E)&&E.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=E,Gx(s,a,E,m,v)):(s=sh(u.type,null,m,a,a.mode,v),s.ref=a.ref,s.return=a,a.child=s)}if(E=s.child,(s.lanes&v)===0){var b=E.memoizedProps;if(u=u.compare,u=u!==null?u:Nc,u(b,m)&&s.ref===a.ref)return Ps(s,a,v)}return a.flags|=1,s=wo(E,m),s.ref=a.ref,s.return=a,a.child=s}function Gx(s,a,u,m,v){if(s!==null){var E=s.memoizedProps;if(Nc(E,m)&&s.ref===a.ref)if(Sn=!1,a.pendingProps=m=E,(s.lanes&v)!==0)(s.flags&131072)!==0&&(Sn=!0);else return a.lanes=s.lanes,Ps(s,a,v)}return cp(s,a,u,m,v)}function qx(s,a,u){var m=a.pendingProps,v=m.children,E=s!==null?s.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(bl,Un),Un|=u;else{if((u&1073741824)===0)return s=E!==null?E.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,zt(bl,Un),Un|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=E!==null?E.baseLanes:u,zt(bl,Un),Un|=m}else E!==null?(m=E.baseLanes|u,a.memoizedState=null):m=u,zt(bl,Un),Un|=m;return pn(s,a,v,u),a.child}function Kx(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function cp(s,a,u,m,v){var E=Tn(u)?da:en.current;return E=_l(a,E),Il(a,v),u=Z0(s,a,u,m,E,v),m=ep(),s!==null&&!Sn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~v,Ps(s,a,v)):(Qt&&m&&L0(a),a.flags|=1,pn(s,a,u,v),a.child)}function Xx(s,a,u,m,v){if(Tn(u)){var E=!0;bf(a)}else E=!1;if(Il(a,v),a.stateNode===null)Kf(s,a),Mx(a,u,m),op(a,u,m,v),m=!0;else if(s===null){var b=a.stateNode,X=a.memoizedProps;b.props=X;var Z=b.context,de=u.contextType;typeof de=="object"&&de!==null?de=ni(de):(de=Tn(u)?da:en.current,de=_l(a,de));var Re=u.getDerivedStateFromProps,Ne=typeof Re=="function"||typeof b.getSnapshotBeforeUpdate=="function";Ne||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(X!==m||Z!==de)&&jx(a,b,m,de),po=!1;var Ie=a.memoizedState;b.state=Ie,Bf(a,m,b,v),Z=a.memoizedState,X!==m||Ie!==Z||En.current||po?(typeof Re=="function"&&(sp(a,u,Re,m),Z=a.memoizedState),(X=po||Lx(a,u,X,m,Ie,Z,de))?(Ne||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=Z),b.props=m,b.state=Z,b.context=de,m=X):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{b=a.stateNode,fx(s,a),X=a.memoizedProps,de=a.type===a.elementType?X:Ci(a.type,X),b.props=de,Ne=a.pendingProps,Ie=b.context,Z=u.contextType,typeof Z=="object"&&Z!==null?Z=ni(Z):(Z=Tn(u)?da:en.current,Z=_l(a,Z));var $e=u.getDerivedStateFromProps;(Re=typeof $e=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(X!==Ne||Ie!==Z)&&jx(a,b,m,Z),po=!1,Ie=a.memoizedState,b.state=Ie,Bf(a,m,b,v);var qe=a.memoizedState;X!==Ne||Ie!==qe||En.current||po?(typeof $e=="function"&&(sp(a,u,$e,m),qe=a.memoizedState),(de=po||Lx(a,u,de,m,Ie,qe,Z)||!1)?(Re||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(m,qe,Z),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(m,qe,Z)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||X===s.memoizedProps&&Ie===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||X===s.memoizedProps&&Ie===s.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=qe),b.props=m,b.state=qe,b.context=Z,m=de):(typeof b.componentDidUpdate!="function"||X===s.memoizedProps&&Ie===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||X===s.memoizedProps&&Ie===s.memoizedState||(a.flags|=1024),m=!1)}return up(s,a,u,m,E,v)}function up(s,a,u,m,v,E){Kx(s,a);var b=(a.flags&128)!==0;if(!m&&!b)return v&&ex(a,u,!1),Ps(s,a,E);m=a.stateNode,II.current=a;var X=b&&typeof u.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,s!==null&&b?(a.child=Sl(a,s.child,null,E),a.child=Sl(a,null,X,E)):pn(s,a,X,E),a.memoizedState=m.state,v&&ex(a,u,!0),a.child}function Yx(s){var a=s.stateNode;a.pendingContext?J1(s,a.pendingContext,a.pendingContext!==a.context):a.context&&J1(s,a.context,!1),q0(s,a.containerInfo)}function Qx(s,a,u,m,v){return Tl(),V0(v),a.flags|=256,pn(s,a,u,m),a.child}var fp={dehydrated:null,treeContext:null,retryLane:0};function hp(s){return{baseLanes:s,cachePool:null,transitions:null}}function Jx(s,a,u){var m=a.pendingProps,v=rr.current,E=!1,b=(a.flags&128)!==0,X;if((X=b)||(X=s!==null&&s.memoizedState===null?!1:(v&2)!==0),X?(E=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(v|=1),zt(rr,v&1),s===null)return B0(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(b=m.children,s=m.fallback,E?(m=a.mode,E=a.child,b={mode:"hidden",children:b},(m&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=b):E=oh(b,m,0,null),s=Ta(s,m,u,null),E.return=a,s.return=a,E.sibling=s,a.child=E,a.child.memoizedState=hp(u),a.memoizedState=fp,s):dp(a,b));if(v=s.memoizedState,v!==null&&(X=v.dehydrated,X!==null))return CI(s,a,b,m,X,v,u);if(E){E=m.fallback,b=a.mode,v=s.child,X=v.sibling;var Z={mode:"hidden",children:m.children};return(b&1)===0&&a.child!==v?(m=a.child,m.childLanes=0,m.pendingProps=Z,a.deletions=null):(m=wo(v,Z),m.subtreeFlags=v.subtreeFlags&14680064),X!==null?E=wo(X,E):(E=Ta(E,b,u,null),E.flags|=2),E.return=a,m.return=a,m.sibling=E,a.child=m,m=E,E=a.child,b=s.child.memoizedState,b=b===null?hp(u):{baseLanes:b.baseLanes|u,cachePool:null,transitions:b.transitions},E.memoizedState=b,E.childLanes=s.childLanes&~u,a.memoizedState=fp,m}return E=s.child,s=E.sibling,m=wo(E,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=u),m.return=a,m.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=m,a.memoizedState=null,m}function dp(s,a){return a=oh({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function qf(s,a,u,m){return m!==null&&V0(m),Sl(a,s.child,null,u),s=dp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function CI(s,a,u,m,v,E,b){if(u)return a.flags&256?(a.flags&=-257,m=ap(Error(t(422))),qf(s,a,b,m)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(E=m.fallback,v=a.mode,m=oh({mode:"visible",children:m.children},v,0,null),E=Ta(E,v,b,null),E.flags|=2,m.return=a,E.return=a,m.sibling=E,a.child=m,(a.mode&1)!==0&&Sl(a,s.child,null,b),a.child.memoizedState=hp(b),a.memoizedState=fp,E);if((a.mode&1)===0)return qf(s,a,b,null);if(v.data==="$!"){if(m=v.nextSibling&&v.nextSibling.dataset,m)var X=m.dgst;return m=X,E=Error(t(419)),m=ap(E,m,void 0),qf(s,a,b,m)}if(X=(b&s.childLanes)!==0,Sn||X){if(m=Dr,m!==null){switch(b&-b){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(m.suspendedLanes|b))!==0?0:v,v!==0&&v!==E.retryLane&&(E.retryLane=v,ks(s,v),bi(m,s,v,-1))}return kp(),m=ap(Error(t(421))),qf(s,a,b,m)}return v.data==="$?"?(a.flags|=128,a.child=s.child,a=VI.bind(null,s),v._reactRetry=a,null):(s=E.treeContext,Vn=co(v.nextSibling),Bn=a,Qt=!0,Ii=null,s!==null&&(ti[ri++]=Cs,ti[ri++]=Rs,ti[ri++]=pa,Cs=s.id,Rs=s.overflow,pa=a),a=dp(a,m.children),a.flags|=4096,a)}function Zx(s,a,u){s.lanes|=a;var m=s.alternate;m!==null&&(m.lanes|=a),$0(s.return,a,u)}function pp(s,a,u,m,v){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:v}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=m,E.tail=u,E.tailMode=v)}function ey(s,a,u){var m=a.pendingProps,v=m.revealOrder,E=m.tail;if(pn(s,a,m.children,u),m=rr.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Zx(s,u,a);else if(s.tag===19)Zx(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(zt(rr,m),(a.mode&1)===0)a.memoizedState=null;else switch(v){case"forwards":for(u=a.child,v=null;u!==null;)s=u.alternate,s!==null&&Vf(s)===null&&(v=u),u=u.sibling;u=v,u===null?(v=a.child,a.child=null):(v=u.sibling,u.sibling=null),pp(a,!1,v,u,E);break;case"backwards":for(u=null,v=a.child,a.child=null;v!==null;){if(s=v.alternate,s!==null&&Vf(s)===null){a.child=v;break}s=v.sibling,v.sibling=u,u=v,v=s}pp(a,!0,u,null,E);break;case"together":pp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Kf(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Ps(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),va|=a.lanes,(u&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,u=wo(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=wo(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function RI(s,a,u){switch(a.tag){case 3:Yx(a),Tl();break;case 5:px(a);break;case 1:Tn(a.type)&&bf(a);break;case 4:q0(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,v=a.memoizedProps.value;zt(Lf,m._currentValue),m._currentValue=v;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(zt(rr,rr.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?Jx(s,a,u):(zt(rr,rr.current&1),s=Ps(s,a,u),s!==null?s.sibling:null);zt(rr,rr.current&1);break;case 19:if(m=(u&a.childLanes)!==0,(s.flags&128)!==0){if(m)return ey(s,a,u);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),zt(rr,rr.current),m)break;return null;case 22:case 23:return a.lanes=0,qx(s,a,u)}return Ps(s,a,u)}var ty,gp,ry,ny;ty=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},gp=function(){},ry=function(s,a,u,m){var v=s.memoizedProps;if(v!==m){s=a.stateNode,xa(Zi.current);var E=null;switch(u){case"input":v=Ze(s,v),m=Ze(s,m),E=[];break;case"select":v=Ae({},v,{value:void 0}),m=Ae({},m,{value:void 0}),E=[];break;case"textarea":v=bt(s,v),m=bt(s,m),E=[];break;default:typeof v.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=Cf)}ta(u,m);var b;u=null;for(de in v)if(!m.hasOwnProperty(de)&&v.hasOwnProperty(de)&&v[de]!=null)if(de==="style"){var X=v[de];for(b in X)X.hasOwnProperty(b)&&(u||(u={}),u[b]="")}else de!=="dangerouslySetInnerHTML"&&de!=="children"&&de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&de!=="autoFocus"&&(i.hasOwnProperty(de)?E||(E=[]):(E=E||[]).push(de,null));for(de in m){var Z=m[de];if(X=v?.[de],m.hasOwnProperty(de)&&Z!==X&&(Z!=null||X!=null))if(de==="style")if(X){for(b in X)!X.hasOwnProperty(b)||Z&&Z.hasOwnProperty(b)||(u||(u={}),u[b]="");for(b in Z)Z.hasOwnProperty(b)&&X[b]!==Z[b]&&(u||(u={}),u[b]=Z[b])}else u||(E||(E=[]),E.push(de,u)),u=Z;else de==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,X=X?X.__html:void 0,Z!=null&&X!==Z&&(E=E||[]).push(de,Z)):de==="children"?typeof Z!="string"&&typeof Z!="number"||(E=E||[]).push(de,""+Z):de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&(i.hasOwnProperty(de)?(Z!=null&&de==="onScroll"&&Ht("scroll",s),E||X===Z||(E=[])):(E=E||[]).push(de,Z))}u&&(E=E||[]).push("style",u);var de=E;(a.updateQueue=de)&&(a.flags|=4)}},ny=function(s,a,u,m){u!==m&&(a.flags|=4)};function qc(s,a){if(!Qt)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function rn(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,m=0;if(a)for(var v=s.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags&14680064,m|=v.flags&14680064,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=m,s.childLanes=u,a}function kI(s,a,u){var m=a.pendingProps;switch(M0(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(a),null;case 1:return Tn(a.type)&&kf(),rn(a),null;case 3:return m=a.stateNode,Cl(),Gt(En),Gt(en),Y0(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Of(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ii!==null&&(Ip(Ii),Ii=null))),gp(s,a),rn(a),null;case 5:K0(a);var v=xa(zc.current);if(u=a.type,s!==null&&a.stateNode!=null)ry(s,a,u,m,v),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(t(166));return rn(a),null}if(s=xa(Zi.current),Of(a)){m=a.stateNode,u=a.type;var E=a.memoizedProps;switch(m[Ji]=a,m[Mc]=E,s=(a.mode&1)!==0,u){case"dialog":Ht("cancel",m),Ht("close",m);break;case"iframe":case"object":case"embed":Ht("load",m);break;case"video":case"audio":for(v=0;v<Oc.length;v++)Ht(Oc[v],m);break;case"source":Ht("error",m);break;case"img":case"image":case"link":Ht("error",m),Ht("load",m);break;case"details":Ht("toggle",m);break;case"input":it(m,E),Ht("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!E.multiple},Ht("invalid",m);break;case"textarea":fn(m,E),Ht("invalid",m)}ta(u,E),v=null;for(var b in E)if(E.hasOwnProperty(b)){var X=E[b];b==="children"?typeof X=="string"?m.textContent!==X&&(E.suppressHydrationWarning!==!0&&If(m.textContent,X,s),v=["children",X]):typeof X=="number"&&m.textContent!==""+X&&(E.suppressHydrationWarning!==!0&&If(m.textContent,X,s),v=["children",""+X]):i.hasOwnProperty(b)&&X!=null&&b==="onScroll"&&Ht("scroll",m)}switch(u){case"input":Qe(m),mt(m,E,!0);break;case"textarea":Qe(m),zi(m);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(m.onclick=Cf)}m=v,a.updateQueue=m,m!==null&&(a.flags|=4)}else{b=v.nodeType===9?v:v.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Zt(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=b.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=b.createElement(u,{is:m.is}):(s=b.createElement(u),u==="select"&&(b=s,m.multiple?b.multiple=!0:m.size&&(b.size=m.size))):s=b.createElementNS(s,u),s[Ji]=a,s[Mc]=m,ty(s,a,!1,!1),a.stateNode=s;e:{switch(b=ra(u,m),u){case"dialog":Ht("cancel",s),Ht("close",s),v=m;break;case"iframe":case"object":case"embed":Ht("load",s),v=m;break;case"video":case"audio":for(v=0;v<Oc.length;v++)Ht(Oc[v],s);v=m;break;case"source":Ht("error",s),v=m;break;case"img":case"image":case"link":Ht("error",s),Ht("load",s),v=m;break;case"details":Ht("toggle",s),v=m;break;case"input":it(s,m),v=Ze(s,m),Ht("invalid",s);break;case"option":v=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},v=Ae({},m,{value:void 0}),Ht("invalid",s);break;case"textarea":fn(s,m),v=bt(s,m),Ht("invalid",s);break;default:v=m}ta(u,v),X=v;for(E in X)if(X.hasOwnProperty(E)){var Z=X[E];E==="style"?Xs(s,Z):E==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&ea(s,Z)):E==="children"?typeof Z=="string"?(u!=="textarea"||Z!=="")&&mi(s,Z):typeof Z=="number"&&mi(s,""+Z):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?Z!=null&&E==="onScroll"&&Ht("scroll",s):Z!=null&&F(s,E,Z,b))}switch(u){case"input":Qe(s),mt(s,m,!1);break;case"textarea":Qe(s),zi(s);break;case"option":m.value!=null&&s.setAttribute("value",""+ke(m.value));break;case"select":s.multiple=!!m.multiple,E=m.value,E!=null?Jt(s,!!m.multiple,E,!1):m.defaultValue!=null&&Jt(s,!!m.multiple,m.defaultValue,!0);break;default:typeof v.onClick=="function"&&(s.onclick=Cf)}switch(u){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return rn(a),null;case 6:if(s&&a.stateNode!=null)ny(s,a,s.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(t(166));if(u=xa(zc.current),xa(Zi.current),Of(a)){if(m=a.stateNode,u=a.memoizedProps,m[Ji]=a,(E=m.nodeValue!==u)&&(s=Bn,s!==null))switch(s.tag){case 3:If(m.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&If(m.nodeValue,u,(s.mode&1)!==0)}E&&(a.flags|=4)}else m=(u.nodeType===9?u:u.ownerDocument).createTextNode(m),m[Ji]=a,a.stateNode=m}return rn(a),null;case 13:if(Gt(rr),m=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Qt&&Vn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)ox(),Tl(),a.flags|=98560,E=!1;else if(E=Of(a),m!==null&&m.dehydrated!==null){if(s===null){if(!E)throw Error(t(318));if(E=a.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(t(317));E[Ji]=a}else Tl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;rn(a),E=!1}else Ii!==null&&(Ip(Ii),Ii=null),E=!0;if(!E)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(rr.current&1)!==0?Cr===0&&(Cr=3):kp())),a.updateQueue!==null&&(a.flags|=4),rn(a),null);case 4:return Cl(),gp(s,a),s===null&&Fc(a.stateNode.containerInfo),rn(a),null;case 10:return W0(a.type._context),rn(a),null;case 17:return Tn(a.type)&&kf(),rn(a),null;case 19:if(Gt(rr),E=a.memoizedState,E===null)return rn(a),null;if(m=(a.flags&128)!==0,b=E.rendering,b===null)if(m)qc(E,!1);else{if(Cr!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(b=Vf(s),b!==null){for(a.flags|=128,qc(E,!1),m=b.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=u,u=a.child;u!==null;)E=u,s=m,E.flags&=14680066,b=E.alternate,b===null?(E.childLanes=0,E.lanes=s,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=b.childLanes,E.lanes=b.lanes,E.child=b.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=b.memoizedProps,E.memoizedState=b.memoizedState,E.updateQueue=b.updateQueue,E.type=b.type,s=b.dependencies,E.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return zt(rr,rr.current&1|2),a.child}s=s.sibling}E.tail!==null&&Pe()>Pl&&(a.flags|=128,m=!0,qc(E,!1),a.lanes=4194304)}else{if(!m)if(s=Vf(b),s!==null){if(a.flags|=128,m=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),qc(E,!0),E.tail===null&&E.tailMode==="hidden"&&!b.alternate&&!Qt)return rn(a),null}else 2*Pe()-E.renderingStartTime>Pl&&u!==1073741824&&(a.flags|=128,m=!0,qc(E,!1),a.lanes=4194304);E.isBackwards?(b.sibling=a.child,a.child=b):(u=E.last,u!==null?u.sibling=b:a.child=b,E.last=b)}return E.tail!==null?(a=E.tail,E.rendering=a,E.tail=a.sibling,E.renderingStartTime=Pe(),a.sibling=null,u=rr.current,zt(rr,m?u&1|2:u&1),a):(rn(a),null);case 22:case 23:return Rp(),m=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(Un&1073741824)!==0&&(rn(a),a.subtreeFlags&6&&(a.flags|=8192)):rn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function bI(s,a){switch(M0(a),a.tag){case 1:return Tn(a.type)&&kf(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Cl(),Gt(En),Gt(en),Y0(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return K0(a),null;case 13:if(Gt(rr),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Tl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Gt(rr),null;case 4:return Cl(),null;case 10:return W0(a.type._context),null;case 22:case 23:return Rp(),null;case 24:return null;default:return null}}var Xf=!1,nn=!1,PI=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function kl(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){sr(s,a,m)}else u.current=null}function mp(s,a,u){try{u()}catch(m){sr(s,a,m)}}var iy=!1;function NI(s,a){if(R0=oo,s=L1(),_0(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var v=m.anchorOffset,E=m.focusNode;m=m.focusOffset;try{u.nodeType,E.nodeType}catch{u=null;break e}var b=0,X=-1,Z=-1,de=0,Re=0,Ne=s,Ie=null;t:for(;;){for(var $e;Ne!==u||v!==0&&Ne.nodeType!==3||(X=b+v),Ne!==E||m!==0&&Ne.nodeType!==3||(Z=b+m),Ne.nodeType===3&&(b+=Ne.nodeValue.length),($e=Ne.firstChild)!==null;)Ie=Ne,Ne=$e;for(;;){if(Ne===s)break t;if(Ie===u&&++de===v&&(X=b),Ie===E&&++Re===m&&(Z=b),($e=Ne.nextSibling)!==null)break;Ne=Ie,Ie=Ne.parentNode}Ne=$e}u=X===-1||Z===-1?null:{start:X,end:Z}}else u=null}u=u||{start:0,end:0}}else u=null;for(k0={focusedElem:s,selectionRange:u},oo=!1,Ge=a;Ge!==null;)if(a=Ge,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ge=s;else for(;Ge!==null;){a=Ge;try{var qe=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(qe!==null){var Xe=qe.memoizedProps,ur=qe.memoizedState,oe=a.stateNode,te=oe.getSnapshotBeforeUpdate(a.elementType===a.type?Xe:Ci(a.type,Xe),ur);oe.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var ce=a.stateNode.containerInfo;ce.nodeType===1?ce.textContent="":ce.nodeType===9&&ce.documentElement&&ce.removeChild(ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Fe){sr(a,a.return,Fe)}if(s=a.sibling,s!==null){s.return=a.return,Ge=s;break}Ge=a.return}return qe=iy,iy=!1,qe}function Kc(s,a,u){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var v=m=m.next;do{if((v.tag&s)===s){var E=v.destroy;v.destroy=void 0,E!==void 0&&mp(a,u,E)}v=v.next}while(v!==m)}}function Yf(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var m=u.create;u.destroy=m()}u=u.next}while(u!==a)}}function xp(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function sy(s){var a=s.alternate;a!==null&&(s.alternate=null,sy(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Ji],delete a[Mc],delete a[D0],delete a[pI],delete a[gI])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function oy(s){return s.tag===5||s.tag===3||s.tag===4}function ay(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||oy(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function yp(s,a,u){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Cf));else if(m!==4&&(s=s.child,s!==null))for(yp(s,a,u),s=s.sibling;s!==null;)yp(s,a,u),s=s.sibling}function vp(s,a,u){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(vp(s,a,u),s=s.sibling;s!==null;)vp(s,a,u),s=s.sibling}var Wr=null,Ri=!1;function mo(s,a,u){for(u=u.child;u!==null;)ly(s,a,u),u=u.sibling}function ly(s,a,u){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(Fn,u)}catch{}switch(u.tag){case 5:nn||kl(u,a);case 6:var m=Wr,v=Ri;Wr=null,mo(s,a,u),Wr=m,Ri=v,Wr!==null&&(Ri?(s=Wr,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Wr.removeChild(u.stateNode));break;case 18:Wr!==null&&(Ri?(s=Wr,u=u.stateNode,s.nodeType===8?N0(s.parentNode,u):s.nodeType===1&&N0(s,u),Ti(s)):N0(Wr,u.stateNode));break;case 4:m=Wr,v=Ri,Wr=u.stateNode.containerInfo,Ri=!0,mo(s,a,u),Wr=m,Ri=v;break;case 0:case 11:case 14:case 15:if(!nn&&(m=u.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){v=m=m.next;do{var E=v,b=E.destroy;E=E.tag,b!==void 0&&((E&2)!==0||(E&4)!==0)&&mp(u,a,b),v=v.next}while(v!==m)}mo(s,a,u);break;case 1:if(!nn&&(kl(u,a),m=u.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=u.memoizedProps,m.state=u.memoizedState,m.componentWillUnmount()}catch(X){sr(u,a,X)}mo(s,a,u);break;case 21:mo(s,a,u);break;case 22:u.mode&1?(nn=(m=nn)||u.memoizedState!==null,mo(s,a,u),nn=m):mo(s,a,u);break;default:mo(s,a,u)}}function cy(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new PI),a.forEach(function(m){var v=UI.bind(null,s,m);u.has(m)||(u.add(m),m.then(v,v))})}}function ki(s,a){var u=a.deletions;if(u!==null)for(var m=0;m<u.length;m++){var v=u[m];try{var E=s,b=a,X=b;e:for(;X!==null;){switch(X.tag){case 5:Wr=X.stateNode,Ri=!1;break e;case 3:Wr=X.stateNode.containerInfo,Ri=!0;break e;case 4:Wr=X.stateNode.containerInfo,Ri=!0;break e}X=X.return}if(Wr===null)throw Error(t(160));ly(E,b,v),Wr=null,Ri=!1;var Z=v.alternate;Z!==null&&(Z.return=null),v.return=null}catch(de){sr(v,a,de)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)uy(a,s),a=a.sibling}function uy(s,a){var u=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ki(a,s),ts(s),m&4){try{Kc(3,s,s.return),Yf(3,s)}catch(Xe){sr(s,s.return,Xe)}try{Kc(5,s,s.return)}catch(Xe){sr(s,s.return,Xe)}}break;case 1:ki(a,s),ts(s),m&512&&u!==null&&kl(u,u.return);break;case 5:if(ki(a,s),ts(s),m&512&&u!==null&&kl(u,u.return),s.flags&32){var v=s.stateNode;try{mi(v,"")}catch(Xe){sr(s,s.return,Xe)}}if(m&4&&(v=s.stateNode,v!=null)){var E=s.memoizedProps,b=u!==null?u.memoizedProps:E,X=s.type,Z=s.updateQueue;if(s.updateQueue=null,Z!==null)try{X==="input"&&E.type==="radio"&&E.name!=null&&et(v,E),ra(X,b);var de=ra(X,E);for(b=0;b<Z.length;b+=2){var Re=Z[b],Ne=Z[b+1];Re==="style"?Xs(v,Ne):Re==="dangerouslySetInnerHTML"?ea(v,Ne):Re==="children"?mi(v,Ne):F(v,Re,Ne,de)}switch(X){case"input":Ue(v,E);break;case"textarea":Br(v,E);break;case"select":var Ie=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!E.multiple;var $e=E.value;$e!=null?Jt(v,!!E.multiple,$e,!1):Ie!==!!E.multiple&&(E.defaultValue!=null?Jt(v,!!E.multiple,E.defaultValue,!0):Jt(v,!!E.multiple,E.multiple?[]:"",!1))}v[Mc]=E}catch(Xe){sr(s,s.return,Xe)}}break;case 6:if(ki(a,s),ts(s),m&4){if(s.stateNode===null)throw Error(t(162));v=s.stateNode,E=s.memoizedProps;try{v.nodeValue=E}catch(Xe){sr(s,s.return,Xe)}}break;case 3:if(ki(a,s),ts(s),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Ti(a.containerInfo)}catch(Xe){sr(s,s.return,Xe)}break;case 4:ki(a,s),ts(s);break;case 13:ki(a,s),ts(s),v=s.child,v.flags&8192&&(E=v.memoizedState!==null,v.stateNode.isHidden=E,!E||v.alternate!==null&&v.alternate.memoizedState!==null||(Ep=Pe())),m&4&&cy(s);break;case 22:if(Re=u!==null&&u.memoizedState!==null,s.mode&1?(nn=(de=nn)||Re,ki(a,s),nn=de):ki(a,s),ts(s),m&8192){if(de=s.memoizedState!==null,(s.stateNode.isHidden=de)&&!Re&&(s.mode&1)!==0)for(Ge=s,Re=s.child;Re!==null;){for(Ne=Ge=Re;Ge!==null;){switch(Ie=Ge,$e=Ie.child,Ie.tag){case 0:case 11:case 14:case 15:Kc(4,Ie,Ie.return);break;case 1:kl(Ie,Ie.return);var qe=Ie.stateNode;if(typeof qe.componentWillUnmount=="function"){m=Ie,u=Ie.return;try{a=m,qe.props=a.memoizedProps,qe.state=a.memoizedState,qe.componentWillUnmount()}catch(Xe){sr(m,u,Xe)}}break;case 5:kl(Ie,Ie.return);break;case 22:if(Ie.memoizedState!==null){dy(Ne);continue}}$e!==null?($e.return=Ie,Ge=$e):dy(Ne)}Re=Re.sibling}e:for(Re=null,Ne=s;;){if(Ne.tag===5){if(Re===null){Re=Ne;try{v=Ne.stateNode,de?(E=v.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(X=Ne.stateNode,Z=Ne.memoizedProps.style,b=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,X.style.display=Ks("display",b))}catch(Xe){sr(s,s.return,Xe)}}}else if(Ne.tag===6){if(Re===null)try{Ne.stateNode.nodeValue=de?"":Ne.memoizedProps}catch(Xe){sr(s,s.return,Xe)}}else if((Ne.tag!==22&&Ne.tag!==23||Ne.memoizedState===null||Ne===s)&&Ne.child!==null){Ne.child.return=Ne,Ne=Ne.child;continue}if(Ne===s)break e;for(;Ne.sibling===null;){if(Ne.return===null||Ne.return===s)break e;Re===Ne&&(Re=null),Ne=Ne.return}Re===Ne&&(Re=null),Ne.sibling.return=Ne.return,Ne=Ne.sibling}}break;case 19:ki(a,s),ts(s),m&4&&cy(s);break;case 21:break;default:ki(a,s),ts(s)}}function ts(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(oy(u)){var m=u;break e}u=u.return}throw Error(t(160))}switch(m.tag){case 5:var v=m.stateNode;m.flags&32&&(mi(v,""),m.flags&=-33);var E=ay(s);vp(s,E,v);break;case 3:case 4:var b=m.stateNode.containerInfo,X=ay(s);yp(s,X,b);break;default:throw Error(t(161))}}catch(Z){sr(s,s.return,Z)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function DI(s,a,u){Ge=s,fy(s)}function fy(s,a,u){for(var m=(s.mode&1)!==0;Ge!==null;){var v=Ge,E=v.child;if(v.tag===22&&m){var b=v.memoizedState!==null||Xf;if(!b){var X=v.alternate,Z=X!==null&&X.memoizedState!==null||nn;X=Xf;var de=nn;if(Xf=b,(nn=Z)&&!de)for(Ge=v;Ge!==null;)b=Ge,Z=b.child,b.tag===22&&b.memoizedState!==null?py(v):Z!==null?(Z.return=b,Ge=Z):py(v);for(;E!==null;)Ge=E,fy(E),E=E.sibling;Ge=v,Xf=X,nn=de}hy(s)}else(v.subtreeFlags&8772)!==0&&E!==null?(E.return=v,Ge=E):hy(s)}}function hy(s){for(;Ge!==null;){var a=Ge;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:nn||Yf(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!nn)if(u===null)m.componentDidMount();else{var v=a.elementType===a.type?u.memoizedProps:Ci(a.type,u.memoizedProps);m.componentDidUpdate(v,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var E=a.updateQueue;E!==null&&dx(a,E,m);break;case 3:var b=a.updateQueue;if(b!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}dx(a,b,u)}break;case 5:var X=a.stateNode;if(u===null&&a.flags&4){u=X;var Z=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&u.focus();break;case"img":Z.src&&(u.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var de=a.alternate;if(de!==null){var Re=de.memoizedState;if(Re!==null){var Ne=Re.dehydrated;Ne!==null&&Ti(Ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}nn||a.flags&512&&xp(a)}catch(Ie){sr(a,a.return,Ie)}}if(a===s){Ge=null;break}if(u=a.sibling,u!==null){u.return=a.return,Ge=u;break}Ge=a.return}}function dy(s){for(;Ge!==null;){var a=Ge;if(a===s){Ge=null;break}var u=a.sibling;if(u!==null){u.return=a.return,Ge=u;break}Ge=a.return}}function py(s){for(;Ge!==null;){var a=Ge;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{Yf(4,a)}catch(Z){sr(a,u,Z)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var v=a.return;try{m.componentDidMount()}catch(Z){sr(a,v,Z)}}var E=a.return;try{xp(a)}catch(Z){sr(a,E,Z)}break;case 5:var b=a.return;try{xp(a)}catch(Z){sr(a,b,Z)}}}catch(Z){sr(a,a.return,Z)}if(a===s){Ge=null;break}var X=a.sibling;if(X!==null){X.return=a.return,Ge=X;break}Ge=a.return}}var OI=Math.ceil,Qf=Q.ReactCurrentDispatcher,_p=Q.ReactCurrentOwner,si=Q.ReactCurrentBatchConfig,Tt=0,Dr=null,mr=null,$r=0,Un=0,bl=uo(0),Cr=0,Xc=null,va=0,Jf=0,wp=0,Yc=null,An=null,Ep=0,Pl=1/0,Ns=null,Zf=!1,Tp=null,xo=null,eh=!1,yo=null,th=0,Qc=0,Sp=null,rh=-1,nh=0;function gn(){return(Tt&6)!==0?Pe():rh!==-1?rh:rh=Pe()}function vo(s){return(s.mode&1)===0?1:(Tt&2)!==0&&$r!==0?$r&-$r:xI.transition!==null?(nh===0&&(nh=aa()),nh):(s=_t,s!==0||(s=window.event,s=s===void 0?16:Ac(s.type)),s)}function bi(s,a,u,m){if(50<Qc)throw Qc=0,Sp=null,Error(t(185));ro(s,u,m),((Tt&2)===0||s!==Dr)&&(s===Dr&&((Tt&2)===0&&(Jf|=u),Cr===4&&_o(s,$r)),In(s,m),u===1&&Tt===0&&(a.mode&1)===0&&(Pl=Pe()+500,Pf&&ho()))}function In(s,a){var u=s.callbackNode;_s(s,a);var m=oa(s,s===Dr?$r:0);if(m===0)u!==null&&je(u),s.callbackNode=null,s.callbackPriority=0;else if(a=m&-m,s.callbackPriority!==a){if(u!=null&&je(u),a===1)s.tag===0?mI(my.bind(null,s)):tx(my.bind(null,s)),hI(function(){(Tt&6)===0&&ho()}),u=null;else{switch(io(m)){case 1:u=Rt;break;case 4:u=St;break;case 16:u=Nt;break;case 536870912:u=Gi;break;default:u=Nt}u=Sy(u,gy.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function gy(s,a){if(rh=-1,nh=0,(Tt&6)!==0)throw Error(t(327));var u=s.callbackNode;if(Nl()&&s.callbackNode!==u)return null;var m=oa(s,s===Dr?$r:0);if(m===0)return null;if((m&30)!==0||(m&s.expiredLanes)!==0||a)a=ih(s,m);else{a=m;var v=Tt;Tt|=2;var E=yy();(Dr!==s||$r!==a)&&(Ns=null,Pl=Pe()+500,wa(s,a));do try{MI();break}catch(X){xy(s,X)}while(!0);z0(),Qf.current=E,Tt=v,mr!==null?a=0:(Dr=null,$r=0,a=Cr)}if(a!==0){if(a===2&&(v=Ln(s),v!==0&&(m=v,a=Ap(s,v))),a===1)throw u=Xc,wa(s,0),_o(s,m),In(s,Pe()),u;if(a===6)_o(s,m);else{if(v=s.current.alternate,(m&30)===0&&!FI(v)&&(a=ih(s,m),a===2&&(E=Ln(s),E!==0&&(m=E,a=Ap(s,E))),a===1))throw u=Xc,wa(s,0),_o(s,m),In(s,Pe()),u;switch(s.finishedWork=v,s.finishedLanes=m,a){case 0:case 1:throw Error(t(345));case 2:Ea(s,An,Ns);break;case 3:if(_o(s,m),(m&130023424)===m&&(a=Ep+500-Pe(),10<a)){if(oa(s,0)!==0)break;if(v=s.suspendedLanes,(v&m)!==m){gn(),s.pingedLanes|=s.suspendedLanes&v;break}s.timeoutHandle=P0(Ea.bind(null,s,An,Ns),a);break}Ea(s,An,Ns);break;case 4:if(_o(s,m),(m&4194240)===m)break;for(a=s.eventTimes,v=-1;0<m;){var b=31-$t(m);E=1<<b,b=a[b],b>v&&(v=b),m&=~E}if(m=v,m=Pe()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*OI(m/1960))-m,10<m){s.timeoutHandle=P0(Ea.bind(null,s,An,Ns),m);break}Ea(s,An,Ns);break;case 5:Ea(s,An,Ns);break;default:throw Error(t(329))}}}return In(s,Pe()),s.callbackNode===u?gy.bind(null,s):null}function Ap(s,a){var u=Yc;return s.current.memoizedState.isDehydrated&&(wa(s,a).flags|=256),s=ih(s,a),s!==2&&(a=An,An=u,a!==null&&Ip(a)),s}function Ip(s){An===null?An=s:An.push.apply(An,s)}function FI(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var v=u[m],E=v.getSnapshot;v=v.value;try{if(!Ai(E(),v))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function _o(s,a){for(a&=~wp,a&=~Jf,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-$t(a),m=1<<u;s[u]=-1,a&=~m}}function my(s){if((Tt&6)!==0)throw Error(t(327));Nl();var a=oa(s,0);if((a&1)===0)return In(s,Pe()),null;var u=ih(s,a);if(s.tag!==0&&u===2){var m=Ln(s);m!==0&&(a=m,u=Ap(s,m))}if(u===1)throw u=Xc,wa(s,0),_o(s,a),In(s,Pe()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Ea(s,An,Ns),In(s,Pe()),null}function Cp(s,a){var u=Tt;Tt|=1;try{return s(a)}finally{Tt=u,Tt===0&&(Pl=Pe()+500,Pf&&ho())}}function _a(s){yo!==null&&yo.tag===0&&(Tt&6)===0&&Nl();var a=Tt;Tt|=1;var u=si.transition,m=_t;try{if(si.transition=null,_t=1,s)return s()}finally{_t=m,si.transition=u,Tt=a,(Tt&6)===0&&ho()}}function Rp(){Un=bl.current,Gt(bl)}function wa(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,fI(u)),mr!==null)for(u=mr.return;u!==null;){var m=u;switch(M0(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&kf();break;case 3:Cl(),Gt(En),Gt(en),Y0();break;case 5:K0(m);break;case 4:Cl();break;case 13:Gt(rr);break;case 19:Gt(rr);break;case 10:W0(m.type._context);break;case 22:case 23:Rp()}u=u.return}if(Dr=s,mr=s=wo(s.current,null),$r=Un=a,Cr=0,Xc=null,wp=Jf=va=0,An=Yc=null,ma!==null){for(a=0;a<ma.length;a++)if(u=ma[a],m=u.interleaved,m!==null){u.interleaved=null;var v=m.next,E=u.pending;if(E!==null){var b=E.next;E.next=v,m.next=b}u.pending=m}ma=null}return s}function xy(s,a){do{var u=mr;try{if(z0(),Uf.current=Hf,zf){for(var m=nr.memoizedState;m!==null;){var v=m.queue;v!==null&&(v.pending=null),m=m.next}zf=!1}if(ya=0,Nr=Ir=nr=null,Wc=!1,$c=0,_p.current=null,u===null||u.return===null){Cr=1,Xc=a,mr=null;break}e:{var E=s,b=u.return,X=u,Z=a;if(a=$r,X.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var de=Z,Re=X,Ne=Re.tag;if((Re.mode&1)===0&&(Ne===0||Ne===11||Ne===15)){var Ie=Re.alternate;Ie?(Re.updateQueue=Ie.updateQueue,Re.memoizedState=Ie.memoizedState,Re.lanes=Ie.lanes):(Re.updateQueue=null,Re.memoizedState=null)}var $e=zx(b);if($e!==null){$e.flags&=-257,Wx($e,b,X,E,a),$e.mode&1&&Ux(E,de,a),a=$e,Z=de;var qe=a.updateQueue;if(qe===null){var Xe=new Set;Xe.add(Z),a.updateQueue=Xe}else qe.add(Z);break e}else{if((a&1)===0){Ux(E,de,a),kp();break e}Z=Error(t(426))}}else if(Qt&&X.mode&1){var ur=zx(b);if(ur!==null){(ur.flags&65536)===0&&(ur.flags|=256),Wx(ur,b,X,E,a),V0(Rl(Z,X));break e}}E=Z=Rl(Z,X),Cr!==4&&(Cr=2),Yc===null?Yc=[E]:Yc.push(E),E=b;do{switch(E.tag){case 3:E.flags|=65536,a&=-a,E.lanes|=a;var oe=Bx(E,Z,a);hx(E,oe);break e;case 1:X=Z;var te=E.type,ce=E.stateNode;if((E.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(xo===null||!xo.has(ce)))){E.flags|=65536,a&=-a,E.lanes|=a;var Fe=Vx(E,X,a);hx(E,Fe);break e}}E=E.return}while(E!==null)}_y(u)}catch(Ye){a=Ye,mr===u&&u!==null&&(mr=u=u.return);continue}break}while(!0)}function yy(){var s=Qf.current;return Qf.current=Hf,s===null?Hf:s}function kp(){(Cr===0||Cr===3||Cr===2)&&(Cr=4),Dr===null||(va&268435455)===0&&(Jf&268435455)===0||_o(Dr,$r)}function ih(s,a){var u=Tt;Tt|=2;var m=yy();(Dr!==s||$r!==a)&&(Ns=null,wa(s,a));do try{LI();break}catch(v){xy(s,v)}while(!0);if(z0(),Tt=u,Qf.current=m,mr!==null)throw Error(t(261));return Dr=null,$r=0,Cr}function LI(){for(;mr!==null;)vy(mr)}function MI(){for(;mr!==null&&!We();)vy(mr)}function vy(s){var a=Ty(s.alternate,s,Un);s.memoizedProps=s.pendingProps,a===null?_y(s):mr=a,_p.current=null}function _y(s){var a=s;do{var u=a.alternate;if(s=a.return,(a.flags&32768)===0){if(u=kI(u,a,Un),u!==null){mr=u;return}}else{if(u=bI(u,a),u!==null){u.flags&=32767,mr=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Cr=6,mr=null;return}}if(a=a.sibling,a!==null){mr=a;return}mr=a=s}while(a!==null);Cr===0&&(Cr=5)}function Ea(s,a,u){var m=_t,v=si.transition;try{si.transition=null,_t=1,jI(s,a,u,m)}finally{si.transition=v,_t=m}return null}function jI(s,a,u,m){do Nl();while(yo!==null);if((Tt&6)!==0)throw Error(t(327));u=s.finishedWork;var v=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var E=u.lanes|u.childLanes;if(Ut(s,E),s===Dr&&(mr=Dr=null,$r=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||eh||(eh=!0,Sy(Nt,function(){return Nl(),null})),E=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||E){E=si.transition,si.transition=null;var b=_t;_t=1;var X=Tt;Tt|=4,_p.current=null,NI(s,u),uy(u,s),iI(k0),oo=!!R0,k0=R0=null,s.current=u,DI(u),Oe(),Tt=X,_t=b,si.transition=E}else s.current=u;if(eh&&(eh=!1,yo=s,th=v),E=s.pendingLanes,E===0&&(xo=null),Zs(u.stateNode),In(s,Pe()),a!==null)for(m=s.onRecoverableError,u=0;u<a.length;u++)v=a[u],m(v.value,{componentStack:v.stack,digest:v.digest});if(Zf)throw Zf=!1,s=Tp,Tp=null,s;return(th&1)!==0&&s.tag!==0&&Nl(),E=s.pendingLanes,(E&1)!==0?s===Sp?Qc++:(Qc=0,Sp=s):Qc=0,ho(),null}function Nl(){if(yo!==null){var s=io(th),a=si.transition,u=_t;try{if(si.transition=null,_t=16>s?16:s,yo===null)var m=!1;else{if(s=yo,yo=null,th=0,(Tt&6)!==0)throw Error(t(331));var v=Tt;for(Tt|=4,Ge=s.current;Ge!==null;){var E=Ge,b=E.child;if((Ge.flags&16)!==0){var X=E.deletions;if(X!==null){for(var Z=0;Z<X.length;Z++){var de=X[Z];for(Ge=de;Ge!==null;){var Re=Ge;switch(Re.tag){case 0:case 11:case 15:Kc(8,Re,E)}var Ne=Re.child;if(Ne!==null)Ne.return=Re,Ge=Ne;else for(;Ge!==null;){Re=Ge;var Ie=Re.sibling,$e=Re.return;if(sy(Re),Re===de){Ge=null;break}if(Ie!==null){Ie.return=$e,Ge=Ie;break}Ge=$e}}}var qe=E.alternate;if(qe!==null){var Xe=qe.child;if(Xe!==null){qe.child=null;do{var ur=Xe.sibling;Xe.sibling=null,Xe=ur}while(Xe!==null)}}Ge=E}}if((E.subtreeFlags&2064)!==0&&b!==null)b.return=E,Ge=b;else e:for(;Ge!==null;){if(E=Ge,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:Kc(9,E,E.return)}var oe=E.sibling;if(oe!==null){oe.return=E.return,Ge=oe;break e}Ge=E.return}}var te=s.current;for(Ge=te;Ge!==null;){b=Ge;var ce=b.child;if((b.subtreeFlags&2064)!==0&&ce!==null)ce.return=b,Ge=ce;else e:for(b=te;Ge!==null;){if(X=Ge,(X.flags&2048)!==0)try{switch(X.tag){case 0:case 11:case 15:Yf(9,X)}}catch(Ye){sr(X,X.return,Ye)}if(X===b){Ge=null;break e}var Fe=X.sibling;if(Fe!==null){Fe.return=X.return,Ge=Fe;break e}Ge=X.return}}if(Tt=v,ho(),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(Fn,s)}catch{}m=!0}return m}finally{_t=u,si.transition=a}}return!1}function wy(s,a,u){a=Rl(u,a),a=Bx(s,a,1),s=go(s,a,1),a=gn(),s!==null&&(ro(s,1,a),In(s,a))}function sr(s,a,u){if(s.tag===3)wy(s,s,u);else for(;a!==null;){if(a.tag===3){wy(a,s,u);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(xo===null||!xo.has(m))){s=Rl(u,s),s=Vx(a,s,1),a=go(a,s,1),s=gn(),a!==null&&(ro(a,1,s),In(a,s));break}}a=a.return}}function BI(s,a,u){var m=s.pingCache;m!==null&&m.delete(a),a=gn(),s.pingedLanes|=s.suspendedLanes&u,Dr===s&&($r&u)===u&&(Cr===4||Cr===3&&($r&130023424)===$r&&500>Pe()-Ep?wa(s,0):wp|=u),In(s,a)}function Ey(s,a){a===0&&((s.mode&1)===0?a=1:(a=tl,tl<<=1,(tl&130023424)===0&&(tl=4194304)));var u=gn();s=ks(s,a),s!==null&&(ro(s,a,u),In(s,u))}function VI(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),Ey(s,u)}function UI(s,a){var u=0;switch(s.tag){case 13:var m=s.stateNode,v=s.memoizedState;v!==null&&(u=v.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(a),Ey(s,u)}var Ty;Ty=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||En.current)Sn=!0;else{if((s.lanes&u)===0&&(a.flags&128)===0)return Sn=!1,RI(s,a,u);Sn=(s.flags&131072)!==0}else Sn=!1,Qt&&(a.flags&1048576)!==0&&rx(a,Df,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;Kf(s,a),s=a.pendingProps;var v=_l(a,en.current);Il(a,u),v=Z0(null,a,m,s,v,u);var E=ep();return a.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Tn(m)?(E=!0,bf(a)):E=!1,a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,G0(a),v.updater=Gf,a.stateNode=v,v._reactInternals=a,op(a,m,s,u),a=up(null,a,m,!0,E,u)):(a.tag=0,Qt&&E&&L0(a),pn(null,a,v,u),a=a.child),a;case 16:m=a.elementType;e:{switch(Kf(s,a),s=a.pendingProps,v=m._init,m=v(m._payload),a.type=m,v=a.tag=WI(m),s=Ci(m,s),v){case 0:a=cp(null,a,m,s,u);break e;case 1:a=Xx(null,a,m,s,u);break e;case 11:a=$x(null,a,m,s,u);break e;case 14:a=Hx(null,a,m,Ci(m.type,s),u);break e}throw Error(t(306,m,""))}return a;case 0:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:Ci(m,v),cp(s,a,m,v,u);case 1:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:Ci(m,v),Xx(s,a,m,v,u);case 3:e:{if(Yx(a),s===null)throw Error(t(387));m=a.pendingProps,E=a.memoizedState,v=E.element,fx(s,a),Bf(a,m,null,u);var b=a.memoizedState;if(m=b.element,E.isDehydrated)if(E={element:m,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},a.updateQueue.baseState=E,a.memoizedState=E,a.flags&256){v=Rl(Error(t(423)),a),a=Qx(s,a,m,u,v);break e}else if(m!==v){v=Rl(Error(t(424)),a),a=Qx(s,a,m,u,v);break e}else for(Vn=co(a.stateNode.containerInfo.firstChild),Bn=a,Qt=!0,Ii=null,u=cx(a,null,m,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Tl(),m===v){a=Ps(s,a,u);break e}pn(s,a,m,u)}a=a.child}return a;case 5:return px(a),s===null&&B0(a),m=a.type,v=a.pendingProps,E=s!==null?s.memoizedProps:null,b=v.children,b0(m,v)?b=null:E!==null&&b0(m,E)&&(a.flags|=32),Kx(s,a),pn(s,a,b,u),a.child;case 6:return s===null&&B0(a),null;case 13:return Jx(s,a,u);case 4:return q0(a,a.stateNode.containerInfo),m=a.pendingProps,s===null?a.child=Sl(a,null,m,u):pn(s,a,m,u),a.child;case 11:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:Ci(m,v),$x(s,a,m,v,u);case 7:return pn(s,a,a.pendingProps,u),a.child;case 8:return pn(s,a,a.pendingProps.children,u),a.child;case 12:return pn(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(m=a.type._context,v=a.pendingProps,E=a.memoizedProps,b=v.value,zt(Lf,m._currentValue),m._currentValue=b,E!==null)if(Ai(E.value,b)){if(E.children===v.children&&!En.current){a=Ps(s,a,u);break e}}else for(E=a.child,E!==null&&(E.return=a);E!==null;){var X=E.dependencies;if(X!==null){b=E.child;for(var Z=X.firstContext;Z!==null;){if(Z.context===m){if(E.tag===1){Z=bs(-1,u&-u),Z.tag=2;var de=E.updateQueue;if(de!==null){de=de.shared;var Re=de.pending;Re===null?Z.next=Z:(Z.next=Re.next,Re.next=Z),de.pending=Z}}E.lanes|=u,Z=E.alternate,Z!==null&&(Z.lanes|=u),$0(E.return,u,a),X.lanes|=u;break}Z=Z.next}}else if(E.tag===10)b=E.type===a.type?null:E.child;else if(E.tag===18){if(b=E.return,b===null)throw Error(t(341));b.lanes|=u,X=b.alternate,X!==null&&(X.lanes|=u),$0(b,u,a),b=E.sibling}else b=E.child;if(b!==null)b.return=E;else for(b=E;b!==null;){if(b===a){b=null;break}if(E=b.sibling,E!==null){E.return=b.return,b=E;break}b=b.return}E=b}pn(s,a,v.children,u),a=a.child}return a;case 9:return v=a.type,m=a.pendingProps.children,Il(a,u),v=ni(v),m=m(v),a.flags|=1,pn(s,a,m,u),a.child;case 14:return m=a.type,v=Ci(m,a.pendingProps),v=Ci(m.type,v),Hx(s,a,m,v,u);case 15:return Gx(s,a,a.type,a.pendingProps,u);case 17:return m=a.type,v=a.pendingProps,v=a.elementType===m?v:Ci(m,v),Kf(s,a),a.tag=1,Tn(m)?(s=!0,bf(a)):s=!1,Il(a,u),Mx(a,m,v),op(a,m,v,u),up(null,a,m,!0,s,u);case 19:return ey(s,a,u);case 22:return qx(s,a,u)}throw Error(t(156,a.tag))};function Sy(s,a){return be(s,a)}function zI(s,a,u,m){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(s,a,u,m){return new zI(s,a,u,m)}function bp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function WI(s){if(typeof s=="function")return bp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===V)return 11;if(s===ee)return 14}return 2}function wo(s,a){var u=s.alternate;return u===null?(u=oi(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function sh(s,a,u,m,v,E){var b=2;if(m=s,typeof s=="function")bp(s)&&(b=1);else if(typeof s=="string")b=5;else e:switch(s){case k:return Ta(u.children,v,E,a);case R:b=8,v|=8;break;case C:return s=oi(12,u,a,v|2),s.elementType=C,s.lanes=E,s;case O:return s=oi(13,u,a,v),s.elementType=O,s.lanes=E,s;case Me:return s=oi(19,u,a,v),s.elementType=Me,s.lanes=E,s;case Ce:return oh(u,v,E,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:b=10;break e;case L:b=9;break e;case V:b=11;break e;case ee:b=14;break e;case De:b=16,m=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=oi(b,u,a,v),a.elementType=s,a.type=m,a.lanes=E,a}function Ta(s,a,u,m){return s=oi(7,s,m,a),s.lanes=u,s}function oh(s,a,u,m){return s=oi(22,s,m,a),s.elementType=Ce,s.lanes=u,s.stateNode={isHidden:!1},s}function Pp(s,a,u){return s=oi(6,s,null,a),s.lanes=u,s}function Np(s,a,u){return a=oi(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function $I(s,a,u,m,v){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=to(0),this.expirationTimes=to(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=to(0),this.identifierPrefix=m,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Dp(s,a,u,m,v,E,b,X,Z){return s=new $I(s,a,u,X,Z),a===1?(a=1,E===!0&&(a|=8)):a=0,E=oi(3,null,null,a),s.current=E,E.stateNode=s,E.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},G0(E),s}function HI(s,a,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:he,key:m==null?null:""+m,children:s,containerInfo:a,implementation:u}}function Ay(s){if(!s)return fo;s=s._reactInternals;e:{if(G(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Tn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(Tn(u))return Z1(s,u,a)}return a}function Iy(s,a,u,m,v,E,b,X,Z){return s=Dp(u,m,!0,s,v,E,b,X,Z),s.context=Ay(null),u=s.current,m=gn(),v=vo(u),E=bs(m,v),E.callback=a??null,go(u,E,v),s.current.lanes=v,ro(s,v,m),In(s,m),s}function ah(s,a,u,m){var v=a.current,E=gn(),b=vo(v);return u=Ay(u),a.context===null?a.context=u:a.pendingContext=u,a=bs(E,b),a.payload={element:s},m=m===void 0?null:m,m!==null&&(a.callback=m),s=go(v,a,b),s!==null&&(bi(s,v,b,E),jf(s,v,b)),b}function lh(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Cy(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function Op(s,a){Cy(s,a),(s=s.alternate)&&Cy(s,a)}function GI(){return null}var Ry=typeof reportError=="function"?reportError:function(s){console.error(s)};function Fp(s){this._internalRoot=s}ch.prototype.render=Fp.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));ah(s,a,null,null)},ch.prototype.unmount=Fp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;_a(function(){ah(null,s,null,null)}),a[As]=null}};function ch(s){this._internalRoot=s}ch.prototype.unstable_scheduleHydration=function(s){if(s){var a=cf();s={blockedOn:null,target:s,priority:a};for(var u=0;u<Ki.length&&a!==0&&a<Ki[u].priority;u++);Ki.splice(u,0,s),u===0&&hf(s)}};function Lp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function uh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function ky(){}function qI(s,a,u,m,v){if(v){if(typeof m=="function"){var E=m;m=function(){var de=lh(b);E.call(de)}}var b=Iy(a,m,s,0,null,!1,!1,"",ky);return s._reactRootContainer=b,s[As]=b.current,Fc(s.nodeType===8?s.parentNode:s),_a(),b}for(;v=s.lastChild;)s.removeChild(v);if(typeof m=="function"){var X=m;m=function(){var de=lh(Z);X.call(de)}}var Z=Dp(s,0,!1,null,null,!1,!1,"",ky);return s._reactRootContainer=Z,s[As]=Z.current,Fc(s.nodeType===8?s.parentNode:s),_a(function(){ah(a,Z,u,m)}),Z}function fh(s,a,u,m,v){var E=u._reactRootContainer;if(E){var b=E;if(typeof v=="function"){var X=v;v=function(){var Z=lh(b);X.call(Z)}}ah(a,b,s,v)}else b=qI(u,a,s,v,m);return lh(b)}af=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=eo(a.pendingLanes);u!==0&&(no(a,u|1),In(a,Pe()),(Tt&6)===0&&(Pl=Pe()+500,ho()))}break;case 13:_a(function(){var m=ks(s,1);if(m!==null){var v=gn();bi(m,s,1,v)}}),Op(s,1)}},rl=function(s){if(s.tag===13){var a=ks(s,134217728);if(a!==null){var u=gn();bi(a,s,134217728,u)}Op(s,134217728)}},lf=function(s){if(s.tag===13){var a=vo(s),u=ks(s,a);if(u!==null){var m=gn();bi(u,s,a,m)}Op(s,a)}},cf=function(){return _t},uf=function(s,a){var u=_t;try{return _t=s,a()}finally{_t=u}},ms=function(s,a,u){switch(a){case"input":if(Ue(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var m=u[a];if(m!==s&&m.form===s.form){var v=Rf(m);if(!v)throw Error(t(90));Ke(m),Ue(m,v)}}}break;case"textarea":Br(s,u);break;case"select":a=u.value,a!=null&&Jt(s,!!u.multiple,a,!1)}},xs=Cp,ia=_a;var KI={usingClientEntryPoint:!1,Events:[jc,yl,Rf,Jn,na,Cp]},Jc={findFiberByHostInstance:ha,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XI={bundleType:Jc.bundleType,version:Jc.version,rendererPackageName:Jc.rendererPackageName,rendererConfig:Jc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=ue(s),s===null?null:s.stateNode},findFiberByHostInstance:Jc.findFiberByHostInstance||GI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hh.isDisabled&&hh.supportsFiber)try{Fn=hh.inject(XI),cr=hh}catch{}}return Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KI,Cn.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lp(a))throw Error(t(200));return HI(s,a,null,u)},Cn.createRoot=function(s,a){if(!Lp(s))throw Error(t(299));var u=!1,m="",v=Ry;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=Dp(s,1,!1,null,null,u,!1,m,v),s[As]=a.current,Fc(s.nodeType===8?s.parentNode:s),new Fp(a)},Cn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=ue(a),s=s===null?null:s.stateNode,s},Cn.flushSync=function(s){return _a(s)},Cn.hydrate=function(s,a,u){if(!uh(a))throw Error(t(200));return fh(null,s,a,!0,u)},Cn.hydrateRoot=function(s,a,u){if(!Lp(s))throw Error(t(405));var m=u!=null&&u.hydratedSources||null,v=!1,E="",b=Ry;if(u!=null&&(u.unstable_strictMode===!0&&(v=!0),u.identifierPrefix!==void 0&&(E=u.identifierPrefix),u.onRecoverableError!==void 0&&(b=u.onRecoverableError)),a=Iy(a,null,s,1,u??null,v,!1,E,b),s[As]=a.current,Fc(s),m)for(s=0;s<m.length;s++)u=m[s],v=u._getVersion,v=v(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,v]:a.mutableSourceEagerHydrationData.push(u,v);return new ch(a)},Cn.render=function(s,a,u){if(!uh(a))throw Error(t(200));return fh(null,s,a,!1,u)},Cn.unmountComponentAtNode=function(s){if(!uh(s))throw Error(t(40));return s._reactRootContainer?(_a(function(){fh(null,null,s,!1,function(){s._reactRootContainer=null,s[As]=null})}),!0):!1},Cn.unstable_batchedUpdates=Cp,Cn.unstable_renderSubtreeIntoContainer=function(s,a,u,m){if(!uh(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return fh(s,a,u,!1,m)},Cn.version="18.3.1-next-f1338f8080-20240426",Cn}var My;function L2(){if(My)return Bp.exports;My=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Bp.exports=i4(),Bp.exports}var jy;function s4(){if(jy)return ph;jy=1;var r=L2();return ph.createRoot=r.createRoot,ph.hydrateRoot=r.hydrateRoot,ph}var o4=s4();const a4=F2(o4);L2();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _u(){return _u=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},_u.apply(this,arguments)}var ko;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(ko||(ko={}));const By="popstate";function l4(r){r===void 0&&(r={});function e(n,i){let{pathname:o,search:l,hash:c}=n.location;return dg("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:zh(i)}return u4(e,t,null,r)}function pr(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function M2(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function c4(){return Math.random().toString(36).substr(2,8)}function Vy(r,e){return{usr:r.state,key:r.key,idx:e}}function dg(r,e,t,n){return t===void 0&&(t=null),_u({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?cc(e):e,{state:t,key:e&&e.key||n||c4()})}function zh(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function cc(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function u4(r,e,t,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,l=i.history,c=ko.Pop,f=null,h=p();h==null&&(h=0,l.replaceState(_u({},l.state,{idx:h}),""));function p(){return(l.state||{idx:null}).idx}function x(){c=ko.Pop;let A=p(),j=A==null?null:A-h;h=A,f&&f({action:c,location:T.location,delta:j})}function y(A,j){c=ko.Push;let U=dg(T.location,A,j);h=p()+1;let F=Vy(U,h),Q=T.createHref(U);try{l.pushState(F,"",Q)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;i.location.assign(Q)}o&&f&&f({action:c,location:T.location,delta:1})}function w(A,j){c=ko.Replace;let U=dg(T.location,A,j);h=p();let F=Vy(U,h),Q=T.createHref(U);l.replaceState(F,"",Q),o&&f&&f({action:c,location:T.location,delta:0})}function S(A){let j=i.location.origin!=="null"?i.location.origin:i.location.href,U=typeof A=="string"?A:zh(A);return U=U.replace(/ $/,"%20"),pr(j,"No window.location.(origin|href) available to create URL for href: "+U),new URL(U,j)}let T={get action(){return c},get location(){return r(i,l)},listen(A){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(By,x),f=A,()=>{i.removeEventListener(By,x),f=null}},createHref(A){return e(i,A)},createURL:S,encodeLocation(A){let j=S(A);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:y,replace:w,go(A){return l.go(A)}};return T}var Uy;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Uy||(Uy={}));function f4(r,e,t){return t===void 0&&(t="/"),h4(r,e,t)}function h4(r,e,t,n){let i=typeof e=="string"?cc(e):e,o=Yg(i.pathname||"/",t);if(o==null)return null;let l=j2(r);d4(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let h=A4(o);c=E4(l[f],h)}return c}function j2(r,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let i=(o,l,c)=>{let f={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};f.relativePath.startsWith("/")&&(pr(f.relativePath.startsWith(n),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(n.length));let h=Do([n,f.relativePath]),p=t.concat(f);o.children&&o.children.length>0&&(pr(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),j2(o.children,e,p,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:_4(h,o.index),routesMeta:p})};return r.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let f of B2(o.path))i(o,l,f)}),e}function B2(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let l=B2(n.join("/")),c=[];return c.push(...l.map(f=>f===""?o:[o,f].join("/"))),i&&c.push(...l),c.map(f=>r.startsWith("/")&&f===""?"/":f)}function d4(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:w4(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const p4=/^:[\w-]+$/,g4=3,m4=2,x4=1,y4=10,v4=-2,zy=r=>r==="*";function _4(r,e){let t=r.split("/"),n=t.length;return t.some(zy)&&(n+=v4),e&&(n+=m4),t.filter(i=>!zy(i)).reduce((i,o)=>i+(p4.test(o)?g4:o===""?x4:y4),n)}function w4(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function E4(r,e,t){let{routesMeta:n}=r,i={},o="/",l=[];for(let c=0;c<n.length;++c){let f=n[c],h=c===n.length-1,p=o==="/"?e:e.slice(o.length)||"/",x=T4({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),y=f.route;if(!x)return null;Object.assign(i,x.params),l.push({params:i,pathname:Do([o,x.pathname]),pathnameBase:k4(Do([o,x.pathnameBase])),route:y}),x.pathnameBase!=="/"&&(o=Do([o,x.pathnameBase]))}return l}function T4(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=S4(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((h,p,x)=>{let{paramName:y,isOptional:w}=p;if(y==="*"){let T=c[x]||"";l=o.slice(0,o.length-T.length).replace(/(.)\/+$/,"$1")}const S=c[x];return w&&!S?h[y]=void 0:h[y]=(S||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:r}}function S4(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),M2(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(n.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function A4(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return M2(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function Yg(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function I4(r,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?cc(r):r;return{pathname:t?t.startsWith("/")?t:C4(t,e):e,search:b4(n),hash:P4(i)}}function C4(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function zp(r,e,t,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function R4(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Qg(r,e){let t=R4(r);return e?t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function Jg(r,e,t,n){n===void 0&&(n=!1);let i;typeof r=="string"?i=cc(r):(i=_u({},r),pr(!i.pathname||!i.pathname.includes("?"),zp("?","pathname","search",i)),pr(!i.pathname||!i.pathname.includes("#"),zp("#","pathname","hash",i)),pr(!i.search||!i.search.includes("#"),zp("#","search","hash",i)));let o=r===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=t;else{let x=e.length-1;if(!n&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),x-=1;i.pathname=y.join("/")}c=x>=0?e[x]:"/"}let f=I4(i,c),h=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}const Do=r=>r.join("/").replace(/\/\/+/g,"/"),k4=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),b4=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,P4=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function N4(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const V2=["post","put","patch","delete"];new Set(V2);const D4=["get",...V2];new Set(D4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wu(){return wu=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},wu.apply(this,arguments)}const Zg=ie.createContext(null),O4=ie.createContext(null),Xo=ie.createContext(null),kd=ie.createContext(null),Gs=ie.createContext({outlet:null,matches:[],isDataRoute:!1}),U2=ie.createContext(null);function F4(r,e){let{relative:t}=e===void 0?{}:e;uc()||pr(!1);let{basename:n,navigator:i}=ie.useContext(Xo),{hash:o,pathname:l,search:c}=W2(r,{relative:t}),f=l;return n!=="/"&&(f=l==="/"?n:Do([n,l])),i.createHref({pathname:f,search:c,hash:o})}function uc(){return ie.useContext(kd)!=null}function Vu(){return uc()||pr(!1),ie.useContext(kd).location}function z2(r){ie.useContext(Xo).static||ie.useLayoutEffect(r)}function Xt(){let{isDataRoute:r}=ie.useContext(Gs);return r?K4():L4()}function L4(){uc()||pr(!1);let r=ie.useContext(Zg),{basename:e,future:t,navigator:n}=ie.useContext(Xo),{matches:i}=ie.useContext(Gs),{pathname:o}=Vu(),l=JSON.stringify(Qg(i,t.v7_relativeSplatPath)),c=ie.useRef(!1);return z2(()=>{c.current=!0}),ie.useCallback(function(h,p){if(p===void 0&&(p={}),!c.current)return;if(typeof h=="number"){n.go(h);return}let x=Jg(h,JSON.parse(l),o,p.relative==="path");r==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Do([e,x.pathname])),(p.replace?n.replace:n.push)(x,p.state,p)},[e,n,l,o,r])}function hi(){let{matches:r}=ie.useContext(Gs),e=r[r.length-1];return e?e.params:{}}function W2(r,e){let{relative:t}=e===void 0?{}:e,{future:n}=ie.useContext(Xo),{matches:i}=ie.useContext(Gs),{pathname:o}=Vu(),l=JSON.stringify(Qg(i,n.v7_relativeSplatPath));return ie.useMemo(()=>Jg(r,JSON.parse(l),o,t==="path"),[r,l,o,t])}function M4(r,e){return j4(r,e)}function j4(r,e,t,n){uc()||pr(!1);let{navigator:i}=ie.useContext(Xo),{matches:o}=ie.useContext(Gs),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let f=l?l.pathnameBase:"/";l&&l.route;let h=Vu(),p;if(e){var x;let A=typeof e=="string"?cc(e):e;f==="/"||(x=A.pathname)!=null&&x.startsWith(f)||pr(!1),p=A}else p=h;let y=p.pathname||"/",w=y;if(f!=="/"){let A=f.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(A.length).join("/")}let S=f4(r,{pathname:w}),T=W4(S&&S.map(A=>Object.assign({},A,{params:Object.assign({},c,A.params),pathname:Do([f,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:Do([f,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,t,n);return e&&T?ie.createElement(kd.Provider,{value:{location:wu({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:ko.Pop}},T):T}function B4(){let r=q4(),e=N4(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ie.createElement(ie.Fragment,null,ie.createElement("h2",null,"Unexpected Application Error!"),ie.createElement("h3",{style:{fontStyle:"italic"}},e),t?ie.createElement("pre",{style:i},t):null,null)}const V4=ie.createElement(B4,null);class U4 extends ie.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?ie.createElement(Gs.Provider,{value:this.props.routeContext},ie.createElement(U2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function z4(r){let{routeContext:e,match:t,children:n}=r,i=ie.useContext(Zg);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),ie.createElement(Gs.Provider,{value:e},n)}function W4(r,e,t,n){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),r==null){var o;if(!t)return null;if(t.errors)r=t.matches;else if((o=n)!=null&&o.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,c=(i=t)==null?void 0:i.errors;if(c!=null){let p=l.findIndex(x=>x.route.id&&c?.[x.route.id]!==void 0);p>=0||pr(!1),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,h=-1;if(t&&n&&n.v7_partialHydration)for(let p=0;p<l.length;p++){let x=l[p];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(h=p),x.route.id){let{loaderData:y,errors:w}=t,S=x.route.loader&&y[x.route.id]===void 0&&(!w||w[x.route.id]===void 0);if(x.route.lazy||S){f=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,x,y)=>{let w,S=!1,T=null,A=null;t&&(w=c&&x.route.id?c[x.route.id]:void 0,T=x.route.errorElement||V4,f&&(h<0&&y===0?(X4("route-fallback"),S=!0,A=null):h===y&&(S=!0,A=x.route.hydrateFallbackElement||null)));let j=e.concat(l.slice(0,y+1)),U=()=>{let F;return w?F=T:S?F=A:x.route.Component?F=ie.createElement(x.route.Component,null):x.route.element?F=x.route.element:F=p,ie.createElement(z4,{match:x,routeContext:{outlet:p,matches:j,isDataRoute:t!=null},children:F})};return t&&(x.route.ErrorBoundary||x.route.errorElement||y===0)?ie.createElement(U4,{location:t.location,revalidation:t.revalidation,component:T,error:w,children:U(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):U()},null)}var $2=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})($2||{}),H2=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(H2||{});function $4(r){let e=ie.useContext(Zg);return e||pr(!1),e}function H4(r){let e=ie.useContext(O4);return e||pr(!1),e}function G4(r){let e=ie.useContext(Gs);return e||pr(!1),e}function G2(r){let e=G4(),t=e.matches[e.matches.length-1];return t.route.id||pr(!1),t.route.id}function q4(){var r;let e=ie.useContext(U2),t=H4(),n=G2();return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function K4(){let{router:r}=$4($2.UseNavigateStable),e=G2(H2.UseNavigateStable),t=ie.useRef(!1);return z2(()=>{t.current=!0}),ie.useCallback(function(i,o){o===void 0&&(o={}),t.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,wu({fromRouteId:e},o)))},[r,e])}const Wy={};function X4(r,e,t){Wy[r]||(Wy[r]=!0)}function Y4(r,e){r?.v7_startTransition,r?.v7_relativeSplatPath}function To(r){let{to:e,replace:t,state:n,relative:i}=r;uc()||pr(!1);let{future:o,static:l}=ie.useContext(Xo),{matches:c}=ie.useContext(Gs),{pathname:f}=Vu(),h=Xt(),p=Jg(e,Qg(c,o.v7_relativeSplatPath),f,i==="path"),x=JSON.stringify(p);return ie.useEffect(()=>h(JSON.parse(x),{replace:t,state:n,relative:i}),[h,x,i,t,n]),null}function fr(r){pr(!1)}function Q4(r){let{basename:e="/",children:t=null,location:n,navigationType:i=ko.Pop,navigator:o,static:l=!1,future:c}=r;uc()&&pr(!1);let f=e.replace(/^\/*/,"/"),h=ie.useMemo(()=>({basename:f,navigator:o,static:l,future:wu({v7_relativeSplatPath:!1},c)}),[f,c,o,l]);typeof n=="string"&&(n=cc(n));let{pathname:p="/",search:x="",hash:y="",state:w=null,key:S="default"}=n,T=ie.useMemo(()=>{let A=Yg(p,f);return A==null?null:{location:{pathname:A,search:x,hash:y,state:w,key:S},navigationType:i}},[f,p,x,y,w,S,i]);return T==null?null:ie.createElement(Xo.Provider,{value:h},ie.createElement(kd.Provider,{children:t,value:T}))}function J4(r){let{children:e,location:t}=r;return M4(pg(e),t)}new Promise(()=>{});function pg(r,e){e===void 0&&(e=[]);let t=[];return ie.Children.forEach(r,(n,i)=>{if(!ie.isValidElement(n))return;let o=[...e,i];if(n.type===ie.Fragment){t.push.apply(t,pg(n.props.children,o));return}n.type!==fr&&pr(!1),!n.props.index||!n.props.children||pr(!1);let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=pg(n.props.children,o)),t.push(l)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gg(){return gg=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},gg.apply(this,arguments)}function Z4(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function eC(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function tC(r,e){return r.button===0&&(!e||e==="_self")&&!eC(r)}const rC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nC="6";try{window.__reactRouterVersion=nC}catch{}const iC="startTransition",$y=t4[iC];function sC(r){let{basename:e,children:t,future:n,window:i}=r,o=ie.useRef();o.current==null&&(o.current=l4({window:i,v5Compat:!0}));let l=o.current,[c,f]=ie.useState({action:l.action,location:l.location}),{v7_startTransition:h}=n||{},p=ie.useCallback(x=>{h&&$y?$y(()=>f(x)):f(x)},[f,h]);return ie.useLayoutEffect(()=>l.listen(p),[l,p]),ie.useEffect(()=>Y4(n),[n]),ie.createElement(Q4,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,future:n})}const oC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lC=ie.forwardRef(function(e,t){let{onClick:n,relative:i,reloadDocument:o,replace:l,state:c,target:f,to:h,preventScrollReset:p,viewTransition:x}=e,y=Z4(e,rC),{basename:w}=ie.useContext(Xo),S,T=!1;if(typeof h=="string"&&aC.test(h)&&(S=h,oC))try{let F=new URL(window.location.href),Q=h.startsWith("//")?new URL(F.protocol+h):new URL(h),ne=Yg(Q.pathname,w);Q.origin===F.origin&&ne!=null?h=ne+Q.search+Q.hash:T=!0}catch{}let A=F4(h,{relative:i}),j=cC(h,{replace:l,state:c,target:f,preventScrollReset:p,relative:i,viewTransition:x});function U(F){n&&n(F),F.defaultPrevented||j(F)}return ie.createElement("a",gg({},y,{href:S||A,onClick:T||o?n:U,ref:t,target:f}))});var Hy;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Hy||(Hy={}));var Gy;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Gy||(Gy={}));function cC(r,e){let{target:t,replace:n,state:i,preventScrollReset:o,relative:l,viewTransition:c}=e===void 0?{}:e,f=Xt(),h=Vu(),p=W2(r,{relative:l});return ie.useCallback(x=>{if(tC(x,t)){x.preventDefault();let y=n!==void 0?n:zh(h)===zh(p);f(r,{replace:y,state:i,preventScrollReset:o,relative:l,viewTransition:c})}},[h,f,p,n,i,t,r,o,l,c])}const uC=()=>{};var qy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},fC=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=r[t++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=r[t++],l=r[t++],c=r[t++],f=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(f>>10)),e[n++]=String.fromCharCode(56320+(f&1023))}else{const o=r[t++],l=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},K2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const o=r[i],l=i+1<r.length,c=l?r[i+1]:0,f=i+2<r.length,h=f?r[i+2]:0,p=o>>2,x=(o&3)<<4|c>>4;let y=(c&15)<<2|h>>6,w=h&63;f||(w=64,l||(y=64)),n.push(t[p],t[x],t[y],t[w])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(q2(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):fC(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const o=t[r.charAt(i++)],c=i<r.length?t[r.charAt(i)]:0;++i;const h=i<r.length?t[r.charAt(i)]:64;++i;const x=i<r.length?t[r.charAt(i)]:64;if(++i,o==null||c==null||h==null||x==null)throw new hC;const y=o<<2|c>>4;if(n.push(y),h!==64){const w=c<<4&240|h>>2;if(n.push(w),x!==64){const S=h<<6&192|x;n.push(S)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class hC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dC=function(r){const e=q2(r);return K2.encodeByteArray(e,!0)},Wh=function(r){return dC(r).replace(/\./g,"")},X2=function(r){try{return K2.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=()=>pC().__FIREBASE_DEFAULTS__,mC=()=>{if(typeof process>"u"||typeof qy>"u")return;const r=qy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},xC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&X2(r[1]);return e&&JSON.parse(e)},bd=()=>{try{return uC()||gC()||mC()||xC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Y2=r=>bd()?.emulatorHosts?.[r],Q2=r=>{const e=Y2(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},J2=()=>bd()?.config,Z2=r=>bd()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function em(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,o=r.sub||r.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Wh(JSON.stringify(t)),Wh(JSON.stringify(l)),""].join(".")}const au={};function vC(){const r={prod:[],emulator:[]};for(const e of Object.keys(au))au[e]?r.emulator.push(e):r.prod.push(e);return r}function _C(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let Ky=!1;function tm(r,e){if(typeof window>"u"||typeof document>"u"||!za(window.location.host)||au[r]===e||au[r]||Ky)return;au[r]=e;function t(y){return`__firebase__banner__${y}`}const n="__firebase__banner",o=vC().prod.length>0;function l(){const y=document.getElementById(n);y&&y.remove()}function c(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function f(y,w){y.setAttribute("width","24"),y.setAttribute("id",w),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{Ky=!0,l()},y}function p(y,w){y.setAttribute("id",w),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function x(){const y=_C(n),w=t("text"),S=document.getElementById(w)||document.createElement("span"),T=t("learnmore"),A=document.getElementById(T)||document.createElement("a"),j=t("preprendIcon"),U=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const F=y.element;c(F),p(A,T);const Q=h();f(U,j),F.append(U,S,A,Q),document.body.appendChild(F)}o?(S.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function EC(){const r=bd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rm(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function SC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AC(){const r=un();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function IC(){return!EC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nm(){try{return typeof indexedDB=="object"}catch{return!1}}function im(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}function tw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="FirebaseError";class di extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=CC,Object.setPrototypeOf(this,di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wa.prototype.create)}}class Wa{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?RC(o,n):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new di(i,c,n)}}function RC(r,e){return r.replace(kC,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const kC=/\{\$([^}]+)}/g;function bC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Bo(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const o=r[i],l=e[i];if(Xy(o)&&Xy(l)){if(!Bo(o,l))return!1}else if(o!==l)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function Xy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function PC(r,e){const t=new NC(r,e);return t.subscribe.bind(t)}class NC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");DC(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=Wp),i.error===void 0&&(i.error=Wp),i.complete===void 0&&(i.complete=Wp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DC(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Wp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=1e3,FC=2,LC=14400*1e3,MC=.5;function Yy(r,e=OC,t=FC){const n=e*Math.pow(t,r),i=Math.round(MC*n*(Math.random()-.5)*2);return Math.min(LC,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(r){return r&&r._delegate?r._delegate:r}class fi{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new yC;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VC(e))try{this.getOrInitializeService({instanceIdentifier:Sa})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=Sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sa){return this.instances.has(e)}getOptions(e=Sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);n===c&&l.resolve(i)}return i}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const o=this.instances.get(n);return o&&e(o,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:BC(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Sa){return this.component?this.component.multipleInstances?e:Sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BC(r){return r===Sa?void 0:r}function VC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new jC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xt||(xt={}));const zC={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},WC=xt.INFO,$C={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},HC=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=$C[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pd{constructor(e){this.name=e,this._logLevel=WC,this._logHandler=HC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}}const GC=(r,e)=>e.some(t=>r instanceof t);let Qy,Jy;function qC(){return Qy||(Qy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KC(){return Jy||(Jy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rw=new WeakMap,mg=new WeakMap,nw=new WeakMap,$p=new WeakMap,sm=new WeakMap;function XC(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",o),r.removeEventListener("error",l)},o=()=>{t(Oo(r.result)),i()},l=()=>{n(r.error),i()};r.addEventListener("success",o),r.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&rw.set(t,r)}).catch(()=>{}),sm.set(e,r),e}function YC(r){if(mg.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",l),r.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",o),r.addEventListener("error",l),r.addEventListener("abort",l)});mg.set(r,e)}let xg={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return mg.get(r);if(e==="objectStoreNames")return r.objectStoreNames||nw.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Oo(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function QC(r){xg=r(xg)}function JC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Hp(this),e,...t);return nw.set(n,e.sort?e.sort():[e]),Oo(n)}:KC().includes(r)?function(...e){return r.apply(Hp(this),e),Oo(rw.get(this))}:function(...e){return Oo(r.apply(Hp(this),e))}}function ZC(r){return typeof r=="function"?JC(r):(r instanceof IDBTransaction&&YC(r),GC(r,qC())?new Proxy(r,xg):r)}function Oo(r){if(r instanceof IDBRequest)return XC(r);if($p.has(r))return $p.get(r);const e=ZC(r);return e!==r&&($p.set(r,e),sm.set(e,r)),e}const Hp=r=>sm.get(r);function iw(r,e,{blocked:t,upgrade:n,blocking:i,terminated:o}={}){const l=indexedDB.open(r,e),c=Oo(l);return n&&l.addEventListener("upgradeneeded",f=>{n(Oo(l.result),f.oldVersion,f.newVersion,Oo(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const eR=["get","getKey","getAll","getAllKeys","count"],tR=["put","add","delete","clear"],Gp=new Map;function Zy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Gp.get(e))return Gp.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=tR.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||eR.includes(t)))return;const o=async function(l,...c){const f=this.transaction(l,i?"readwrite":"readonly");let h=f.store;return n&&(h=h.index(c.shift())),(await Promise.all([h[t](...c),i&&f.done]))[0]};return Gp.set(e,o),o}QC(r=>({...r,get:(e,t,n)=>Zy(e,t)||r.get(e,t,n),has:(e,t)=>!!Zy(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(nR(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function nR(r){return r.getComponent()?.type==="VERSION"}const yg="@firebase/app",ev="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new Pd("@firebase/app"),iR="@firebase/app-compat",sR="@firebase/analytics-compat",oR="@firebase/analytics",aR="@firebase/app-check-compat",lR="@firebase/app-check",cR="@firebase/auth",uR="@firebase/auth-compat",fR="@firebase/database",hR="@firebase/data-connect",dR="@firebase/database-compat",pR="@firebase/functions",gR="@firebase/functions-compat",mR="@firebase/installations",xR="@firebase/installations-compat",yR="@firebase/messaging",vR="@firebase/messaging-compat",_R="@firebase/performance",wR="@firebase/performance-compat",ER="@firebase/remote-config",TR="@firebase/remote-config-compat",SR="@firebase/storage",AR="@firebase/storage-compat",IR="@firebase/firestore",CR="@firebase/ai",RR="@firebase/firestore-compat",kR="firebase",bR="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="[DEFAULT]",PR={[yg]:"fire-core",[iR]:"fire-core-compat",[oR]:"fire-analytics",[sR]:"fire-analytics-compat",[lR]:"fire-app-check",[aR]:"fire-app-check-compat",[cR]:"fire-auth",[uR]:"fire-auth-compat",[fR]:"fire-rtdb",[hR]:"fire-data-connect",[dR]:"fire-rtdb-compat",[pR]:"fire-fn",[gR]:"fire-fn-compat",[mR]:"fire-iid",[xR]:"fire-iid-compat",[yR]:"fire-fcm",[vR]:"fire-fcm-compat",[_R]:"fire-perf",[wR]:"fire-perf-compat",[ER]:"fire-rc",[TR]:"fire-rc-compat",[SR]:"fire-gcs",[AR]:"fire-gcs-compat",[IR]:"fire-fst",[RR]:"fire-fst-compat",[CR]:"fire-vertex","fire-js":"fire-js",[kR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=new Map,NR=new Map,_g=new Map;function tv(r,e){try{r.container.addComponent(e)}catch(t){Vs.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Bi(r){const e=r.name;if(_g.has(e))return Vs.debug(`There were multiple attempts to register component ${e}.`),!1;_g.set(e,r);for(const t of $h.values())tv(t,r);for(const t of NR.values())tv(t,r);return!0}function Yo(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Gn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fo=new Wa("app","Firebase",DR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new fi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=bR;function sw(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n={name:vg,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw Fo.create("bad-app-name",{appName:String(i)});if(t||(t=J2()),!t)throw Fo.create("no-options");const o=$h.get(i);if(o){if(Bo(t,o.options)&&Bo(n,o.config))return o;throw Fo.create("duplicate-app",{appName:i})}const l=new UC(i);for(const f of _g.values())l.addComponent(f);const c=new OR(t,n,l);return $h.set(i,c),c}function Nd(r=vg){const e=$h.get(r);if(!e&&r===vg&&J2())return sw();if(!e)throw Fo.create("no-app",{appName:r});return e}function bn(r,e,t){let n=PR[r]??r;t&&(n+=`-${t}`);const i=n.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${n}" with version "${e}":`];i&&l.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vs.warn(l.join(" "));return}Bi(new fi(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="firebase-heartbeat-database",LR=1,Eu="firebase-heartbeat-store";let qp=null;function ow(){return qp||(qp=iw(FR,LR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Eu)}catch(t){console.warn(t)}}}}).catch(r=>{throw Fo.create("idb-open",{originalErrorMessage:r.message})})),qp}async function MR(r){try{const t=(await ow()).transaction(Eu),n=await t.objectStore(Eu).get(aw(r));return await t.done,n}catch(e){if(e instanceof di)Vs.warn(e.message);else{const t=Fo.create("idb-get",{originalErrorMessage:e?.message});Vs.warn(t.message)}}}async function rv(r,e){try{const n=(await ow()).transaction(Eu,"readwrite");await n.objectStore(Eu).put(e,aw(r)),await n.done}catch(t){if(t instanceof di)Vs.warn(t.message);else{const n=Fo.create("idb-set",{originalErrorMessage:t?.message});Vs.warn(n.message)}}}function aw(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=1024,BR=30;class VR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new zR(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=nv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats.length>BR){const i=WR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Vs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=nv(),{heartbeatsToSend:t,unsentEntries:n}=UR(this._heartbeatsCache.heartbeats),i=Wh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Vs.warn(e),""}}}function nv(){return new Date().toISOString().substring(0,10)}function UR(r,e=jR){const t=[];let n=r.slice();for(const i of r){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),iv(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),iv(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class zR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nm()?im().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await MR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return rv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return rv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function iv(r){return Wh(JSON.stringify({version:2,heartbeats:r})).length}function WR(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(r){Bi(new fi("platform-logger",e=>new rR(e),"PRIVATE")),Bi(new fi("heartbeat",e=>new VR(e),"PRIVATE")),bn(yg,ev,r),bn(yg,ev,"esm2020"),bn("fire-js","")}$R("");function lw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HR=lw,cw=new Wa("auth","Firebase",lw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new Pd("@firebase/auth");function GR(r,...e){Hh.logLevel<=xt.WARN&&Hh.warn(`Auth (${$a}): ${r}`,...e)}function Ph(r,...e){Hh.logLevel<=xt.ERROR&&Hh.error(`Auth (${$a}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(r,...e){throw am(r,...e)}function Mi(r,...e){return am(r,...e)}function om(r,e,t){const n={...HR(),[e]:t};return new Wa("auth","Firebase",n).create(e,{appName:r.name})}function Lo(r){return om(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uw(r,e,t){const n=t;if(!(e instanceof n))throw n.name!==e.constructor.name&&us(r,"argument-error"),om(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function am(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return cw.create(r,...e)}function at(r,e,...t){if(!r)throw am(e,...t)}function Os(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ph(e),new Error(e)}function Us(r,e){r||Os(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(){return typeof self<"u"&&self.location?.href||""}function qR(){return sv()==="http:"||sv()==="https:"}function sv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qR()||rm()||"connection"in navigator)?navigator.onLine:!0}function XR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Us(t>e,"Short delay should be less than long delay!"),this.isMobile=wC()||SC()}get(){return KR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(r,e){Us(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JR=new zu(3e4,6e4);function cm(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function fc(r,e,t,n,i={}){return hw(r,i,async()=>{let o={},l={};n&&(e==="GET"?l=n:o={body:JSON.stringify(n)});const c=Uu({key:r.config.apiKey,...l}).slice(1),f=await r._getAdditionalHeaders();f["Content-Type"]="application/json",r.languageCode&&(f["X-Firebase-Locale"]=r.languageCode);const h={method:e,headers:f,...o};return TC()||(h.referrerPolicy="no-referrer"),r.emulatorConfig&&za(r.emulatorConfig.host)&&(h.credentials="include"),fw.fetch()(await dw(r,r.config.apiHost,t,c),h)})}async function hw(r,e,t){r._canInitEmulator=!1;const n={...YR,...e};try{const i=new ek(r),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw gh(r,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[f,h]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw gh(r,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw gh(r,"email-already-in-use",l);if(f==="USER_DISABLED")throw gh(r,"user-disabled",l);const p=n[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw om(r,p,h);us(r,p)}}catch(i){if(i instanceof di)throw i;us(r,"network-request-failed",{message:String(i)})}}async function ZR(r,e,t,n,i={}){const o=await fc(r,e,t,n,i);return"mfaPendingCredential"in o&&us(r,"multi-factor-auth-required",{_serverResponse:o}),o}async function dw(r,e,t,n){const i=`${e}${t}?${n}`,o=r,l=o.config.emulator?lm(r.config,i):`${r.config.apiScheme}://${i}`;return QR.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}class ek{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Mi(this.auth,"network-request-failed")),JR.get())})}}function gh(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=Mi(r,e,n);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tk(r,e){return fc(r,"POST","/v1/accounts:delete",e)}async function Gh(r,e){return fc(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rk(r,e=!1){const t=Tr(r),n=await t.getIdToken(e),i=um(n);at(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o?.sign_in_provider;return{claims:i,token:n,authTime:lu(Kp(i.auth_time)),issuedAtTime:lu(Kp(i.iat)),expirationTime:lu(Kp(i.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Kp(r){return Number(r)*1e3}function um(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return Ph("JWT malformed, contained fewer than 3 sections"),null;try{const i=X2(t);return i?JSON.parse(i):(Ph("Failed to decode base64 JWT payload"),null)}catch(i){return Ph("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ov(r){const e=um(r);return at(e,"internal-error"),at(typeof e.exp<"u","internal-error"),at(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tu(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof di&&nk(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function nk({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=lu(this.lastLoginAt),this.creationTime=lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qh(r){const e=r.auth,t=await r.getIdToken(),n=await Tu(r,Gh(e,{idToken:t}));at(n?.users.length,e,"internal-error");const i=n.users[0];r._notifyReloadListener(i);const o=i.providerUserInfo?.length?pw(i.providerUserInfo):[],l=ok(r.providerData,o),c=r.isAnonymous,f=!(r.email&&i.passwordHash)&&!l?.length,h=c?f:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Eg(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(r,p)}async function sk(r){const e=Tr(r);await qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ok(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function pw(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(r,e){const t=await hw(r,{},async()=>{const n=Uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=r.config,l=await dw(r,i,"/v1/token",`key=${o}`),c=await r._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:n};return r.emulatorConfig&&za(r.emulatorConfig.host)&&(f.credentials="include"),fw.fetch()(l,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function lk(r,e){return fc(r,"POST","/v2/accounts:revokeToken",cm(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){at(e.idToken,"internal-error"),at(typeof e.idToken<"u","internal-error"),at(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ov(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){at(e.length!==0,"internal-error");const t=ov(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(at(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:o}=await ak(e,t);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:o}=t,l=new $l;return n&&(at(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),i&&(at(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(at(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $l,this.toJSON())}_performRefresh(){return Os("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(r,e){at(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Oi{constructor({uid:e,auth:t,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new ik(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Eg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Tu(this,this.stsTokenManager.getToken(this.auth,e));return at(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return rk(this,e)}reload(){return sk(this)}_assign(e){this!==e&&(at(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Oi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){at(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await qh(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(Lo(this.auth));const e=await this.getIdToken();return await Tu(this,tk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,i=t.email??void 0,o=t.phoneNumber??void 0,l=t.photoURL??void 0,c=t.tenantId??void 0,f=t._redirectEventId??void 0,h=t.createdAt??void 0,p=t.lastLoginAt??void 0,{uid:x,emailVerified:y,isAnonymous:w,providerData:S,stsTokenManager:T}=t;at(x&&T,e,"internal-error");const A=$l.fromJSON(this.name,T);at(typeof x=="string",e,"internal-error"),So(n,e.name),So(i,e.name),at(typeof y=="boolean",e,"internal-error"),at(typeof w=="boolean",e,"internal-error"),So(o,e.name),So(l,e.name),So(c,e.name),So(f,e.name),So(h,e.name),So(p,e.name);const j=new Oi({uid:x,auth:e,email:i,emailVerified:y,displayName:n,isAnonymous:w,photoURL:l,phoneNumber:o,tenantId:c,stsTokenManager:A,createdAt:h,lastLoginAt:p});return S&&Array.isArray(S)&&(j.providerData=S.map(U=>({...U}))),f&&(j._redirectEventId=f),j}static async _fromIdTokenResponse(e,t,n=!1){const i=new $l;i.updateFromServerResponse(t);const o=new Oi({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await qh(o),o}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];at(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?pw(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!o?.length,c=new $l;c.updateFromIdToken(n);const f=new Oi({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Eg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=new Map;function Fs(r){Us(r instanceof Function,"Expected a class definition");let e=av.get(r);return e?(Us(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,av.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}gw.type="NONE";const lv=gw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(r,e,t){return`firebase:${r}:${e}:${t}`}class Hl{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=Nh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Nh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Gh(this.auth,{idToken:e}).catch(()=>{});return t?Oi._fromGetAccountInfoResponse(this.auth,t,e):null}return Oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Hl(Fs(lv),e,n);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=i[0]||Fs(lv);const l=Nh(n,e.config.apiKey,e.name);let c=null;for(const h of t)try{const p=await h._get(l);if(p){let x;if(typeof p=="string"){const y=await Gh(e,{idToken:p}).catch(()=>{});if(!y)break;x=await Oi._fromGetAccountInfoResponse(e,y,p)}else x=Oi._fromJSON(e,p);h!==o&&(c=x),o=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Hl(o,e,n):(o=f[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async h=>{if(h!==o)try{await h._remove(l)}catch{}})),new Hl(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ww(e))return"Blackberry";if(Ew(e))return"Webos";if(xw(e))return"Safari";if((e.includes("chrome/")||yw(e))&&!e.includes("edge/"))return"Chrome";if(_w(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if(n?.length===2)return n[1]}return"Other"}function mw(r=un()){return/firefox\//i.test(r)}function xw(r=un()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yw(r=un()){return/crios\//i.test(r)}function vw(r=un()){return/iemobile/i.test(r)}function _w(r=un()){return/android/i.test(r)}function ww(r=un()){return/blackberry/i.test(r)}function Ew(r=un()){return/webos/i.test(r)}function fm(r=un()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function ck(r=un()){return fm(r)&&!!window.navigator?.standalone}function uk(){return AC()&&document.documentMode===10}function Tw(r=un()){return fm(r)||_w(r)||Ew(r)||ww(r)||/windows phone/i.test(r)||vw(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(r,e=[]){let t;switch(r){case"Browser":t=cv(un());break;case"Worker":t=`${cv(un())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${$a}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=o=>new Promise((l,c)=>{try{const f=e(o);l(f)}catch(f){c(f)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hk(r,e={}){return fc(r,"GET","/v2/passwordPolicy",cm(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=6;class pk{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??dk,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uv(this),this.idTokenSubscription=new uv(this),this.beforeStateQueue=new fk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fs(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Hl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Gh(this,{idToken:e}),n=await Oi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Gn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=n?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&c?.user&&(n=c.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return at(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await qh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(Lo(this));const t=e?Tr(e):null;return t&&at(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&at(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(Lo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(Lo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hk(this),t=new pk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wa("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await lk(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Fs(e)||this._popupRedirectResolver;at(t,this,"argument-error"),this.redirectPersistenceManager=await Hl.create(this,[Fs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(at(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,n,i);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return at(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&GR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function hc(r){return Tr(r)}class uv{constructor(e){this.auth=e,this.observer=null,this.addObserver=PC(t=>this.observer=t)}get next(){return at(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mk(r){hm=r}function xk(r){return hm.loadJS(r)}function yk(){return hm.gapiScript}function vk(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(r,e){const t=Yo(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Bo(o,e??{}))return i;us(i,"already-initialized")}return t.initialize({options:e})}function wk(r,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(Fs);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e?.popupRedirectResolver)}function Ek(r,e,t){const n=hc(r);at(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,o=Aw(e),{host:l,port:c}=Tk(e),f=c===null?"":`:${c}`,h={url:`${o}//${l}${f}/`},p=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){at(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),at(Bo(h,n.config.emulator)&&Bo(p,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=h,n.emulatorConfig=p,n.settings.appVerificationDisabledForTesting=!0,za(l)?(em(`${o}//${l}${f}`),tm("Auth",!0)):Sk()}function Aw(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Tk(r){const e=Aw(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const o=i[1];return{host:o,port:fv(n.substr(o.length+1))}}else{const[o,l]=n.split(":");return{host:o,port:fv(l)}}}function fv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Sk(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Os("not implemented")}_getIdTokenResponse(e){return Os("not implemented")}_linkToIdToken(e,t){return Os("not implemented")}_getReauthenticationResolver(e){return Os("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(r,e){return ZR(r,"POST","/v1/accounts:signInWithIdp",cm(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak="http://localhost";class Pa extends Iw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):us("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...o}=t;if(!n||!i)return null;const l=new Pa(n,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Gl(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Gl(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Gl(e,t)}buildRequest(){const e={requestUri:Ak,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Uu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends Dd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends Wu{constructor(){super("facebook.com")}static credential(e){return Pa._fromParams({providerId:Io.PROVIDER_ID,signInMethod:Io.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Io.credentialFromTaggedObject(e)}static credentialFromError(e){return Io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Io.credential(e.oauthAccessToken)}catch{return null}}}Io.FACEBOOK_SIGN_IN_METHOD="facebook.com";Io.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Pa._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Ds.credential(t,n)}catch{return null}}}Ds.GOOGLE_SIGN_IN_METHOD="google.com";Ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends Wu{constructor(){super("github.com")}static credential(e){return Pa._fromParams({providerId:Co.PROVIDER_ID,signInMethod:Co.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Co.credentialFromTaggedObject(e)}static credentialFromError(e){return Co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Co.credential(e.oauthAccessToken)}catch{return null}}}Co.GITHUB_SIGN_IN_METHOD="github.com";Co.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends Wu{constructor(){super("twitter.com")}static credential(e,t){return Pa._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ro.credentialFromTaggedObject(e)}static credentialFromError(e){return Ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Ro.credential(t,n)}catch{return null}}}Ro.TWITTER_SIGN_IN_METHOD="twitter.com";Ro.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const o=await Oi._fromIdTokenResponse(e,n,i),l=hv(n);return new Zl({user:o,providerId:l,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=hv(n);return new Zl({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function hv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh extends di{constructor(e,t,n,i){super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Kh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Kh(e,t,n,i)}}function Cw(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Kh._fromErrorAndOperation(r,o,e,n):o})}async function Ik(r,e,t=!1){const n=await Tu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Zl._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ck(r,e,t=!1){const{auth:n}=r;if(Gn(n.app))return Promise.reject(Lo(n));const i="reauthenticate";try{const o=await Tu(r,Cw(n,i,e,r),t);at(o.idToken,n,"internal-error");const l=um(o.idToken);at(l,n,"internal-error");const{sub:c}=l;return at(r.uid===c,n,"user-mismatch"),Zl._forOperation(r,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&us(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rk(r,e,t=!1){if(Gn(r.app))return Promise.reject(Lo(r));const n="signIn",i=await Cw(r,n,e),o=await Zl._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(o.user),o}function kk(r,e,t,n){return Tr(r).onIdTokenChanged(e,t,n)}function bk(r,e,t){return Tr(r).beforeAuthStateChanged(e,t)}function Rw(r,e,t,n){return Tr(r).onAuthStateChanged(e,t,n)}function kw(r){return Tr(r).signOut()}const Xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Xh,"1"),this.storage.removeItem(Xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=1e3,Nk=10;class Pw extends bw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(n);!t&&this.localCache[n]===l||this.notifyListeners(n,l)},o=this.storage.getItem(n);uk()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Nk):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},Pk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Pw.type="LOCAL";const Dk=Pw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw extends bw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Nw.type="SESSION";const Dw=Nw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new Od(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const c=Array.from(l).map(async h=>h(t.origin,o)),f=await Ok(c);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Od.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,f)=>{const h=dm("",20);i.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},n);l={messageChannel:i,onMessage(x){const y=x;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(y.data.response);break;default:clearTimeout(p),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(){return window}function Lk(r){ss().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(){return typeof ss().WorkerGlobalScope<"u"&&typeof ss().importScripts=="function"}async function Mk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jk(){return navigator?.serviceWorker?.controller||null}function Bk(){return Ow()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="firebaseLocalStorageDb",Vk=1,Yh="firebaseLocalStorage",Lw="fbase_key";class $u{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Fd(r,e){return r.transaction([Yh],e?"readwrite":"readonly").objectStore(Yh)}function Uk(){const r=indexedDB.deleteDatabase(Fw);return new $u(r).toPromise()}function Tg(){const r=indexedDB.open(Fw,Vk);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(Yh,{keyPath:Lw})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(Yh)?e(n):(n.close(),await Uk(),e(await Tg()))})})}async function dv(r,e,t){const n=Fd(r,!0).put({[Lw]:e,value:t});return new $u(n).toPromise()}async function zk(r,e){const t=Fd(r,!1).get(e),n=await new $u(t).toPromise();return n===void 0?null:n.value}function pv(r,e){const t=Fd(r,!0).delete(e);return new $u(t).toPromise()}const Wk=800,$k=3;class Mw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>$k)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ow()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Od._getInstance(Bk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Mk(),!this.activeServiceWorker)return;this.sender=new Fk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tg();return await dv(e,Xh,"1"),await pv(e,Xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>dv(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>zk(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>pv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Fd(i,!1).getAll();return new $u(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Wk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Mw.type="LOCAL";const Hk=Mw;new zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(r,e){return e?Fs(e):(at(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm extends Iw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Gl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Gl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Gk(r){return Rk(r.auth,new gm(r),r.bypassAuthState)}function qk(r){const{auth:e,user:t}=r;return at(t,e,"internal-error"),Ck(t,new gm(r),r.bypassAuthState)}async function Kk(r){const{auth:e,user:t}=r;return at(t,e,"internal-error"),Ik(t,new gm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,t,n,i,o=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gk;case"linkViaPopup":case"linkViaRedirect":return Kk;case"reauthViaPopup":case"reauthViaRedirect":return qk;default:us(this.auth,"internal-error")}}resolve(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=new zu(2e3,1e4);async function Yk(r,e,t){if(Gn(r.app))return Promise.reject(Mi(r,"operation-not-supported-in-this-environment"));const n=hc(r);uw(r,e,Dd);const i=pm(n,t);return new Ia(n,"signInViaPopup",e,i).executeNotNull()}class Ia extends jw{constructor(e,t,n,i,o){super(e,t,i,o),this.provider=n,this.authWindow=null,this.pollId=null,Ia.currentPopupAction&&Ia.currentPopupAction.cancel(),Ia.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return at(e,this.auth,"internal-error"),e}async onExecution(){Us(this.filter.length===1,"Popup operations only handle one event");const e=dm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ia.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Xk.get())};e()}}Ia.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk="pendingRedirect",Dh=new Map;class Jk extends jw{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Dh.get(this.auth._key());if(!e){try{const n=await Zk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Dh.set(this.auth._key(),e)}return this.bypassAuthState||Dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Zk(r,e){const t=Vw(e),n=Bw(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}async function eb(r,e){return Bw(r)._set(Vw(e),"true")}function tb(r,e){Dh.set(r._key(),e)}function Bw(r){return Fs(r._redirectPersistence)}function Vw(r){return Nh(Qk,r.config.apiKey,r.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(r,e,t){return nb(r,e,t)}async function nb(r,e,t){if(Gn(r.app))return Promise.reject(Lo(r));const n=hc(r);uw(r,e,Dd),await n._initializationPromise;const i=pm(n,t);return await eb(i,n),i._openRedirect(n,e,"signInViaRedirect")}async function ib(r,e){return await hc(r)._initializationPromise,Uw(r,e,!1)}async function Uw(r,e,t=!1){if(Gn(r.app))return Promise.reject(Lo(r));const n=hc(r),i=pm(n,e),l=await new Jk(n,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=600*1e3;class ob{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ab(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!zw(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Mi(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sb&&this.cachedEventUids.clear(),this.cachedEventUids.has(gv(e))}saveEventToCache(e){this.cachedEventUids.add(gv(e)),this.lastProcessedEventTime=Date.now()}}function gv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function zw({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function ab(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lb(r,e={}){return fc(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ub=/^https?/;async function fb(r){if(r.config.emulator)return;const{authorizedDomains:e}=await lb(r);for(const t of e)try{if(hb(t))return}catch{}us(r,"unauthorized-domain")}function hb(r){const e=wg(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const l=new URL(r);return l.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===n}if(!ub.test(t))return!1;if(cb.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=new zu(3e4,6e4);function mv(){const r=ss().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function pb(r){return new Promise((e,t)=>{function n(){mv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mv(),t(Mi(r,"network-request-failed"))},timeout:db.get()})}if(ss().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ss().gapi?.load)n();else{const i=vk("iframefcb");return ss()[i]=()=>{gapi.load?n():t(Mi(r,"network-request-failed"))},xk(`${yk()}?onload=${i}`).catch(o=>t(o))}}).catch(e=>{throw Oh=null,e})}let Oh=null;function gb(r){return Oh=Oh||pb(r),Oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=new zu(5e3,15e3),xb="__/auth/iframe",yb="emulator/auth/iframe",vb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_b=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wb(r){const e=r.config;at(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?lm(e,yb):`https://${r.config.authDomain}/${xb}`,n={apiKey:e.apiKey,appName:r.name,v:$a},i=_b.get(r.config.apiHost);i&&(n.eid=i);const o=r._getFrameworks();return o.length&&(n.fw=o.join(",")),`${t}?${Uu(n).slice(1)}`}async function Eb(r){const e=await gb(r),t=ss().gapi;return at(t,r,"internal-error"),e.open({where:document.body,url:wb(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vb,dontclear:!0},n=>new Promise(async(i,o)=>{await n.restyle({setHideOnLeave:!1});const l=Mi(r,"network-request-failed"),c=ss().setTimeout(()=>{o(l)},mb.get());function f(){ss().clearTimeout(c),i(n)}n.ping(f).then(f,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Sb=500,Ab=600,Ib="_blank",Cb="http://localhost";class xv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Rb(r,e,t,n=Sb,i=Ab){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const f={...Tb,width:n.toString(),height:i.toString(),top:o,left:l},h=un().toLowerCase();t&&(c=yw(h)?Ib:t),mw(h)&&(e=e||Cb,f.scrollbars="yes");const p=Object.entries(f).reduce((y,[w,S])=>`${y}${w}=${S},`,"");if(ck(h)&&c!=="_self")return kb(e||"",c),new xv(null);const x=window.open(e||"",c,p);at(x,r,"popup-blocked");try{x.focus()}catch{}return new xv(x)}function kb(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="__/auth/handler",Pb="emulator/auth/handler",Nb=encodeURIComponent("fac");async function yv(r,e,t,n,i,o){at(r.config.authDomain,r,"auth-domain-config-required"),at(r.config.apiKey,r,"invalid-api-key");const l={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:$a,eventId:i};if(e instanceof Dd){e.setDefaultLanguage(r.languageCode),l.providerId=e.providerId||"",bC(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,x]of Object.entries({}))l[p]=x}if(e instanceof Wu){const p=e.getScopes().filter(x=>x!=="");p.length>0&&(l.scopes=p.join(","))}r.tenantId&&(l.tid=r.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const f=await r._getAppCheckToken(),h=f?`#${Nb}=${encodeURIComponent(f)}`:"";return`${Db(r)}?${Uu(c).slice(1)}${h}`}function Db({config:r}){return r.emulator?lm(r,Pb):`https://${r.authDomain}/${bb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="webStorageSupport";class Ob{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dw,this._completeRedirectFn=Uw,this._overrideRedirectResult=tb}async _openPopup(e,t,n,i){Us(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await yv(e,t,n,wg(),i);return Rb(e,o,dm())}async _openRedirect(e,t,n,i){await this._originValidation(e);const o=await yv(e,t,n,wg(),i);return Lk(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Us(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Eb(e),n=new ob(e);return t.register("authEvent",i=>(at(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xp,{type:Xp},i=>{const o=i?.[0]?.[Xp];o!==void 0&&t(!!o),us(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fb(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Tw()||xw()||fm()}}const Fb=Ob;var vv="@firebase/auth",_v="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){at(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jb(r){Bi(new fi("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=n.options;at(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const f={apiKey:l,authDomain:c,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sw(r)},h=new gk(n,i,o,f);return wk(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Bi(new fi("auth-internal",e=>{const t=hc(e.getProvider("auth").getImmediate());return(n=>new Lb(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),bn(vv,_v,Mb(r)),bn(vv,_v,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=300,Vb=Z2("authIdTokenMaxAge")||Bb;let wv=null;const Ub=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Vb)return;const i=t?.token;wv!==i&&(wv=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function zb(r=Nd()){const e=Yo(r,"auth");if(e.isInitialized())return e.getImmediate();const t=_k(r,{popupRedirectResolver:Fb,persistence:[Hk,Dk,Dw]}),n=Z2("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const l=Ub(o.toString());bk(t,l,()=>l(t.currentUser)),kk(t,c=>l(c))}}const i=Y2("auth");return i&&Ek(t,`http://${i}`),t}function Wb(){return document.getElementsByTagName("head")?.[0]??document}mk({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const o=Mi("internal-error");o.customData=i,t(o)},n.type="text/javascript",n.charset="UTF-8",Wb().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jb("Browser");var Ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mo,Ww;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,R){function C(){}C.prototype=R.prototype,k.D=R.prototype,k.prototype=new C,k.prototype.constructor=k,k.C=function(D,L,V){for(var O=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)O[Me-2]=arguments[Me];return R.prototype[L].apply(D,O)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,R,C){C||(C=0);var D=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)D[L]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(L=0;16>L;++L)D[L]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=k.g[0],C=k.g[1],L=k.g[2];var V=k.g[3],O=R+(V^C&(L^V))+D[0]+3614090360&4294967295;R=C+(O<<7&4294967295|O>>>25),O=V+(L^R&(C^L))+D[1]+3905402710&4294967295,V=R+(O<<12&4294967295|O>>>20),O=L+(C^V&(R^C))+D[2]+606105819&4294967295,L=V+(O<<17&4294967295|O>>>15),O=C+(R^L&(V^R))+D[3]+3250441966&4294967295,C=L+(O<<22&4294967295|O>>>10),O=R+(V^C&(L^V))+D[4]+4118548399&4294967295,R=C+(O<<7&4294967295|O>>>25),O=V+(L^R&(C^L))+D[5]+1200080426&4294967295,V=R+(O<<12&4294967295|O>>>20),O=L+(C^V&(R^C))+D[6]+2821735955&4294967295,L=V+(O<<17&4294967295|O>>>15),O=C+(R^L&(V^R))+D[7]+4249261313&4294967295,C=L+(O<<22&4294967295|O>>>10),O=R+(V^C&(L^V))+D[8]+1770035416&4294967295,R=C+(O<<7&4294967295|O>>>25),O=V+(L^R&(C^L))+D[9]+2336552879&4294967295,V=R+(O<<12&4294967295|O>>>20),O=L+(C^V&(R^C))+D[10]+4294925233&4294967295,L=V+(O<<17&4294967295|O>>>15),O=C+(R^L&(V^R))+D[11]+2304563134&4294967295,C=L+(O<<22&4294967295|O>>>10),O=R+(V^C&(L^V))+D[12]+1804603682&4294967295,R=C+(O<<7&4294967295|O>>>25),O=V+(L^R&(C^L))+D[13]+4254626195&4294967295,V=R+(O<<12&4294967295|O>>>20),O=L+(C^V&(R^C))+D[14]+2792965006&4294967295,L=V+(O<<17&4294967295|O>>>15),O=C+(R^L&(V^R))+D[15]+1236535329&4294967295,C=L+(O<<22&4294967295|O>>>10),O=R+(L^V&(C^L))+D[1]+4129170786&4294967295,R=C+(O<<5&4294967295|O>>>27),O=V+(C^L&(R^C))+D[6]+3225465664&4294967295,V=R+(O<<9&4294967295|O>>>23),O=L+(R^C&(V^R))+D[11]+643717713&4294967295,L=V+(O<<14&4294967295|O>>>18),O=C+(V^R&(L^V))+D[0]+3921069994&4294967295,C=L+(O<<20&4294967295|O>>>12),O=R+(L^V&(C^L))+D[5]+3593408605&4294967295,R=C+(O<<5&4294967295|O>>>27),O=V+(C^L&(R^C))+D[10]+38016083&4294967295,V=R+(O<<9&4294967295|O>>>23),O=L+(R^C&(V^R))+D[15]+3634488961&4294967295,L=V+(O<<14&4294967295|O>>>18),O=C+(V^R&(L^V))+D[4]+3889429448&4294967295,C=L+(O<<20&4294967295|O>>>12),O=R+(L^V&(C^L))+D[9]+568446438&4294967295,R=C+(O<<5&4294967295|O>>>27),O=V+(C^L&(R^C))+D[14]+3275163606&4294967295,V=R+(O<<9&4294967295|O>>>23),O=L+(R^C&(V^R))+D[3]+4107603335&4294967295,L=V+(O<<14&4294967295|O>>>18),O=C+(V^R&(L^V))+D[8]+1163531501&4294967295,C=L+(O<<20&4294967295|O>>>12),O=R+(L^V&(C^L))+D[13]+2850285829&4294967295,R=C+(O<<5&4294967295|O>>>27),O=V+(C^L&(R^C))+D[2]+4243563512&4294967295,V=R+(O<<9&4294967295|O>>>23),O=L+(R^C&(V^R))+D[7]+1735328473&4294967295,L=V+(O<<14&4294967295|O>>>18),O=C+(V^R&(L^V))+D[12]+2368359562&4294967295,C=L+(O<<20&4294967295|O>>>12),O=R+(C^L^V)+D[5]+4294588738&4294967295,R=C+(O<<4&4294967295|O>>>28),O=V+(R^C^L)+D[8]+2272392833&4294967295,V=R+(O<<11&4294967295|O>>>21),O=L+(V^R^C)+D[11]+1839030562&4294967295,L=V+(O<<16&4294967295|O>>>16),O=C+(L^V^R)+D[14]+4259657740&4294967295,C=L+(O<<23&4294967295|O>>>9),O=R+(C^L^V)+D[1]+2763975236&4294967295,R=C+(O<<4&4294967295|O>>>28),O=V+(R^C^L)+D[4]+1272893353&4294967295,V=R+(O<<11&4294967295|O>>>21),O=L+(V^R^C)+D[7]+4139469664&4294967295,L=V+(O<<16&4294967295|O>>>16),O=C+(L^V^R)+D[10]+3200236656&4294967295,C=L+(O<<23&4294967295|O>>>9),O=R+(C^L^V)+D[13]+681279174&4294967295,R=C+(O<<4&4294967295|O>>>28),O=V+(R^C^L)+D[0]+3936430074&4294967295,V=R+(O<<11&4294967295|O>>>21),O=L+(V^R^C)+D[3]+3572445317&4294967295,L=V+(O<<16&4294967295|O>>>16),O=C+(L^V^R)+D[6]+76029189&4294967295,C=L+(O<<23&4294967295|O>>>9),O=R+(C^L^V)+D[9]+3654602809&4294967295,R=C+(O<<4&4294967295|O>>>28),O=V+(R^C^L)+D[12]+3873151461&4294967295,V=R+(O<<11&4294967295|O>>>21),O=L+(V^R^C)+D[15]+530742520&4294967295,L=V+(O<<16&4294967295|O>>>16),O=C+(L^V^R)+D[2]+3299628645&4294967295,C=L+(O<<23&4294967295|O>>>9),O=R+(L^(C|~V))+D[0]+4096336452&4294967295,R=C+(O<<6&4294967295|O>>>26),O=V+(C^(R|~L))+D[7]+1126891415&4294967295,V=R+(O<<10&4294967295|O>>>22),O=L+(R^(V|~C))+D[14]+2878612391&4294967295,L=V+(O<<15&4294967295|O>>>17),O=C+(V^(L|~R))+D[5]+4237533241&4294967295,C=L+(O<<21&4294967295|O>>>11),O=R+(L^(C|~V))+D[12]+1700485571&4294967295,R=C+(O<<6&4294967295|O>>>26),O=V+(C^(R|~L))+D[3]+2399980690&4294967295,V=R+(O<<10&4294967295|O>>>22),O=L+(R^(V|~C))+D[10]+4293915773&4294967295,L=V+(O<<15&4294967295|O>>>17),O=C+(V^(L|~R))+D[1]+2240044497&4294967295,C=L+(O<<21&4294967295|O>>>11),O=R+(L^(C|~V))+D[8]+1873313359&4294967295,R=C+(O<<6&4294967295|O>>>26),O=V+(C^(R|~L))+D[15]+4264355552&4294967295,V=R+(O<<10&4294967295|O>>>22),O=L+(R^(V|~C))+D[6]+2734768916&4294967295,L=V+(O<<15&4294967295|O>>>17),O=C+(V^(L|~R))+D[13]+1309151649&4294967295,C=L+(O<<21&4294967295|O>>>11),O=R+(L^(C|~V))+D[4]+4149444226&4294967295,R=C+(O<<6&4294967295|O>>>26),O=V+(C^(R|~L))+D[11]+3174756917&4294967295,V=R+(O<<10&4294967295|O>>>22),O=L+(R^(V|~C))+D[2]+718787259&4294967295,L=V+(O<<15&4294967295|O>>>17),O=C+(V^(L|~R))+D[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(L+(O<<21&4294967295|O>>>11))&4294967295,k.g[2]=k.g[2]+L&4294967295,k.g[3]=k.g[3]+V&4294967295}n.prototype.u=function(k,R){R===void 0&&(R=k.length);for(var C=R-this.blockSize,D=this.B,L=this.h,V=0;V<R;){if(L==0)for(;V<=C;)i(this,k,V),V+=this.blockSize;if(typeof k=="string"){for(;V<R;)if(D[L++]=k.charCodeAt(V++),L==this.blockSize){i(this,D),L=0;break}}else for(;V<R;)if(D[L++]=k[V++],L==this.blockSize){i(this,D),L=0;break}}this.h=L,this.o+=R},n.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;var C=8*this.o;for(R=k.length-8;R<k.length;++R)k[R]=C&255,C/=256;for(this.u(k),k=Array(16),R=C=0;4>R;++R)for(var D=0;32>D;D+=8)k[C++]=this.g[R]>>>D&255;return k};function o(k,R){var C=c;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=R(k)}function l(k,R){this.h=R;for(var C=[],D=!0,L=k.length-1;0<=L;L--){var V=k[L]|0;D&&V==R||(C[L]=V,D=!1)}this.g=C}var c={};function f(k){return-128<=k&&128>k?o(k,function(R){return new l([R|0],0>R?-1:0)}):new l([k|0],0>k?-1:0)}function h(k){if(isNaN(k)||!isFinite(k))return x;if(0>k)return A(h(-k));for(var R=[],C=1,D=0;k>=C;D++)R[D]=k/C|0,C*=4294967296;return new l(R,0)}function p(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return A(p(k.substring(1),R));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=h(Math.pow(R,8)),D=x,L=0;L<k.length;L+=8){var V=Math.min(8,k.length-L),O=parseInt(k.substring(L,L+V),R);8>V?(V=h(Math.pow(R,V)),D=D.j(V).add(h(O))):(D=D.j(C),D=D.add(h(O)))}return D}var x=f(0),y=f(1),w=f(16777216);r=l.prototype,r.m=function(){if(T(this))return-A(this).m();for(var k=0,R=1,C=0;C<this.g.length;C++){var D=this.i(C);k+=(0<=D?D:4294967296+D)*R,R*=4294967296}return k},r.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(S(this))return"0";if(T(this))return"-"+A(this).toString(k);for(var R=h(Math.pow(k,6)),C=this,D="";;){var L=Q(C,R).g;C=j(C,L.j(R));var V=((0<C.g.length?C.g[0]:C.h)>>>0).toString(k);if(C=L,S(C))return V+D;for(;6>V.length;)V="0"+V;D=V+D}},r.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function S(k){if(k.h!=0)return!1;for(var R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function T(k){return k.h==-1}r.l=function(k){return k=j(this,k),T(k)?-1:S(k)?0:1};function A(k){for(var R=k.g.length,C=[],D=0;D<R;D++)C[D]=~k.g[D];return new l(C,~k.h).add(y)}r.abs=function(){return T(this)?A(this):this},r.add=function(k){for(var R=Math.max(this.g.length,k.g.length),C=[],D=0,L=0;L<=R;L++){var V=D+(this.i(L)&65535)+(k.i(L)&65535),O=(V>>>16)+(this.i(L)>>>16)+(k.i(L)>>>16);D=O>>>16,V&=65535,O&=65535,C[L]=O<<16|V}return new l(C,C[C.length-1]&-2147483648?-1:0)};function j(k,R){return k.add(A(R))}r.j=function(k){if(S(this)||S(k))return x;if(T(this))return T(k)?A(this).j(A(k)):A(A(this).j(k));if(T(k))return A(this.j(A(k)));if(0>this.l(w)&&0>k.l(w))return h(this.m()*k.m());for(var R=this.g.length+k.g.length,C=[],D=0;D<2*R;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(var L=0;L<k.g.length;L++){var V=this.i(D)>>>16,O=this.i(D)&65535,Me=k.i(L)>>>16,ee=k.i(L)&65535;C[2*D+2*L]+=O*ee,U(C,2*D+2*L),C[2*D+2*L+1]+=V*ee,U(C,2*D+2*L+1),C[2*D+2*L+1]+=O*Me,U(C,2*D+2*L+1),C[2*D+2*L+2]+=V*Me,U(C,2*D+2*L+2)}for(D=0;D<R;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=R;D<2*R;D++)C[D]=0;return new l(C,0)};function U(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function F(k,R){this.g=k,this.h=R}function Q(k,R){if(S(R))throw Error("division by zero");if(S(k))return new F(x,x);if(T(k))return R=Q(A(k),R),new F(A(R.g),A(R.h));if(T(R))return R=Q(k,A(R)),new F(A(R.g),R.h);if(30<k.g.length){if(T(k)||T(R))throw Error("slowDivide_ only works with positive integers.");for(var C=y,D=R;0>=D.l(k);)C=ne(C),D=ne(D);var L=he(C,1),V=he(D,1);for(D=he(D,2),C=he(C,2);!S(D);){var O=V.add(D);0>=O.l(k)&&(L=L.add(C),V=O),D=he(D,1),C=he(C,1)}return R=j(k,L.j(R)),new F(L,R)}for(L=x;0<=k.l(R);){for(C=Math.max(1,Math.floor(k.m()/R.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),V=h(C),O=V.j(R);T(O)||0<O.l(k);)C-=D,V=h(C),O=V.j(R);S(V)&&(V=y),L=L.add(V),k=j(k,O)}return new F(L,k)}r.A=function(k){return Q(this,k).h},r.and=function(k){for(var R=Math.max(this.g.length,k.g.length),C=[],D=0;D<R;D++)C[D]=this.i(D)&k.i(D);return new l(C,this.h&k.h)},r.or=function(k){for(var R=Math.max(this.g.length,k.g.length),C=[],D=0;D<R;D++)C[D]=this.i(D)|k.i(D);return new l(C,this.h|k.h)},r.xor=function(k){for(var R=Math.max(this.g.length,k.g.length),C=[],D=0;D<R;D++)C[D]=this.i(D)^k.i(D);return new l(C,this.h^k.h)};function ne(k){for(var R=k.g.length+1,C=[],D=0;D<R;D++)C[D]=k.i(D)<<1|k.i(D-1)>>>31;return new l(C,k.h)}function he(k,R){var C=R>>5;R%=32;for(var D=k.g.length-C,L=[],V=0;V<D;V++)L[V]=0<R?k.i(V+C)>>>R|k.i(V+C+1)<<32-R:k.i(V+C);return new l(L,k.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Ww=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,Mo=l}).apply(typeof Ev<"u"?Ev:typeof self<"u"?self:typeof window<"u"?window:{});var mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $w,ru,Hw,Fh,Sg,Gw,qw,Kw;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,I){return d==Array.prototype||d==Object.prototype||(d[_]=I.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof mh=="object"&&mh];for(var _=0;_<d.length;++_){var I=d[_];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var n=t(this);function i(d,_){if(_)e:{var I=n;d=d.split(".");for(var M=0;M<d.length-1;M++){var se=d[M];if(!(se in I))break e;I=I[se]}d=d[d.length-1],M=I[d],_=_(M),_!=M&&_!=null&&e(I,d,{configurable:!0,writable:!0,value:_})}}function o(d,_){d instanceof String&&(d+="");var I=0,M=!1,se={next:function(){if(!M&&I<d.length){var ge=I++;return{value:_(ge,d[ge]),done:!1}}return M=!0,{done:!0,value:void 0}}};return se[Symbol.iterator]=function(){return se},se}i("Array.prototype.values",function(d){return d||function(){return o(this,function(_,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function h(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function p(d,_,I){return d.call.apply(d.bind,arguments)}function x(d,_,I){if(!d)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var se=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(se,M),d.apply(_,se)}}return function(){return d.apply(_,arguments)}}function y(d,_,I){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:x,y.apply(null,arguments)}function w(d,_){var I=Array.prototype.slice.call(arguments,1);return function(){var M=I.slice();return M.push.apply(M,arguments),d.apply(this,M)}}function S(d,_){function I(){}I.prototype=_.prototype,d.aa=_.prototype,d.prototype=new I,d.prototype.constructor=d,d.Qb=function(M,se,ge){for(var Ve=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)Ve[Dt-2]=arguments[Dt];return _.prototype[se].apply(M,Ve)}}function T(d){const _=d.length;if(0<_){const I=Array(_);for(let M=0;M<_;M++)I[M]=d[M];return I}return[]}function A(d,_){for(let I=1;I<arguments.length;I++){const M=arguments[I];if(f(M)){const se=d.length||0,ge=M.length||0;d.length=se+ge;for(let Ve=0;Ve<ge;Ve++)d[se+Ve]=M[Ve]}else d.push(M)}}class j{constructor(_,I){this.i=_,this.j=I,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function U(d){return/^[\s\xa0]*$/.test(d)}function F(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function Q(d){return Q[" "](d),d}Q[" "]=function(){};var ne=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function he(d,_,I){for(const M in d)_.call(I,d[M],M,d)}function k(d,_){for(const I in d)_.call(void 0,d[I],I,d)}function R(d){const _={};for(const I in d)_[I]=d[I];return _}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(d,_){let I,M;for(let se=1;se<arguments.length;se++){M=arguments[se];for(I in M)d[I]=M[I];for(let ge=0;ge<C.length;ge++)I=C[ge],Object.prototype.hasOwnProperty.call(M,I)&&(d[I]=M[I])}}function L(d){var _=1;d=d.split(":");const I=[];for(;0<_&&d.length;)I.push(d.shift()),_--;return d.length&&I.push(d.join(":")),I}function V(d){c.setTimeout(()=>{throw d},0)}function O(){var d=Ee;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class Me{constructor(){this.h=this.g=null}add(_,I){const M=ee.get();M.set(_,I),this.h?this.h.next=M:this.g=M,this.h=M}}var ee=new j(()=>new De,d=>d.reset());class De{constructor(){this.next=this.g=this.h=null}set(_,I){this.h=_,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,pe=!1,Ee=new Me,Ae=()=>{const d=c.Promise.resolve(void 0);Ce=()=>{d.then(J)}};var J=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(I){V(I)}var _=ee;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}pe=!1};function N(){this.s=this.s,this.C=this.C}N.prototype.s=!1,N.prototype.ma=function(){this.s||(this.s=!0,this.N())},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var K=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const I=()=>{};c.addEventListener("test",I,_),c.removeEventListener("test",I,_)}catch{}return d})();function Y(d,_){if(q.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var I=this.type=d.type,M=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(ne){e:{try{Q(_.nodeName);var se=!0;break e}catch{}se=!1}se||(_=null)}}else I=="mouseover"?_=d.fromElement:I=="mouseout"&&(_=d.toElement);this.relatedTarget=_,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:re[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Y.aa.h.call(this)}}S(Y,q);var re={2:"touch",3:"pen",4:"mouse"};Y.prototype.h=function(){Y.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var _e="closure_listenable_"+(1e6*Math.random()|0),ke=0;function Te(d,_,I,M,se){this.listener=d,this.proxy=null,this.src=_,this.type=I,this.capture=!!M,this.ha=se,this.key=++ke,this.da=this.fa=!1}function me(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Qe(d){this.src=d,this.g={},this.h=0}Qe.prototype.add=function(d,_,I,M,se){var ge=d.toString();d=this.g[ge],d||(d=this.g[ge]=[],this.h++);var Ve=dt(d,_,M,se);return-1<Ve?(_=d[Ve],I||(_.fa=!1)):(_=new Te(_,this.src,ge,!!M,se),_.fa=I,d.push(_)),_};function Ke(d,_){var I=_.type;if(I in d.g){var M=d.g[I],se=Array.prototype.indexOf.call(M,_,void 0),ge;(ge=0<=se)&&Array.prototype.splice.call(M,se,1),ge&&(me(_),d.g[I].length==0&&(delete d.g[I],d.h--))}}function dt(d,_,I,M){for(var se=0;se<d.length;++se){var ge=d[se];if(!ge.da&&ge.listener==_&&ge.capture==!!I&&ge.ha==M)return se}return-1}var Ze="closure_lm_"+(1e6*Math.random()|0),it={};function et(d,_,I,M,se){if(Array.isArray(_)){for(var ge=0;ge<_.length;ge++)et(d,_[ge],I,M,se);return null}return I=zi(I),d&&d[_e]?d.K(_,I,h(M)?!!M.capture:!1,se):Ue(d,_,I,!1,M,se)}function Ue(d,_,I,M,se,ge){if(!_)throw Error("Invalid event type");var Ve=h(se)?!!se.capture:!!se,Dt=fn(d);if(Dt||(d[Ze]=Dt=new Qe(d)),I=Dt.add(_,I,M,Ve,ge),I.proxy)return I;if(M=mt(),I.proxy=M,M.src=d,M.listener=I,d.addEventListener)K||(se=Ve),se===void 0&&(se=!1),d.addEventListener(_.toString(),M,se);else if(d.attachEvent)d.attachEvent(Jt(_.toString()),M);else if(d.addListener&&d.removeListener)d.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return I}function mt(){function d(I){return _.call(d.src,d.listener,I)}const _=bt;return d}function ft(d,_,I,M,se){if(Array.isArray(_))for(var ge=0;ge<_.length;ge++)ft(d,_[ge],I,M,se);else M=h(M)?!!M.capture:!!M,I=zi(I),d&&d[_e]?(d=d.i,_=String(_).toString(),_ in d.g&&(ge=d.g[_],I=dt(ge,I,M,se),-1<I&&(me(ge[I]),Array.prototype.splice.call(ge,I,1),ge.length==0&&(delete d.g[_],d.h--)))):d&&(d=fn(d))&&(_=d.g[_.toString()],d=-1,_&&(d=dt(_,I,M,se)),(I=-1<d?_[d]:null)&&jt(I))}function jt(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[_e])Ke(_.i,d);else{var I=d.type,M=d.proxy;_.removeEventListener?_.removeEventListener(I,M,d.capture):_.detachEvent?_.detachEvent(Jt(I),M):_.addListener&&_.removeListener&&_.removeListener(M),(I=fn(_))?(Ke(I,d),I.h==0&&(I.src=null,_[Ze]=null)):me(d)}}}function Jt(d){return d in it?it[d]:it[d]="on"+d}function bt(d,_){if(d.da)d=!0;else{_=new Y(_,this);var I=d.listener,M=d.ha||d.src;d.fa&&jt(d),d=I.call(M,_)}return d}function fn(d){return d=d[Ze],d instanceof Qe?d:null}var Br="__closure_events_fn_"+(1e9*Math.random()>>>0);function zi(d){return typeof d=="function"?d:(d[Br]||(d[Br]=function(_){return d.handleEvent(_)}),d[Br])}function Zt(){N.call(this),this.i=new Qe(this),this.M=this,this.F=null}S(Zt,N),Zt.prototype[_e]=!0,Zt.prototype.removeEventListener=function(d,_,I,M){ft(this,d,_,I,M)};function er(d,_){var I,M=d.F;if(M)for(I=[];M;M=M.F)I.push(M);if(d=d.M,M=_.type||_,typeof _=="string")_=new q(_,d);else if(_ instanceof q)_.target=_.target||d;else{var se=_;_=new q(M,d),D(_,se)}if(se=!0,I)for(var ge=I.length-1;0<=ge;ge--){var Ve=_.g=I[ge];se=Vr(Ve,M,!0,_)&&se}if(Ve=_.g=d,se=Vr(Ve,M,!0,_)&&se,se=Vr(Ve,M,!1,_)&&se,I)for(ge=0;ge<I.length;ge++)Ve=_.g=I[ge],se=Vr(Ve,M,!1,_)&&se}Zt.prototype.N=function(){if(Zt.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var I=d.g[_],M=0;M<I.length;M++)me(I[M]);delete d.g[_],d.h--}}this.F=null},Zt.prototype.K=function(d,_,I,M){return this.i.add(String(d),_,!1,I,M)},Zt.prototype.L=function(d,_,I,M){return this.i.add(String(d),_,!0,I,M)};function Vr(d,_,I,M){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var se=!0,ge=0;ge<_.length;++ge){var Ve=_[ge];if(Ve&&!Ve.da&&Ve.capture==I){var Dt=Ve.listener,Ar=Ve.ha||Ve.src;Ve.fa&&Ke(d.i,Ve),se=Dt.call(Ar,M)!==!1&&se}}return se&&!M.defaultPrevented}function ea(d,_,I){if(typeof d=="function")I&&(d=y(d,I));else if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:c.setTimeout(d,_||0)}function mi(d){d.g=ea(()=>{d.g=null,d.i&&(d.i=!1,mi(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class Wi extends N{constructor(_,I){super(),this.m=_,this.l=I,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:mi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $i(d){N.call(this),this.h=d,this.g={}}S($i,N);var Ks=[];function Xs(d){he(d.g,function(_,I){this.g.hasOwnProperty(I)&&jt(_)},d),d.g={}}$i.prototype.N=function(){$i.aa.N.call(this),Xs(this)},$i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ys=c.JSON.stringify,ta=c.JSON.parse,ra=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function Hi(){}Hi.prototype.h=null;function gs(d){return d.h||(d.h=d.i())}function ms(){}var vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qn(){q.call(this,"d")}S(Qn,q);function xi(){q.call(this,"c")}S(xi,q);var Jn={},na=null;function xs(){return na=na||new Zt}Jn.La="serverreachability";function ia(d){q.call(this,Jn.La,d)}S(ia,q);function yi(d){const _=xs();er(_,new ia(_))}Jn.STAT_EVENT="statevent";function sa(d,_){q.call(this,Jn.STAT_EVENT,d),this.stat=_}S(sa,q);function tr(d){const _=xs();er(_,new sa(_,d))}Jn.Ma="timingevent";function Qs(d,_){q.call(this,Jn.Ma,d),this.size=_}S(Qs,q);function hn(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},_)}function ys(){this.g=!0}ys.prototype.xa=function(){this.g=!1};function vs(d,_,I,M,se,ge){d.info(function(){if(d.g)if(ge)for(var Ve="",Dt=ge.split("&"),Ar=0;Ar<Dt.length;Ar++){var wt=Dt[Ar].split("=");if(1<wt.length){var Pr=wt[0];wt=wt[1];var gr=Pr.split("_");Ve=2<=gr.length&&gr[1]=="type"?Ve+(Pr+"="+wt+"&"):Ve+(Pr+"=redacted&")}}else Ve=null;else Ve=ge;return"XMLHTTP REQ ("+M+") [attempt "+se+"]: "+_+`
`+I+`
`+Ve})}function Js(d,_,I,M,se,ge,Ve){d.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+se+"]: "+_+`
`+I+`
`+ge+" "+Ve})}function P(d,_,I,M){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+B(d,I)+(M?" "+M:"")})}function W(d,_){d.info(function(){return"TIMEOUT: "+_})}ys.prototype.info=function(){};function B(d,_){if(!d.g)return _;if(!_)return null;try{var I=JSON.parse(_);if(I){for(d=0;d<I.length;d++)if(Array.isArray(I[d])){var M=I[d];if(!(2>M.length)){var se=M[1];if(Array.isArray(se)&&!(1>se.length)){var ge=se[0];if(ge!="noop"&&ge!="stop"&&ge!="close")for(var Ve=1;Ve<se.length;Ve++)se[Ve]=""}}}}return Ys(I)}catch{return _}}var z={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},H={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},G;function ae(){}S(ae,Hi),ae.prototype.g=function(){return new XMLHttpRequest},ae.prototype.i=function(){return{}},G=new ae;function xe(d,_,I,M){this.j=d,this.i=_,this.l=I,this.R=M||1,this.U=new $i(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var ue={},fe={};function be(d,_,I){d.L=1,d.v=no(Ln(_)),d.m=I,d.P=!0,je(d,null)}function je(d,_){d.F=Date.now(),Pe(d),d.A=Ln(d.v);var I=d.A,M=d.R;Array.isArray(M)||(M=[String(M)]),so(I.i,"t",M),d.C=0,I=d.j.J,d.h=new le,d.g=yf(d.j,I?_:null,!d.m),0<d.O&&(d.M=new Wi(y(d.Y,d,d.g),d.O)),_=d.U,I=d.g,M=d.ca;var se="readystatechange";Array.isArray(se)||(se&&(Ks[0]=se.toString()),se=Ks);for(var ge=0;ge<se.length;ge++){var Ve=et(I,se[ge],M||_.handleEvent,!1,_.h||_);if(!Ve)break;_.g[Ve.key]=Ve}_=d.H?R(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),yi(),vs(d.i,d.u,d.A,d.l,d.R,d.m)}xe.prototype.ca=function(d){d=d.target;const _=this.M;_&&wn(d)==3?_.j():this.Y(d)},xe.prototype.Y=function(d){try{if(d==this.g)e:{const gr=wn(this.g);var _=this.g.Ba();const ei=this.g.Z();if(!(3>gr)&&(gr!=3||this.g&&(this.h.h||this.g.oa()||Ic(this.g)))){this.J||gr!=4||_==7||(_==8||0>=ei?yi(3):yi(2)),Rt(this);var I=this.g.Z();this.X=I;t:if(We(this)){var M=Ic(this.g);d="";var se=M.length,ge=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nt(this),St(this);var Ve="";break t}this.h.i=new c.TextDecoder}for(_=0;_<se;_++)this.h.h=!0,d+=this.h.i.decode(M[_],{stream:!(ge&&_==se-1)});M.length=0,this.h.g+=d,this.C=0,Ve=this.h.g}else Ve=this.g.oa();if(this.o=I==200,Js(this.i,this.u,this.A,this.l,this.R,gr,I),this.o){if(this.T&&!this.K){t:{if(this.g){var Dt,Ar=this.g;if((Dt=Ar.g?Ar.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Dt)){var wt=Dt;break t}}wt=null}if(I=wt)P(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vi(this,I);else{this.o=!1,this.s=3,tr(12),Nt(this),St(this);break e}}if(this.P){I=!0;let jn;for(;!this.J&&this.C<Ve.length;)if(jn=Oe(this,Ve),jn==fe){gr==4&&(this.s=4,tr(14),I=!1),P(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==ue){this.s=4,tr(15),P(this.i,this.l,Ve,"[Invalid Chunk]"),I=!1;break}else P(this.i,this.l,jn,null),vi(this,jn);if(We(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gr!=4||Ve.length!=0||this.h.h||(this.s=1,tr(16),I=!1),this.o=this.o&&I,!I)P(this.i,this.l,Ve,"[Invalid Chunked Response]"),Nt(this),St(this);else if(0<Ve.length&&!this.W){this.W=!0;var Pr=this.j;Pr.g==this&&Pr.ba&&!Pr.M&&(Pr.j.info("Great, no buffering proxy detected. Bytes received: "+Ve.length),Rc(Pr),Pr.M=!0,tr(11))}}else P(this.i,this.l,Ve,null),vi(this,Ve);gr==4&&Nt(this),this.o&&!this.J&&(gr==4?ul(this.j,this):(this.o=!1,Pe(this)))}else sl(this.g),I==400&&0<Ve.indexOf("Unknown SID")?(this.s=3,tr(12)):(this.s=0,tr(13)),Nt(this),St(this)}}}catch{}finally{}};function We(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Oe(d,_){var I=d.C,M=_.indexOf(`
`,I);return M==-1?fe:(I=Number(_.substring(I,M)),isNaN(I)?ue:(M+=1,M+I>_.length?fe:(_=_.slice(M,M+I),d.C=M+I,_)))}xe.prototype.cancel=function(){this.J=!0,Nt(this)};function Pe(d){d.S=Date.now()+d.I,st(d,d.I)}function st(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=hn(y(d.ba,d),_)}function Rt(d){d.B&&(c.clearTimeout(d.B),d.B=null)}xe.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(W(this.i,this.A),this.L!=2&&(yi(),tr(17)),Nt(this),this.s=2,St(this)):st(this,this.S-d)};function St(d){d.j.G==0||d.J||ul(d.j,d)}function Nt(d){Rt(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,Xs(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function vi(d,_){try{var I=d.j;if(I.G!=0&&(I.g==d||$t(I.h,d))){if(!d.K&&$t(I.h,d)&&I.G==3){try{var M=I.Da.g.parse(_)}catch{M=null}if(Array.isArray(M)&&M.length==3){var se=M;if(se[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<d.F)cl(I),Si(I);else break e;ll(I),tr(18)}}else I.za=se[1],0<I.za-I.T&&37500>se[2]&&I.F&&I.v==0&&!I.C&&(I.C=hn(y(I.Za,I),6e3));if(1>=Zs(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Ss(I,11)}else if((d.K||I.g==d)&&cl(I),!U(_))for(se=I.Da.g.parse(_),_=0;_<se.length;_++){let wt=se[_];if(I.T=wt[0],wt=wt[1],I.G==2)if(wt[0]=="c"){I.K=wt[1],I.ia=wt[2];const Pr=wt[3];Pr!=null&&(I.la=Pr,I.j.info("VER="+I.la));const gr=wt[4];gr!=null&&(I.Aa=gr,I.j.info("SVER="+I.Aa));const ei=wt[5];ei!=null&&typeof ei=="number"&&0<ei&&(M=1.5*ei,I.L=M,I.j.info("backChannelRequestTimeoutMs_="+M)),M=I;const jn=d.g;if(jn){const fa=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fa){var ge=M.h;ge.g||fa.indexOf("spdy")==-1&&fa.indexOf("quic")==-1&&fa.indexOf("h2")==-1||(ge.j=ge.l,ge.g=new Set,ge.h&&(Ec(ge,ge.h),ge.h=null))}if(M.D){const hl=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;hl&&(M.ya=hl,Ut(M.I,M.D,hl))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-d.F,I.j.info("Handshake RTT: "+I.R+"ms")),M=I;var Ve=d;if(M.qa=xf(M,M.J?M.ia:null,M.W),Ve.K){sf(M.h,Ve);var Dt=Ve,Ar=M.L;Ar&&(Dt.I=Ar),Dt.B&&(Rt(Dt),Pe(Dt)),M.g=Ve}else ua(M);0<I.i.length&&Yi(I)}else wt[0]!="stop"&&wt[0]!="close"||Ss(I,7);else I.G==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?Ss(I,7):zr(I):wt[0]!="noop"&&I.l&&I.l.ta(wt),I.v=0)}}yi(4)}catch{}}var Gi=class{constructor(d,_){this.g=d,this.map=_}};function Fn(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cr(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Zs(d){return d.h?1:d.g?d.g.size:0}function $t(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Ec(d,_){d.g?d.g.add(_):d.h=_}function sf(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Fn.prototype.cancel=function(){if(this.i=of(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function of(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const I of d.g.values())_=_.concat(I.D);return _}return T(d.i)}function el(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var _=[],I=d.length,M=0;M<I;M++)_.push(d[M]);return _}_=[],I=0;for(M in d)_[I++]=d[M];return _}function tl(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var _=[];d=d.length;for(var I=0;I<d;I++)_.push(I);return _}_=[],I=0;for(const M in d)_[I++]=M;return _}}}function eo(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var I=tl(d),M=el(d),se=M.length,ge=0;ge<se;ge++)_.call(void 0,M[ge],I&&I[ge],d)}var oa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function d0(d,_){if(d){d=d.split("&");for(var I=0;I<d.length;I++){var M=d[I].indexOf("="),se=null;if(0<=M){var ge=d[I].substring(0,M);se=d[I].substring(M+1)}else ge=d[I];_(ge,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function _s(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof _s){this.h=d.h,aa(this,d.j),this.o=d.o,this.g=d.g,to(this,d.s),this.l=d.l;var _=d.i,I=new qi;I.i=_.i,_.g&&(I.g=new Map(_.g),I.h=_.h),ro(this,I),this.m=d.m}else d&&(_=String(d).match(oa))?(this.h=!1,aa(this,_[1]||"",!0),this.o=_t(_[2]||""),this.g=_t(_[3]||"",!0),to(this,_[4]),this.l=_t(_[5]||"",!0),ro(this,_[6]||"",!0),this.m=_t(_[7]||"")):(this.h=!1,this.i=new qi(null,this.h))}_s.prototype.toString=function(){var d=[],_=this.j;_&&d.push(io(_,rl,!0),":");var I=this.g;return(I||_=="file")&&(d.push("//"),(_=this.o)&&d.push(io(_,rl,!0),"@"),d.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&d.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&d.push("/"),d.push(io(I,I.charAt(0)=="/"?cf:lf,!0))),(I=this.i.toString())&&d.push("?",I),(I=this.m)&&d.push("#",io(I,Tc)),d.join("")};function Ln(d){return new _s(d)}function aa(d,_,I){d.j=I?_t(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function to(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function ro(d,_,I){_ instanceof qi?(d.i=_,Ki(d.i,d.h)):(I||(_=io(_,uf)),d.i=new qi(_,d.h))}function Ut(d,_,I){d.i.set(_,I)}function no(d){return Ut(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function _t(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function io(d,_,I){return typeof d=="string"?(d=encodeURI(d).replace(_,af),I&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function af(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var rl=/[#\/\?@]/g,lf=/[#\?:]/g,cf=/[#\?]/g,uf=/[#\?@]/g,Tc=/#/g;function qi(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function Ur(d){d.g||(d.g=new Map,d.h=0,d.i&&d0(d.i,function(_,I){d.add(decodeURIComponent(_.replace(/\+/g," ")),I)}))}r=qi.prototype,r.add=function(d,_){Ur(this),this.i=null,d=Zn(this,d);var I=this.g.get(d);return I||this.g.set(d,I=[]),I.push(_),this.h+=1,this};function _i(d,_){Ur(d),_=Zn(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function wi(d,_){return Ur(d),_=Zn(d,_),d.g.has(_)}r.forEach=function(d,_){Ur(this),this.g.forEach(function(I,M){I.forEach(function(se){d.call(_,se,M,this)},this)},this)},r.na=function(){Ur(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),I=[];for(let M=0;M<_.length;M++){const se=d[M];for(let ge=0;ge<se.length;ge++)I.push(_[M])}return I},r.V=function(d){Ur(this);let _=[];if(typeof d=="string")wi(this,d)&&(_=_.concat(this.g.get(Zn(this,d))));else{d=Array.from(this.g.values());for(let I=0;I<d.length;I++)_=_.concat(d[I])}return _},r.set=function(d,_){return Ur(this),this.i=null,d=Zn(this,d),wi(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},r.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function so(d,_,I){_i(d,_),0<I.length&&(d.i=null,d.g.set(Zn(d,_),T(I)),d.h+=I.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var I=0;I<_.length;I++){var M=_[I];const ge=encodeURIComponent(String(M)),Ve=this.V(M);for(M=0;M<Ve.length;M++){var se=ge;Ve[M]!==""&&(se+="="+encodeURIComponent(String(Ve[M]))),d.push(se)}}return this.i=d.join("&")};function Zn(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function Ki(d,_){_&&!d.j&&(Ur(d),d.i=null,d.g.forEach(function(I,M){var se=M.toLowerCase();M!=se&&(_i(this,M),so(this,se,I))},d)),d.j=_}function p0(d,_){const I=new ys;if(c.Image){const M=new Image;M.onload=w(_n,I,"TestLoadImage: loaded",!0,_,M),M.onerror=w(_n,I,"TestLoadImage: error",!1,_,M),M.onabort=w(_n,I,"TestLoadImage: abort",!1,_,M),M.ontimeout=w(_n,I,"TestLoadImage: timeout",!1,_,M),c.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=d}else _(!1)}function ff(d,_){const I=new ys,M=new AbortController,se=setTimeout(()=>{M.abort(),_n(I,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:M.signal}).then(ge=>{clearTimeout(se),ge.ok?_n(I,"TestPingServer: ok",!0,_):_n(I,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(se),_n(I,"TestPingServer: error",!1,_)})}function _n(d,_,I,M,se){try{se&&(se.onload=null,se.onerror=null,se.onabort=null,se.ontimeout=null),M(I)}catch{}}function g0(){this.g=new ra}function hf(d,_,I){const M=I||"";try{eo(d,function(se,ge){let Ve=se;h(se)&&(Ve=Ys(se)),_.push(M+ge+"="+encodeURIComponent(Ve))})}catch(se){throw _.push(M+"type="+encodeURIComponent("_badmap")),se}}function ws(d){this.l=d.Ub||null,this.j=d.eb||!1}S(ws,Hi),ws.prototype.g=function(){return new la(this.l,this.j)},ws.prototype.i=(function(d){return function(){return d}})({});function la(d,_){Zt.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(la,Zt),r=la.prototype,r.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,Ti(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||c).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ei(this)),this.readyState=0},r.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;df(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function df(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}r.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Ei(this):Ti(this),this.readyState==3&&df(this)}},r.Ra=function(d){this.g&&(this.response=this.responseText=d,Ei(this))},r.Qa=function(d){this.g&&(this.response=d,Ei(this))},r.ga=function(){this.g&&Ei(this)};function Ei(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Ti(d)}r.setRequestHeader=function(d,_){this.u.append(d,_)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var I=_.next();!I.done;)I=I.value,d.push(I[0]+": "+I[1]),I=_.next();return d.join(`\r
`)};function Ti(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(la.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Es(d){let _="";return he(d,function(I,M){_+=M,_+=":",_+=I,_+=`\r
`}),_}function oo(d,_,I){e:{for(M in I){var M=!1;break e}M=!0}M||(I=Es(I),typeof d=="string"?I!=null&&encodeURIComponent(String(I)):Ut(d,_,I))}function Yt(d){Zt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Yt,Zt);var m0=/^https?$/i,Sc=["POST","PUT"];r=Yt.prototype,r.Ha=function(d){this.J=d},r.ea=function(d,_,I,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():G.g(),this.v=this.o?gs(this.o):gs(G),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(ge){ca(this,ge);return}if(d=I||"",I=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var se in M)I.set(se,M[se]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const ge of M.keys())I.set(ge,M.get(ge));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(I.keys()).find(ge=>ge.toLowerCase()=="content-type"),se=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Sc,_,void 0))||M||se||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ge,Ve]of I)this.g.setRequestHeader(ge,Ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{il(this),this.u=!0,this.g.send(d),this.u=!1}catch(ge){ca(this,ge)}};function ca(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,nl(d),Mn(d)}function nl(d){d.A||(d.A=!0,er(d,"complete"),er(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,er(this,"complete"),er(this,"abort"),Mn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mn(this,!0)),Yt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ac(this):this.bb())},r.bb=function(){Ac(this)};function Ac(d){if(d.h&&typeof l<"u"&&(!d.v[1]||wn(d)!=4||d.Z()!=2)){if(d.u&&wn(d)==4)ea(d.Ea,0,d);else if(er(d,"readystatechange"),wn(d)==4){d.h=!1;try{const Ve=d.Z();e:switch(Ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var I;if(!(I=_)){var M;if(M=Ve===0){var se=String(d.D).match(oa)[1]||null;!se&&c.self&&c.self.location&&(se=c.self.location.protocol.slice(0,-1)),M=!m0.test(se?se.toLowerCase():"")}I=M}if(I)er(d,"complete"),er(d,"success");else{d.m=6;try{var ge=2<wn(d)?d.g.statusText:""}catch{ge=""}d.l=ge+" ["+d.Z()+"]",nl(d)}}finally{Mn(d)}}}}function Mn(d,_){if(d.g){il(d);const I=d.g,M=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||er(d,"ready");try{I.onreadystatechange=M}catch{}}}function il(d){d.I&&(c.clearTimeout(d.I),d.I=null)}r.isActive=function(){return!!this.g};function wn(d){return d.g?d.g.readyState:0}r.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),ta(_)}};function Ic(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function sl(d){const _={};d=(d.g&&2<=wn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<d.length;M++){if(U(d[M]))continue;var I=L(d[M]);const se=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const ge=_[se]||[];_[se]=ge,ge.push(I)}k(_,function(M){return M.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xi(d,_,I){return I&&I.internalChannelParams&&I.internalChannelParams[d]||_}function Cc(d){this.Aa=0,this.i=[],this.j=new ys,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xi("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xi("baseRetryDelayMs",5e3,d),this.cb=Xi("retryDelaySeedMs",1e4,d),this.Wa=Xi("forwardChannelMaxRetries",2,d),this.wa=Xi("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Fn(d&&d.concurrentRequestLimit),this.Da=new g0,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Cc.prototype,r.la=8,r.G=1,r.connect=function(d,_,I,M){tr(0),this.W=d,this.H=_||{},I&&M!==void 0&&(this.H.OSID=I,this.H.OAID=M),this.F=this.X,this.I=xf(this,null,this.W),Yi(this)};function zr(d){if(ol(d),d.G==3){var _=d.U++,I=Ln(d.I);if(Ut(I,"SID",d.K),Ut(I,"RID",_),Ut(I,"TYPE","terminate"),Ts(d,I),_=new xe(d,d.j,_),_.L=2,_.v=no(Ln(I)),I=!1,c.navigator&&c.navigator.sendBeacon)try{I=c.navigator.sendBeacon(_.v.toString(),"")}catch{}!I&&c.Image&&(new Image().src=_.v,I=!0),I||(_.g=yf(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Pe(_)}mf(d)}function Si(d){d.g&&(Rc(d),d.g.cancel(),d.g=null)}function ol(d){Si(d),d.u&&(c.clearTimeout(d.u),d.u=null),cl(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function Yi(d){if(!cr(d.h)&&!d.s){d.s=!0;var _=d.Ga;Ce||Ae(),pe||(Ce(),pe=!0),Ee.add(_,d),d.B=0}}function x0(d,_){return Zs(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=hn(y(d.Ga,d,_),gf(d,d.B)),d.B++,!0)}r.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const se=new xe(this,this.j,d);let ge=this.o;if(this.S&&(ge?(ge=R(ge),D(ge,this.S)):ge=this.S),this.m!==null||this.O||(se.H=ge,ge=null),this.P)e:{for(var _=0,I=0;I<this.i.length;I++){t:{var M=this.i[I];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(_+=M,4096<_){_=I;break e}if(_===4096||I===this.i.length-1){_=I+1;break e}}_=1e3}else _=1e3;_=ao(this,se,_),I=Ln(this.I),Ut(I,"RID",d),Ut(I,"CVER",22),this.D&&Ut(I,"X-HTTP-Session-Id",this.D),Ts(this,I),ge&&(this.O?_="headers="+encodeURIComponent(String(Es(ge)))+"&"+_:this.m&&oo(I,this.m,ge)),Ec(this.h,se),this.Ua&&Ut(I,"TYPE","init"),this.P?(Ut(I,"$req",_),Ut(I,"SID","null"),se.T=!0,be(se,I,null)):be(se,I,_),this.G=2}}else this.G==3&&(d?al(this,d):this.i.length==0||cr(this.h)||al(this))};function al(d,_){var I;_?I=_.l:I=d.U++;const M=Ln(d.I);Ut(M,"SID",d.K),Ut(M,"RID",I),Ut(M,"AID",d.T),Ts(d,M),d.m&&d.o&&oo(M,d.m,d.o),I=new xe(d,d.j,I,d.B+1),d.m===null&&(I.H=d.o),_&&(d.i=_.D.concat(d.i)),_=ao(d,I,1e3),I.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ec(d.h,I),be(I,M,_)}function Ts(d,_){d.H&&he(d.H,function(I,M){Ut(_,M,I)}),d.l&&eo({},function(I,M){Ut(_,M,I)})}function ao(d,_,I){I=Math.min(d.i.length,I);var M=d.l?y(d.l.Na,d.l,d):null;e:{var se=d.i;let ge=-1;for(;;){const Ve=["count="+I];ge==-1?0<I?(ge=se[0].g,Ve.push("ofs="+ge)):ge=0:Ve.push("ofs="+ge);let Dt=!0;for(let Ar=0;Ar<I;Ar++){let wt=se[Ar].g;const Pr=se[Ar].map;if(wt-=ge,0>wt)ge=Math.max(0,se[Ar].g-100),Dt=!1;else try{hf(Pr,Ve,"req"+wt+"_")}catch{M&&M(Pr)}}if(Dt){M=Ve.join("&");break e}}}return d=d.i.splice(0,I),_.D=d,M}function ua(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;Ce||Ae(),pe||(Ce(),pe=!0),Ee.add(_,d),d.v=0}}function ll(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=hn(y(d.Fa,d),gf(d,d.v)),d.v++,!0)}r.Fa=function(){if(this.u=null,pf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=hn(y(this.ab,this),d)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tr(10),Si(this),pf(this))};function Rc(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function pf(d){d.g=new xe(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=Ln(d.qa);Ut(_,"RID","rpc"),Ut(_,"SID",d.K),Ut(_,"AID",d.T),Ut(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ut(_,"TO",d.ja),Ut(_,"TYPE","xmlhttp"),Ts(d,_),d.m&&d.o&&oo(_,d.m,d.o),d.L&&(d.g.I=d.L);var I=d.g;d=d.ia,I.L=1,I.v=no(Ln(_)),I.m=null,I.P=!0,je(I,d)}r.Za=function(){this.C!=null&&(this.C=null,Si(this),ll(this),tr(19))};function cl(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function ul(d,_){var I=null;if(d.g==_){cl(d),Rc(d),d.g=null;var M=2}else if($t(d.h,_))I=_.D,sf(d.h,_),M=1;else return;if(d.G!=0){if(_.o)if(M==1){I=_.m?_.m.length:0,_=Date.now()-_.F;var se=d.B;M=xs(),er(M,new Qs(M,I)),Yi(d)}else ua(d);else if(se=_.s,se==3||se==0&&0<_.X||!(M==1&&x0(d,_)||M==2&&ll(d)))switch(I&&0<I.length&&(_=d.h,_.i=_.i.concat(I)),se){case 1:Ss(d,5);break;case 4:Ss(d,10);break;case 3:Ss(d,6);break;default:Ss(d,2)}}}function gf(d,_){let I=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(I*=2),I*_}function Ss(d,_){if(d.j.info("Error code "+_),_==2){var I=y(d.fb,d),M=d.Xa;const se=!M;M=new _s(M||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||aa(M,"https"),no(M),se?p0(M.toString(),I):ff(M.toString(),I)}else tr(2);d.G=0,d.l&&d.l.sa(_),mf(d),ol(d)}r.fb=function(d){d?(this.j.info("Successfully pinged google.com"),tr(2)):(this.j.info("Failed to ping google.com"),tr(1))};function mf(d){if(d.G=0,d.ka=[],d.l){const _=of(d.h);(_.length!=0||d.i.length!=0)&&(A(d.ka,_),A(d.ka,d.i),d.h.i.length=0,T(d.i),d.i.length=0),d.l.ra()}}function xf(d,_,I){var M=I instanceof _s?Ln(I):new _s(I);if(M.g!="")_&&(M.g=_+"."+M.g),to(M,M.s);else{var se=c.location;M=se.protocol,_=_?_+"."+se.hostname:se.hostname,se=+se.port;var ge=new _s(null);M&&aa(ge,M),_&&(ge.g=_),se&&to(ge,se),I&&(ge.l=I),M=ge}return I=d.D,_=d.ya,I&&_&&Ut(M,I,_),Ut(M,"VER",d.la),Ts(d,M),M}function yf(d,_,I){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new Yt(new ws({eb:I})):new Yt(d.pa),_.Ha(d.J),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function kc(){}r=kc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function fl(){}fl.prototype.g=function(d,_){return new dn(d,_)};function dn(d,_){Zt.call(this),this.g=new Cc(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!U(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!U(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Qi(this)}S(dn,Zt),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){zr(this.g)},dn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var I={};I.__data__=d,d=I}else this.u&&(I={},I.__data__=Ys(d),d=I);_.i.push(new Gi(_.Ya++,d)),_.G==3&&Yi(_)},dn.prototype.N=function(){this.g.l=null,delete this.j,zr(this.g),delete this.g,dn.aa.N.call(this)};function vf(d){Qn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const I in _){d=I;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}S(vf,Qn);function _f(){xi.call(this),this.status=1}S(_f,xi);function Qi(d){this.g=d}S(Qi,kc),Qi.prototype.ua=function(){er(this.g,"a")},Qi.prototype.ta=function(d){er(this.g,new vf(d))},Qi.prototype.sa=function(d){er(this.g,new _f)},Qi.prototype.ra=function(){er(this.g,"b")},fl.prototype.createWebChannel=fl.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,Kw=function(){return new fl},qw=function(){return xs()},Gw=Jn,Sg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},z.NO_ERROR=0,z.TIMEOUT=8,z.HTTP_ERROR=6,Fh=z,H.COMPLETE="complete",Hw=H,ms.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",Zt.prototype.listen=Zt.prototype.K,ru=ms,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,$w=Yt}).apply(typeof mh<"u"?mh:typeof self<"u"?self:typeof window<"u"?window:{});const Tv="@firebase/firestore",Sv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=new Pd("@firebase/firestore");function Ll(){return Na.logLevel}function He(r,...e){if(Na.logLevel<=xt.DEBUG){const t=e.map(mm);Na.debug(`Firestore (${dc}): ${r}`,...t)}}function zs(r,...e){if(Na.logLevel<=xt.ERROR){const t=e.map(mm);Na.error(`Firestore (${dc}): ${r}`,...t)}}function ec(r,...e){if(Na.logLevel<=xt.WARN){const t=e.map(mm);Na.warn(`Firestore (${dc}): ${r}`,...t)}}function mm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,Xw(r,n,t)}function Xw(r,e,t){let n=`FIRESTORE (${dc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw zs(n),new Error(n)}function Pt(r,e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,r||Xw(e,i,n)}function ct(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends di{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $b{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(on.UNAUTHENTICATED)))}shutdown(){}}class Hb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Gb{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Pt(this.o===void 0,42304);let n=this.i;const i=f=>this.i!==n?(n=this.i,t(f)):Promise.resolve();let o=new Ls;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ls,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},c=f=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ls)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Pt(typeof n.accessToken=="string",31837,{l:n}),new Yw(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pt(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class qb{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Kb{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new qb(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Av{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xb{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Pt(this.o===void 0,3512);const n=o=>{o.error!=null&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,He("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>n(o)))};const i=o=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Av(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Pt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Av(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=Yb(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<t&&(n+=e.charAt(i[o]%62))}return n}}function yt(r,e){return r<e?-1:r>e?1:0}function Ag(r,e){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++){const i=r.charAt(n),o=e.charAt(n);if(i!==o)return Yp(i)===Yp(o)?yt(i,o):Yp(i)?1:-1}return yt(r.length,e.length)}const Qb=55296,Jb=57343;function Yp(r){const e=r.charCodeAt(0);return e>=Qb&&e<=Jb}function tc(r,e,t){return r.length===e.length&&r.every(((n,i)=>t(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="__name__";class is{constructor(e,t,n){t===void 0?t=0:t>e.length&&nt(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&nt(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return is.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof is?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const o=is.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return yt(e.length,t.length)}static compareSegments(e,t){const n=is.isNumericId(e),i=is.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?is.extractNumericId(e).compare(is.extractNumericId(t)):Ag(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Mo.fromString(e.substring(4,e.length-2))}}class Wt extends is{construct(e,t,n){return new Wt(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new ze(ve.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((i=>i.length>0)))}return new Wt(t)}static emptyPath(){return new Wt([])}}const Zb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kr extends is{construct(e,t,n){return new Kr(e,t,n)}static isValidIdentifier(e){return Zb.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Iv}static keyField(){return new Kr([Iv])}static fromServerFormat(e){const t=[];let n="",i=0;const o=()=>{if(n.length===0)throw new ze(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ze(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ze(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=f,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(n+=c,i++):(o(),i++)}if(o(),l)throw new ze(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kr(t)}static emptyPath(){return new Kr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.path=e}static fromPath(e){return new Je(Wt.fromString(e))}static fromName(e){return new Je(Wt.fromString(e).popFirst(5))}static empty(){return new Je(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Je(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(r,e,t){if(!t)throw new ze(ve.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function e3(r,e,t,n){if(e===!0&&n===!0)throw new ze(ve.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Cv(r){if(!Je.isDocumentKey(r))throw new ze(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Rv(r){if(Je.isDocumentKey(r))throw new ze(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Jw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ld(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":nt(12329,{type:typeof r})}function Vi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ze(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ld(r);throw new ze(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(r,e){const t={typeString:r};return e&&(t.value=e),t}function Hu(r,e){if(!Jw(r))throw new ze(ve.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const i=e[n].typeString,o="value"in e[n]?{value:e[n].value}:void 0;if(!(n in r)){t=`JSON missing required field: '${n}'`;break}const l=r[n];if(i&&typeof l!==i){t=`JSON field '${n}' must be a ${i}.`;break}if(o!==void 0&&l!==o.value){t=`Expected '${n}' field to equal '${o.value}'`;break}}if(t)throw new ze(ve.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=-62135596800,bv=1e6;class qt{static now(){return qt.fromMillis(Date.now())}static fromDate(e){return qt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*bv);return new qt(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ze(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ze(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<kv)throw new ze(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ze(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bv}_compareTo(e){return this.seconds===e.seconds?yt(this.nanoseconds,e.nanoseconds):yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hu(e,qt._jsonSchema))return new qt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-kv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qt._jsonSchemaVersion="firestore/timestamp/1.0",qt._jsonSchema={type:wr("string",qt._jsonSchemaVersion),seconds:wr("number"),nanoseconds:wr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{static fromTimestamp(e){return new lt(e)}static min(){return new lt(new qt(0,0))}static max(){return new lt(new qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=-1;function t3(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=lt.fromTimestamp(n===1e9?new qt(t+1,0):new qt(t,n));return new Vo(i,Je.empty(),e)}function r3(r){return new Vo(r.readTime,r.key,Su)}class Vo{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Vo(lt.min(),Je.empty(),Su)}static max(){return new Vo(lt.max(),Je.empty(),Su)}}function n3(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Je.comparator(r.documentKey,e.documentKey),t!==0?t:yt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(r){if(r.code!==ve.FAILED_PRECONDITION||r.message!==i3)throw r;He("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&nt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new we(((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof we?t:we.resolve(t)}catch(t){return we.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):we.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):we.reject(t)}static resolve(e){return new we(((t,n)=>{t(e)}))}static reject(e){return new we(((t,n)=>{n(e)}))}static waitFor(e){return new we(((t,n)=>{let i=0,o=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++o,l&&o===i&&t()}),(f=>n(f)))})),l=!0,o===i&&t()}))}static or(e){let t=we.resolve(!1);for(const n of e)t=t.next((i=>i?we.resolve(i):n()));return t}static forEach(e,t){const n=[];return e.forEach(((i,o)=>{n.push(t.call(this,i,o))})),this.waitFor(n)}static mapArray(e,t){return new we(((n,i)=>{const o=e.length,l=new Array(o);let c=0;for(let f=0;f<o;f++){const h=f;t(e[h]).next((p=>{l[h]=p,++c,c===o&&n(l)}),(p=>i(p)))}}))}static doWhile(e,t){return new we(((n,i)=>{const o=()=>{e()===!0?t().next((()=>{o()}),i):n()};o()}))}}function o3(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function gc(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Md.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym=-1;function jd(r){return r==null}function Qh(r){return r===0&&1/r==-1/0}function a3(r){return typeof r=="number"&&Number.isInteger(r)&&!Qh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="";function l3(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Pv(e)),e=c3(r.get(t),e);return Pv(e)}function c3(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const o=r.charAt(i);switch(o){case"\0":t+="";break;case Zw:t+="";break;default:t+=o}}return t}function Pv(r){return r+Zw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Qo(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function eE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,t){this.comparator=e,this.root=t||qr.EMPTY}insert(e,t){return new ir(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qr.BLACK,null,null))}remove(e){return new ir(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xh(this.root,e,this.comparator,!1)}getReverseIterator(){return new xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xh(this.root,e,this.comparator,!0)}}class xh{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qr{constructor(e,t,n,i,o){this.key=e,this.value=t,this.color=n??qr.RED,this.left=i??qr.EMPTY,this.right=o??qr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,o){return new qr(e??this.key,t??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const o=n(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,n),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return qr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw nt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw nt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw nt(27949);return e+(this.isRed()?0:1)}}qr.EMPTY=null,qr.RED=!0,qr.BLACK=!1;qr.EMPTY=new class{constructor(){this.size=0}get key(){throw nt(57766)}get value(){throw nt(16141)}get color(){throw nt(16727)}get left(){throw nt(29726)}get right(){throw nt(36894)}copy(e,t,n,i,o){return this}insert(e,t,n){return new qr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.comparator=e,this.data=new ir(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Dv(this.data.getIterator())}getIteratorFrom(e){return new Dv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof kr)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new kr(this.comparator);return t.data=e,t}}class Dv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.fields=e,e.sort(Kr.comparator)}static empty(){return new qn([])}unionWith(e){let t=new kr(Kr.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new qn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tc(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new tE("Invalid base64 string: "+o):o}})(e);return new Jr(t)}static fromUint8Array(e){const t=(function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o})(e);return new Jr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jr.EMPTY_BYTE_STRING=new Jr("");const u3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uo(r){if(Pt(!!r,39018),typeof r=="string"){let e=0;const t=u3.exec(r);if(Pt(!!t,46558,{timestamp:r}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:hr(r.seconds),nanos:hr(r.nanos)}}function hr(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function zo(r){return typeof r=="string"?Jr.fromBase64String(r):Jr.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="server_timestamp",nE="__type__",iE="__previous_value__",sE="__local_write_time__";function vm(r){return(r?.mapValue?.fields||{})[nE]?.stringValue===rE}function Bd(r){const e=r.mapValue.fields[iE];return vm(e)?Bd(e):e}function Au(r){const e=Uo(r.mapValue.fields[sE].timestampValue);return new qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,t,n,i,o,l,c,f,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p}}const Jh="(default)";class Iu{constructor(e,t){this.projectId=e,this.database=t||Jh}static empty(){return new Iu("","")}get isDefaultDatabase(){return this.database===Jh}isEqual(e){return e instanceof Iu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="__type__",h3="__max__",yh={mapValue:{}},aE="__vector__",Zh="value";function Wo(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?vm(r)?4:p3(r)?9007199254740991:d3(r)?10:11:nt(28295,{value:r})}function fs(r,e){if(r===e)return!0;const t=Wo(r);if(t!==Wo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Au(r).isEqual(Au(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Uo(i.timestampValue),c=Uo(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(i,o){return zo(i.bytesValue).isEqual(zo(o.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(i,o){return hr(i.geoPointValue.latitude)===hr(o.geoPointValue.latitude)&&hr(i.geoPointValue.longitude)===hr(o.geoPointValue.longitude)})(r,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return hr(i.integerValue)===hr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=hr(i.doubleValue),c=hr(o.doubleValue);return l===c?Qh(l)===Qh(c):isNaN(l)&&isNaN(c)}return!1})(r,e);case 9:return tc(r.arrayValue.values||[],e.arrayValue.values||[],fs);case 10:case 11:return(function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(Nv(l)!==Nv(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!fs(l[f],c[f])))return!1;return!0})(r,e);default:return nt(52216,{left:r})}}function Cu(r,e){return(r.values||[]).find((t=>fs(t,e)))!==void 0}function rc(r,e){if(r===e)return 0;const t=Wo(r),n=Wo(e);if(t!==n)return yt(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return yt(r.booleanValue,e.booleanValue);case 2:return(function(o,l){const c=hr(o.integerValue||o.doubleValue),f=hr(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(r,e);case 3:return Ov(r.timestampValue,e.timestampValue);case 4:return Ov(Au(r),Au(e));case 5:return Ag(r.stringValue,e.stringValue);case 6:return(function(o,l){const c=zo(o),f=zo(l);return c.compareTo(f)})(r.bytesValue,e.bytesValue);case 7:return(function(o,l){const c=o.split("/"),f=l.split("/");for(let h=0;h<c.length&&h<f.length;h++){const p=yt(c[h],f[h]);if(p!==0)return p}return yt(c.length,f.length)})(r.referenceValue,e.referenceValue);case 8:return(function(o,l){const c=yt(hr(o.latitude),hr(l.latitude));return c!==0?c:yt(hr(o.longitude),hr(l.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Fv(r.arrayValue,e.arrayValue);case 10:return(function(o,l){const c=o.fields||{},f=l.fields||{},h=c[Zh]?.arrayValue,p=f[Zh]?.arrayValue,x=yt(h?.values?.length||0,p?.values?.length||0);return x!==0?x:Fv(h,p)})(r.mapValue,e.mapValue);case 11:return(function(o,l){if(o===yh.mapValue&&l===yh.mapValue)return 0;if(o===yh.mapValue)return 1;if(l===yh.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),h=l.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let x=0;x<f.length&&x<p.length;++x){const y=Ag(f[x],p[x]);if(y!==0)return y;const w=rc(c[f[x]],h[p[x]]);if(w!==0)return w}return yt(f.length,p.length)})(r.mapValue,e.mapValue);default:throw nt(23264,{he:t})}}function Ov(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return yt(r,e);const t=Uo(r),n=Uo(e),i=yt(t.seconds,n.seconds);return i!==0?i:yt(t.nanos,n.nanos)}function Fv(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const o=rc(t[i],n[i]);if(o)return o}return yt(t.length,n.length)}function nc(r){return Ig(r)}function Ig(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const n=Uo(t);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return zo(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return Je.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let n="[",i=!0;for(const o of t.values||[])i?i=!1:n+=",",n+=Ig(o);return n+"]"})(r.arrayValue):"mapValue"in r?(function(t){const n=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of n)o?o=!1:i+=",",i+=`${l}:${Ig(t.fields[l])}`;return i+"}"})(r.mapValue):nt(61005,{value:r})}function Lh(r){switch(Wo(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bd(r);return e?16+Lh(e):16;case 5:return 2*r.stringValue.length;case 6:return zo(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,o)=>i+Lh(o)),0)})(r.arrayValue);case 10:case 11:return(function(n){let i=0;return Qo(n.fields,((o,l)=>{i+=o.length+Lh(l)})),i})(r.mapValue);default:throw nt(13486,{value:r})}}function Lv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Cg(r){return!!r&&"integerValue"in r}function _m(r){return!!r&&"arrayValue"in r}function Mv(r){return!!r&&"nullValue"in r}function jv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Mh(r){return!!r&&"mapValue"in r}function d3(r){return(r?.mapValue?.fields||{})[oE]?.stringValue===aE}function cu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Qo(r.mapValue.fields,((t,n)=>e.mapValue.fields[t]=cu(n))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=cu(r.arrayValue.values[t]);return e}return{...r}}function p3(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===h3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Mh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(t)}setAll(e){let t=Kr.emptyPath(),n={},i=[];e.forEach(((l,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,n,i),n={},i=[],t=c.popLast()}l?n[c.lastSegment()]=cu(l):i.push(c.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,n,i)}delete(e){const t=this.field(e.popLast());Mh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];Mh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){Qo(t,((i,o)=>e[i]=o));for(const i of n)delete e[i]}clone(){return new kn(cu(this.value))}}function lE(r){const e=[];return Qo(r.fields,((t,n)=>{const i=new Kr([t]);if(Mh(n)){const o=lE(n.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)})),new qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,t,n,i,o,l,c){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new an(e,0,lt.min(),lt.min(),lt.min(),kn.empty(),0)}static newFoundDocument(e,t,n,i){return new an(e,1,t,lt.min(),n,i,0)}static newNoDocument(e,t){return new an(e,2,t,lt.min(),lt.min(),kn.empty(),0)}static newUnknownDocument(e,t){return new an(e,3,t,lt.min(),lt.min(),kn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,t){this.position=e,this.inclusive=t}}function Bv(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const o=e[i],l=r.position[i];if(o.field.isKeyField()?n=Je.comparator(Je.fromName(l.referenceValue),t.key):n=rc(l,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function Vv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!fs(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,t="asc"){this.field=e,this.dir=t}}function g3(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{}class vr extends cE{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new x3(e,t,n):t==="array-contains"?new _3(e,n):t==="in"?new w3(e,n):t==="not-in"?new E3(e,n):t==="array-contains-any"?new T3(e,n):new vr(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new y3(e,n):new v3(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(rc(t,this.value)):t!==null&&Wo(this.value)===Wo(t)&&this.matchesComparison(rc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return nt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends cE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ui(e,t)}matches(e){return uE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uE(r){return r.op==="and"}function fE(r){return m3(r)&&uE(r)}function m3(r){for(const e of r.filters)if(e instanceof Ui)return!1;return!0}function Rg(r){if(r instanceof vr)return r.field.canonicalString()+r.op.toString()+nc(r.value);if(fE(r))return r.filters.map((e=>Rg(e))).join(",");{const e=r.filters.map((t=>Rg(t))).join(",");return`${r.op}(${e})`}}function hE(r,e){return r instanceof vr?(function(n,i){return i instanceof vr&&n.op===i.op&&n.field.isEqual(i.field)&&fs(n.value,i.value)})(r,e):r instanceof Ui?(function(n,i){return i instanceof Ui&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((o,l,c)=>o&&hE(l,i.filters[c])),!0):!1})(r,e):void nt(19439)}function dE(r){return r instanceof vr?(function(t){return`${t.field.canonicalString()} ${t.op} ${nc(t.value)}`})(r):r instanceof Ui?(function(t){return t.op.toString()+" {"+t.getFilters().map(dE).join(" ,")+"}"})(r):"Filter"}class x3 extends vr{constructor(e,t,n){super(e,t,n),this.key=Je.fromName(n.referenceValue)}matches(e){const t=Je.comparator(e.key,this.key);return this.matchesComparison(t)}}class y3 extends vr{constructor(e,t){super(e,"in",t),this.keys=pE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class v3 extends vr{constructor(e,t){super(e,"not-in",t),this.keys=pE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function pE(r,e){return(e.arrayValue?.values||[]).map((t=>Je.fromName(t.referenceValue)))}class _3 extends vr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _m(t)&&Cu(t.arrayValue,this.value)}}class w3 extends vr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Cu(this.value.arrayValue,t)}}class E3 extends vr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Cu(this.value.arrayValue,t)}}class T3 extends vr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_m(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>Cu(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e,t=null,n=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.Te=null}}function Uv(r,e=null,t=[],n=[],i=null,o=null,l=null){return new S3(r,e,t,n,i,o,l)}function wm(r){const e=ct(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>Rg(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(o){return o.field.canonicalString()+o.dir})(n))).join(","),jd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>nc(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>nc(n))).join(",")),e.Te=t}return e.Te}function Em(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!g3(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!hE(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Vv(r.startAt,e.startAt)&&Vv(r.endAt,e.endAt)}function kg(r){return Je.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,t=null,n=[],i=[],o=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function A3(r,e,t,n,i,o,l,c){return new mc(r,e,t,n,i,o,l,c)}function Tm(r){return new mc(r)}function zv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function gE(r){return r.collectionGroup!==null}function uu(r){const e=ct(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new kr(Kr.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Ru(o,n))})),t.has(Kr.keyField().canonicalString())||e.Ie.push(new Ru(Kr.keyField(),n))}return e.Ie}function os(r){const e=ct(r);return e.Ee||(e.Ee=I3(e,uu(r))),e.Ee}function I3(r,e){if(r.limitType==="F")return Uv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new Ru(i.field,o)}));const t=r.endAt?new ed(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new ed(r.startAt.position,r.startAt.inclusive):null;return Uv(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function bg(r,e){const t=r.filters.concat([e]);return new mc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Pg(r,e,t){return new mc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Vd(r,e){return Em(os(r),os(e))&&r.limitType===e.limitType}function mE(r){return`${wm(os(r))}|lt:${r.limitType}`}function Ml(r){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((i=>dE(i))).join(", ")}]`),jd(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((i=>nc(i))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((i=>nc(i))).join(",")),`Target(${n})`})(os(r))}; limitType=${r.limitType})`}function Ud(r,e){return e.isFoundDocument()&&(function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Je.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)})(r,e)&&(function(n,i){for(const o of uu(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(r,e)&&(function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0})(r,e)&&(function(n,i){return!(n.startAt&&!(function(l,c,f){const h=Bv(l,c,f);return l.inclusive?h<=0:h<0})(n.startAt,uu(n),i)||n.endAt&&!(function(l,c,f){const h=Bv(l,c,f);return l.inclusive?h>=0:h>0})(n.endAt,uu(n),i))})(r,e)}function C3(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function xE(r){return(e,t)=>{let n=!1;for(const i of uu(r)){const o=R3(i,e,t);if(o!==0)return o;n=n||i.field.isKeyField()}return 0}}function R3(r,e,t){const n=r.field.isKeyField()?Je.comparator(e.key,t.key):(function(o,l,c){const f=l.data.field(o),h=c.data.field(o);return f!==null&&h!==null?rc(f,h):nt(42886)})(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return nt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,o]of n)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qo(this.inner,((t,n)=>{for(const[i,o]of n)e(i,o)}))}isEmpty(){return eE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=new ir(Je.comparator);function Ws(){return k3}const yE=new ir(Je.comparator);function nu(...r){let e=yE;for(const t of r)e=e.insert(t.key,t);return e}function vE(r){let e=yE;return r.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function Ca(){return fu()}function _E(){return fu()}function fu(){return new Ha((r=>r.toString()),((r,e)=>r.isEqual(e)))}const b3=new ir(Je.comparator),P3=new kr(Je.comparator);function vt(...r){let e=P3;for(const t of r)e=e.add(t);return e}const N3=new kr(yt);function D3(){return N3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(e)?"-0":e}}function wE(r){return{integerValue:""+r}}function O3(r,e){return a3(e)?wE(e):Sm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(){this._=void 0}}function F3(r,e,t){return r instanceof ku?(function(i,o){const l={fields:{[nE]:{stringValue:rE},[sE]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&vm(o)&&(o=Bd(o)),o&&(l.fields[iE]=o),{mapValue:l}})(t,e):r instanceof bu?TE(r,e):r instanceof Pu?SE(r,e):(function(i,o){const l=EE(i,o),c=Wv(l)+Wv(i.Ae);return Cg(l)&&Cg(i.Ae)?wE(c):Sm(i.serializer,c)})(r,e)}function L3(r,e,t){return r instanceof bu?TE(r,e):r instanceof Pu?SE(r,e):t}function EE(r,e){return r instanceof td?(function(n){return Cg(n)||(function(o){return!!o&&"doubleValue"in o})(n)})(e)?e:{integerValue:0}:null}class ku extends zd{}class bu extends zd{constructor(e){super(),this.elements=e}}function TE(r,e){const t=AE(e);for(const n of r.elements)t.some((i=>fs(i,n)))||t.push(n);return{arrayValue:{values:t}}}class Pu extends zd{constructor(e){super(),this.elements=e}}function SE(r,e){let t=AE(e);for(const n of r.elements)t=t.filter((i=>!fs(i,n)));return{arrayValue:{values:t}}}class td extends zd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Wv(r){return hr(r.integerValue||r.doubleValue)}function AE(r){return _m(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,t){this.field=e,this.transform=t}}function j3(r,e){return r.field.isEqual(e.field)&&(function(n,i){return n instanceof bu&&i instanceof bu||n instanceof Pu&&i instanceof Pu?tc(n.elements,i.elements,fs):n instanceof td&&i instanceof td?fs(n.Ae,i.Ae):n instanceof ku&&i instanceof ku})(r.transform,e.transform)}class B3{constructor(e,t){this.version=e,this.transformResults=t}}class ui{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ui}static exists(e){return new ui(void 0,e)}static updateTime(e){return new ui(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Wd{}function IE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Am(r.key,ui.none()):new Gu(r.key,r.data,ui.none());{const t=r.data,n=kn.empty();let i=new kr(Kr.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?n.delete(o):n.set(o,l),i=i.add(o)}return new Jo(r.key,n,new qn(i.toArray()),ui.none())}}function V3(r,e,t){r instanceof Gu?(function(i,o,l){const c=i.value.clone(),f=Hv(i.fieldTransforms,o,l.transformResults);c.setAll(f),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(r,e,t):r instanceof Jo?(function(i,o,l){if(!jh(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=Hv(i.fieldTransforms,o,l.transformResults),f=o.data;f.setAll(CE(i)),f.setAll(c),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(r,e,t):(function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function hu(r,e,t,n){return r instanceof Gu?(function(o,l,c,f){if(!jh(o.precondition,l))return c;const h=o.value.clone(),p=Gv(o.fieldTransforms,f,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(r,e,t,n):r instanceof Jo?(function(o,l,c,f){if(!jh(o.precondition,l))return c;const h=Gv(o.fieldTransforms,f,l),p=l.data;return p.setAll(CE(o)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((x=>x.field)))})(r,e,t,n):(function(o,l,c){return jh(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(r,e,t)}function U3(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),o=EE(n.transform,i||null);o!=null&&(t===null&&(t=kn.empty()),t.set(n.field,o))}return t||null}function $v(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&tc(n,i,((o,l)=>j3(o,l)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Gu extends Wd{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Jo extends Wd{constructor(e,t,n,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function CE(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}})),e}function Hv(r,e,t){const n=new Map;Pt(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let i=0;i<t.length;i++){const o=r[i],l=o.transform,c=e.data.field(o.field);n.set(o.field,L3(l,c,t[i]))}return n}function Gv(r,e,t){const n=new Map;for(const i of r){const o=i.transform,l=t.data.field(i.field);n.set(i.field,F3(o,l,e))}return n}class Am extends Wd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z3 extends Wd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&V3(o,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=hu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=hu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=_E();return this.mutations.forEach((i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(i.key)?null:c;const f=IE(l,c);f!==null&&n.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(lt.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),vt())}isEqual(e){return this.batchId===e.batchId&&tc(this.mutations,e.mutations,((t,n)=>$v(t,n)))&&tc(this.baseMutations,e.baseMutations,((t,n)=>$v(t,n)))}}class Im{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){Pt(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=(function(){return b3})();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,n[l].version);return new Im(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yr,Et;function G3(r){switch(r){case ve.OK:return nt(64938);case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0;default:return nt(15467,{code:r})}}function RE(r){if(r===void 0)return zs("GRPC error has no .code"),ve.UNKNOWN;switch(r){case yr.OK:return ve.OK;case yr.CANCELLED:return ve.CANCELLED;case yr.UNKNOWN:return ve.UNKNOWN;case yr.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case yr.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case yr.INTERNAL:return ve.INTERNAL;case yr.UNAVAILABLE:return ve.UNAVAILABLE;case yr.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case yr.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case yr.NOT_FOUND:return ve.NOT_FOUND;case yr.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case yr.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case yr.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case yr.ABORTED:return ve.ABORTED;case yr.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case yr.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case yr.DATA_LOSS:return ve.DATA_LOSS;default:return nt(39323,{code:r})}}(Et=yr||(yr={}))[Et.OK=0]="OK",Et[Et.CANCELLED=1]="CANCELLED",Et[Et.UNKNOWN=2]="UNKNOWN",Et[Et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Et[Et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Et[Et.NOT_FOUND=5]="NOT_FOUND",Et[Et.ALREADY_EXISTS=6]="ALREADY_EXISTS",Et[Et.PERMISSION_DENIED=7]="PERMISSION_DENIED",Et[Et.UNAUTHENTICATED=16]="UNAUTHENTICATED",Et[Et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Et[Et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Et[Et.ABORTED=10]="ABORTED",Et[Et.OUT_OF_RANGE=11]="OUT_OF_RANGE",Et[Et.UNIMPLEMENTED=12]="UNIMPLEMENTED",Et[Et.INTERNAL=13]="INTERNAL",Et[Et.UNAVAILABLE=14]="UNAVAILABLE",Et[Et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=new Mo([4294967295,4294967295],0);function qv(r){const e=q3().encode(r),t=new Ww;return t.update(e),new Uint8Array(t.digest())}function Kv(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Mo([t,n],0),new Mo([i,o],0)]}class Cm{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new iu(`Invalid padding: ${t}`);if(n<0)throw new iu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new iu(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new iu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Mo.fromNumber(this.ge)}ye(e,t,n){let i=e.add(t.multiply(Mo.fromNumber(n)));return i.compare(K3)===1&&(i=new Mo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=qv(e),[n,i]=Kv(t);for(let o=0;o<this.hashCount;o++){const l=this.ye(n,i,o);if(!this.we(l))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Cm(o,i,t);return n.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const t=qv(e),[n,i]=Kv(t);for(let o=0;o<this.hashCount;o++){const l=this.ye(n,i,o);this.Se(l)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,t,n,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,qu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new $d(lt.min(),i,new ir(yt),Ws(),vt())}}class qu{constructor(e,t,n,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new qu(n,t,vt(),vt(),vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,t,n,i){this.be=e,this.removedTargetIds=t,this.key=n,this.De=i}}class kE{constructor(e,t){this.targetId=e,this.Ce=t}}class bE{constructor(e,t,n=Jr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class Xv{constructor(){this.ve=0,this.Fe=Yv(),this.Me=Jr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=vt(),t=vt(),n=vt();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:nt(38017,{changeType:o})}})),new qu(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Yv()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Pt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class X3{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ws(),this.Je=vh(),this.He=vh(),this.Ye=new ir(yt)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:nt(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((n,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,n=e.Ce.count,i=this.ot(t);if(i){const o=i.target;if(kg(o))if(n===0){const l=new Je(o.path);this.et(t,l,an.newNoDocument(l,lt.min()))}else Pt(n===1,20013,{expectedCount:n});else{const l=this._t(t);if(l!==n){const c=this.ut(e),f=c?this.ct(c,e,l):1;if(f!==0){this.it(t);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,h)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:o=0}=t;let l,c;try{l=zo(n).toUint8Array()}catch(f){if(f instanceof tE)return ec("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new Cm(l,i,o)}catch(f){return ec(f instanceof iu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let i=0;return n.forEach((o=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(t,o,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((o,l)=>{const c=this.ot(l);if(c){if(o.current&&kg(c.target)){const f=new Je(c.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,an.newNoDocument(f,e))}o.Be&&(t.set(l,o.ke()),o.qe())}}));let n=vt();this.He.forEach(((o,l)=>{let c=!0;l.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(n=n.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const i=new $d(e,t,this.Ye,this.je,n);return this.je=Ws(),this.Je=vh(),this.He=vh(),this.Ye=new ir(yt),i}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Xv,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new kr(yt),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new kr(yt),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||He("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Xv),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function vh(){return new ir(Je.comparator)}function Yv(){return new ir(Je.comparator)}const Y3={asc:"ASCENDING",desc:"DESCENDING"},Q3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},J3={and:"AND",or:"OR"};class Z3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ng(r,e){return r.useProto3Json||jd(e)?e:{value:e}}function rd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function eP(r,e){return rd(r,e.toTimestamp())}function as(r){return Pt(!!r,49232),lt.fromTimestamp((function(t){const n=Uo(t);return new qt(n.seconds,n.nanos)})(r))}function Rm(r,e){return Dg(r,e).canonicalString()}function Dg(r,e){const t=(function(i){return new Wt(["projects",i.projectId,"databases",i.database])})(r).child("documents");return e===void 0?t:t.child(e)}function NE(r){const e=Wt.fromString(r);return Pt(ME(e),10190,{key:e.toString()}),e}function Og(r,e){return Rm(r.databaseId,e.path)}function Qp(r,e){const t=NE(e);if(t.get(1)!==r.databaseId.projectId)throw new ze(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ze(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Je(OE(t))}function DE(r,e){return Rm(r.databaseId,e)}function tP(r){const e=NE(r);return e.length===4?Wt.emptyPath():OE(e)}function Fg(r){return new Wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function OE(r){return Pt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Qv(r,e,t){return{name:Og(r,e),fields:t.value.mapValue.fields}}function rP(r,e){let t;if("targetChange"in e){e.targetChange;const n=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:nt(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(h,p){return h.useProto3Json?(Pt(p===void 0||typeof p=="string",58123),Jr.fromBase64String(p||"")):(Pt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Jr.fromUint8Array(p||new Uint8Array))})(r,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(h){const p=h.code===void 0?ve.UNKNOWN:RE(h.code);return new ze(p,h.message||"")})(l);t=new bE(n,i,o,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Qp(r,n.document.name),o=as(n.document.updateTime),l=n.document.createTime?as(n.document.createTime):lt.min(),c=new kn({mapValue:{fields:n.document.fields}}),f=an.newFoundDocument(i,o,l,c),h=n.targetIds||[],p=n.removedTargetIds||[];t=new Bh(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Qp(r,n.document),o=n.readTime?as(n.readTime):lt.min(),l=an.newNoDocument(i,o),c=n.removedTargetIds||[];t=new Bh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Qp(r,n.document),o=n.removedTargetIds||[];t=new Bh([],o,i,null)}else{if(!("filter"in e))return nt(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:o}=n,l=new H3(i,o),c=n.targetId;t=new kE(c,l)}}return t}function nP(r,e){let t;if(e instanceof Gu)t={update:Qv(r,e.key,e.value)};else if(e instanceof Am)t={delete:Og(r,e.key)};else if(e instanceof Jo)t={update:Qv(r,e.key,e.data),updateMask:hP(e.fieldMask)};else{if(!(e instanceof z3))return nt(16599,{Vt:e.type});t={verify:Og(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(o,l){const c=l.transform;if(c instanceof ku)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof bu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Pu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof td)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw nt(20930,{transform:l.transform})})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:eP(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:nt(27497)})(r,e.precondition)),t}function iP(r,e){return r&&r.length>0?(Pt(e!==void 0,14353),r.map((t=>(function(i,o){let l=i.updateTime?as(i.updateTime):as(o);return l.isEqual(lt.min())&&(l=as(o)),new B3(l,i.transformResults||[])})(t,e)))):[]}function sP(r,e){return{documents:[DE(r,e.path)]}}function oP(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=DE(r,i);const o=(function(h){if(h.length!==0)return LE(Ui.create(h,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const l=(function(h){if(h.length!==0)return h.map((p=>(function(y){return{field:jl(y.field),direction:cP(y.dir)}})(p)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=Ng(r,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:t,parent:i}}function aP(r){let e=tP(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){Pt(n===1,65062);const p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];t.where&&(o=(function(x){const y=FE(x);return y instanceof Ui&&fE(y)?y.getFilters():[y]})(t.where));let l=[];t.orderBy&&(l=(function(x){return x.map((y=>(function(S){return new Ru(Bl(S.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(y)))})(t.orderBy));let c=null;t.limit&&(c=(function(x){let y;return y=typeof x=="object"?x.value:x,jd(y)?null:y})(t.limit));let f=null;t.startAt&&(f=(function(x){const y=!!x.before,w=x.values||[];return new ed(w,y)})(t.startAt));let h=null;return t.endAt&&(h=(function(x){const y=!x.before,w=x.values||[];return new ed(w,y)})(t.endAt)),A3(e,i,l,o,c,"F",f,h)}function lP(r,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nt(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function FE(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Bl(t.unaryFilter.field);return vr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Bl(t.unaryFilter.field);return vr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Bl(t.unaryFilter.field);return vr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Bl(t.unaryFilter.field);return vr.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return nt(61313);default:return nt(60726)}})(r):r.fieldFilter!==void 0?(function(t){return vr.create(Bl(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return nt(58110);default:return nt(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return Ui.create(t.compositeFilter.filters.map((n=>FE(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return nt(1026)}})(t.compositeFilter.op))})(r):nt(30097,{filter:r})}function cP(r){return Y3[r]}function uP(r){return Q3[r]}function fP(r){return J3[r]}function jl(r){return{fieldPath:r.canonicalString()}}function Bl(r){return Kr.fromServerFormat(r.fieldPath)}function LE(r){return r instanceof vr?(function(t){if(t.op==="=="){if(jv(t.value))return{unaryFilter:{field:jl(t.field),op:"IS_NAN"}};if(Mv(t.value))return{unaryFilter:{field:jl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(jv(t.value))return{unaryFilter:{field:jl(t.field),op:"IS_NOT_NAN"}};if(Mv(t.value))return{unaryFilter:{field:jl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jl(t.field),op:uP(t.op),value:t.value}}})(r):r instanceof Ui?(function(t){const n=t.getFilters().map((i=>LE(i)));return n.length===1?n[0]:{compositeFilter:{op:fP(t.op),filters:n}}})(r):nt(54877,{filter:r})}function hP(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function ME(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,t,n,i,o=lt.min(),l=lt.min(),c=Jr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new bo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.yt=e}}function pP(r){const e=aP({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Pg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this.Cn=new mP}addToCollectionParentIndex(e,t){return this.Cn.add(t),we.resolve()}getCollectionParents(e,t){return we.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return we.resolve()}deleteFieldIndex(e,t){return we.resolve()}deleteAllFieldIndexes(e){return we.resolve()}createTargetIndexes(e,t){return we.resolve()}getDocumentsMatchingTarget(e,t){return we.resolve(null)}getIndexType(e,t){return we.resolve(0)}getFieldIndexes(e,t){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}getMinOffset(e,t){return we.resolve(Vo.min())}getMinOffsetFromCollectionGroup(e,t){return we.resolve(Vo.min())}updateCollectionGroup(e,t,n){return we.resolve()}updateIndexEntries(e,t){return we.resolve()}}class mP{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new kr(Wt.comparator),o=!i.has(n);return this.index[t]=i.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new kr(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jE=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(jE,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ic(0)}static cr(){return new ic(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="LruGarbageCollector",xP=1048576;function e_([r,e],[t,n]){const i=yt(r,t);return i===0?yt(e,n):i}class yP{constructor(e){this.Ir=e,this.buffer=new kr(e_),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();e_(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class vP{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){He(Zv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){gc(t)?He(Zv,"Ignoring IndexedDB error during garbage collection: ",t):await pc(t)}await this.Vr(3e5)}))}}class _P{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((n=>Math.floor(t/100*n)))}nthSequenceNumber(e,t){if(t===0)return we.resolve(Md.ce);const n=new yP(t);return this.mr.forEachTarget(e,(i=>n.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>n.Ar(i))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(He("LruGarbageCollector","Garbage collection skipped; disabled"),we.resolve(Jv)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jv):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,i,o,l,c,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,l=Date.now(),this.nthSequenceNumber(e,i)))).next((x=>(n=x,c=Date.now(),this.removeTargets(e,n,t)))).next((x=>(o=x,f=Date.now(),this.removeOrphanedDocuments(e,n)))).next((x=>(h=Date.now(),Ll()<=xt.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(f-c)+`ms
	Removed ${x} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),we.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:x}))))}}function wP(r,e){return new _P(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this.changes=new Ha((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?we.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(n!==null&&hu(n.mutation,i,qn.empty(),qt.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,vt()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=vt()){const i=Ca();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,n).next((o=>{let l=nu();return o.forEach(((c,f)=>{l=l.insert(c,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const n=Ca();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,vt())))}populateOverlays(e,t,n){const i=[];return n.forEach((o=>{t.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((l,c)=>{t.set(l,c)}))}))}computeViews(e,t,n,i){let o=Ws();const l=fu(),c=(function(){return fu()})();return t.forEach(((f,h)=>{const p=n.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof Jo)?o=o.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),hu(p.mutation,h,p.mutation.getFieldMask(),qt.now())):l.set(h.key,qn.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((h,p)=>l.set(h,p))),t.forEach(((h,p)=>c.set(h,new TP(p,l.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,t){const n=fu();let i=new ir(((l,c)=>l-c)),o=vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const c of l)c.keys().forEach((f=>{const h=t.get(f);if(h===null)return;let p=n.get(f)||qn.empty();p=c.applyToLocalView(h,p),n.set(f,p);const x=(i.get(c.batchId)||vt()).add(f);i=i.insert(c.batchId,x)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),h=f.key,p=f.value,x=_E();p.forEach((y=>{if(!o.has(y)){const w=IE(t.get(y),n.get(y));w!==null&&x.set(y,w),o=o.add(y)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,x))}return we.waitFor(l)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,i){return(function(l){return Je.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next((o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-o.size):we.resolve(Ca());let c=Su,f=o;return l.next((h=>we.forEach(h,((p,x)=>(c<x.largestBatchId&&(c=x.largestBatchId),o.get(p)?we.resolve():this.remoteDocumentCache.getEntry(e,p).next((y=>{f=f.insert(p,y)}))))).next((()=>this.populateOverlays(e,h,o))).next((()=>this.computeViews(e,f,h,vt()))).next((p=>({batchId:c,changes:vE(p)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Je(t)).next((n=>{let i=nu();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const o=t.collectionGroup;let l=nu();return this.indexManager.getCollectionParents(e,o).next((c=>we.forEach(c,(f=>{const h=(function(x,y){return new mc(y,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,n,i).next((p=>{p.forEach(((x,y)=>{l=l.insert(x,y)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,n,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,i)))).next((l=>{o.forEach(((f,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,an.newInvalidDocument(p)))}));let c=nu();return l.forEach(((f,h)=>{const p=o.get(f);p!==void 0&&hu(p.mutation,h,qn.empty(),qt.now()),Ud(t,h)&&(c=c.insert(f,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return we.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:as(i.createTime)}})(t)),we.resolve()}getNamedQuery(e,t){return we.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:pP(i.bundledQuery),readTime:as(i.readTime)}})(t)),we.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(){this.overlays=new ir(Je.comparator),this.qr=new Map}getOverlay(e,t){return we.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ca();return we.forEach(t,(i=>this.getOverlay(e,i).next((o=>{o!==null&&n.set(i,o)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((i,o)=>{this.St(e,t,o)})),we.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(n)),we.resolve()}getOverlaysForCollection(e,t,n){const i=Ca(),o=t.length+1,l=new Je(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,h=f.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===o&&f.largestBatchId>n&&i.set(f.getKey(),f)}return we.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let o=new ir(((h,p)=>h-p));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>n){let p=o.get(h.largestBatchId);p===null&&(p=Ca(),o=o.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const c=Ca(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,p)=>c.set(h,p))),!(c.size()>=i)););return we.resolve(c)}St(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new $3(t,n));let o=this.qr.get(t);o===void 0&&(o=vt(),this.qr.set(t,o)),this.qr.set(t,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(){this.sessionToken=Jr.EMPTY_BYTE_STRING}getSessionToken(e){return we.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,we.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(){this.Qr=new kr(Fr.$r),this.Ur=new kr(Fr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Fr(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Gr(new Fr(e,t))}zr(e,t){e.forEach((n=>this.removeReference(n,t)))}jr(e){const t=new Je(new Wt([])),n=new Fr(t,e),i=new Fr(t,e+1),o=[];return this.Ur.forEachInRange([n,i],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Je(new Wt([])),n=new Fr(t,e),i=new Fr(t,e+1);let o=vt();return this.Ur.forEachInRange([n,i],(l=>{o=o.add(l.key)})),o}containsKey(e){const t=new Fr(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Fr{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Je.comparator(e.key,t.key)||yt(e.Yr,t.Yr)}static Kr(e,t){return yt(e.Yr,t.Yr)||Je.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new kr(Fr.$r)}checkEmpty(e){return we.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new W3(o,t,n,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new Fr(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return we.resolve(l)}lookupMutationBatch(e,t){return we.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.ei(n),o=i<0?0:i;return we.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(this.mutationQueue.length===0?ym:this.tr-1)}getAllMutationBatches(e){return we.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Fr(t,0),i=new Fr(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([n,i],(l=>{const c=this.Xr(l.Yr);o.push(c)})),we.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new kr(yt);return t.forEach((i=>{const o=new Fr(i,0),l=new Fr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(c=>{n=n.add(c.Yr)}))})),we.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let o=n;Je.isDocumentKey(o)||(o=o.child(""));const l=new Fr(new Je(o),0);let c=new kr(yt);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!n.isPrefixOf(h)&&(h.length===i&&(c=c.add(f.Yr)),!0)}),l),we.resolve(this.ti(c))}ti(e){const t=[];return e.forEach((n=>{const i=this.Xr(n);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){Pt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return we.forEach(t.mutations,(i=>{const o=new Fr(i.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){const n=new Fr(t,0),i=this.Zr.firstAfterOrEqual(n);return we.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,we.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e){this.ri=e,this.docs=(function(){return new ir(Je.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),o=i?i.size:0,l=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return we.resolve(n?n.document.mutableCopy():an.newInvalidDocument(t))}getEntries(e,t){let n=Ws();return t.forEach((i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():an.newInvalidDocument(i))})),we.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let o=Ws();const l=t.path,c=new Je(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||n3(r3(p),n)<=0||(i.has(p.key)||Ud(t,p))&&(o=o.insert(p.key,p.mutableCopy()))}return we.resolve(o)}getAllFromCollectionGroup(e,t,n,i){nt(9500)}ii(e,t){return we.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new bP(this)}getSize(e){return we.resolve(this.size)}}class bP extends EP{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)})),we.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e){this.persistence=e,this.si=new Ha((t=>wm(t)),Em),this.lastRemoteSnapshotVersion=lt.min(),this.highestTargetId=0,this.oi=0,this._i=new km,this.targetCount=0,this.ai=ic.ur()}forEachTarget(e,t){return this.si.forEach(((n,i)=>t(i))),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),we.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ic(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,we.resolve()}updateTargetData(e,t){return this.Pr(t),we.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,t,n){let i=0;const o=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=t&&n.get(c.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),we.waitFor(o).next((()=>i))}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return we.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),we.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach((l=>{o.push(i.markPotentiallyOrphaned(e,l))})),we.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),we.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return we.resolve(n)}containsKey(e,t){return we.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,t){this.ui={},this.overlays={},this.ci=new Md(0),this.li=!1,this.li=!0,this.hi=new CP,this.referenceDelegate=e(this),this.Pi=new PP(this),this.indexManager=new gP,this.remoteDocumentCache=(function(i){return new kP(i)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new dP(t),this.Ii=new AP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new IP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new RP(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){He("MemoryPersistence","Starting transaction:",e);const i=new NP(this.ci.next());return this.referenceDelegate.Ei(),n(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,t){return we.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}}class NP extends s3{constructor(e){super(),this.currentSequenceNumber=e}}class bm{constructor(e){this.persistence=e,this.Ri=new km,this.Vi=null}static mi(e){return new bm(e)}get fi(){if(this.Vi)return this.Vi;throw nt(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),we.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),we.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),we.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.fi,(n=>{const i=Je.fromPath(n);return this.gi(e,i).next((o=>{o||t.removeEntry(i,lt.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return we.or([()=>we.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class nd{constructor(e,t){this.persistence=e,this.pi=new Ha((n=>l3(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=wP(this,t)}static mi(e,t){return new nd(e,t)}Ei(){}di(e){return we.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>t.next((i=>n+i))))}wr(e){let t=0;return this.pr(e,(n=>{t++})).next((()=>t))}pr(e,t){return we.forEach(this.pi,((n,i)=>this.br(e,n,i).next((o=>o?we.resolve():t(i)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,t).next((c=>{c||(n++,o.removeEntry(l,lt.min()))})))).next((()=>o.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),we.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),we.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),we.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),we.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Lh(e.data.value)),t}br(e,t,n){return we.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return we.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=i}static As(e,t){let n=vt(),i=vt();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Pm(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return IC()?8:o3(un())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,i){const o={result:null};return this.ys(e,t).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,t,i,n).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new DP;return this.Ss(e,t,l).next((c=>{if(o.result=c,this.Vs)return this.bs(e,t,l,c.size)}))})).next((()=>o.result))}bs(e,t,n,i){return n.documentReadCount<this.fs?(Ll()<=xt.DEBUG&&He("QueryEngine","SDK will not create cache indexes for query:",Ml(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),we.resolve()):(Ll()<=xt.DEBUG&&He("QueryEngine","Query:",Ml(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Ll()<=xt.DEBUG&&He("QueryEngine","The SDK decides to create cache indexes for query:",Ml(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,os(t))):we.resolve())}ys(e,t){if(zv(t))return we.resolve(null);let n=os(t);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=Pg(t,null,"F"),n=os(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((o=>{const l=vt(...o);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,n).next((f=>{const h=this.Ds(t,c);return this.Cs(t,h,l,f.readTime)?this.ys(e,Pg(t,null,"F")):this.vs(e,h,t,f)}))))})))))}ws(e,t,n,i){return zv(t)||i.isEqual(lt.min())?we.resolve(null):this.ps.getDocuments(e,n).next((o=>{const l=this.Ds(t,o);return this.Cs(t,l,n,i)?we.resolve(null):(Ll()<=xt.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ml(t)),this.vs(e,l,t,t3(i,Su)).next((c=>c)))}))}Ds(e,t){let n=new kr(xE(e));return t.forEach(((i,o)=>{Ud(e,o)&&(n=n.add(o))})),n}Cs(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,n){return Ll()<=xt.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",Ml(t)),this.ps.getDocumentsMatchingQuery(e,t,Vo.min(),n)}vs(e,t,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next((o=>(t.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="LocalStore",FP=3e8;class LP{constructor(e,t,n,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new ir(yt),this.xs=new Ha((o=>wm(o)),Em),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function MP(r,e,t,n){return new LP(r,e,t,n)}async function VE(r,e){const t=ct(r);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next((o=>(i=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(n)))).next((o=>{const l=[],c=[];let f=vt();for(const h of i){l.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of o){c.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return t.localDocuments.getDocuments(n,f).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:c})))}))}))}function jP(r,e){const t=ct(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,f,h,p){const x=h.batch,y=x.keys();let w=we.resolve();return y.forEach((S=>{w=w.next((()=>p.getEntry(f,S))).next((T=>{const A=h.docVersions.get(S);Pt(A!==null,48541),T.version.compareTo(A)<0&&(x.applyToRemoteDocument(T,h),T.isValidDocument()&&(T.setReadTime(h.commitVersion),p.addEntry(T)))}))})),w.next((()=>c.mutationQueue.removeMutationBatch(f,x)))})(t,n,e,o).next((()=>o.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(c){let f=vt();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(f=f.add(c.batch.mutations[h].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(n,i)))}))}function UE(r){const e=ct(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function BP(r,e){const t=ct(r),n=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const c=[];e.targetChanges.forEach(((p,x)=>{const y=i.get(x);if(!y)return;c.push(t.Pi.removeMatchingKeys(o,p.removedDocuments,x).next((()=>t.Pi.addMatchingKeys(o,p.addedDocuments,x))));let w=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(x)!==null?w=w.withResumeToken(Jr.EMPTY_BYTE_STRING,lt.min()).withLastLimboFreeSnapshotVersion(lt.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,n)),i=i.insert(x,w),(function(T,A,j){return T.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=FP?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(y,w,p)&&c.push(t.Pi.updateTargetData(o,w))}));let f=Ws(),h=vt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,p))})),c.push(VP(o,l,e.documentUpdates).next((p=>{f=p.ks,h=p.qs}))),!n.isEqual(lt.min())){const p=t.Pi.getLastRemoteSnapshotVersion(o).next((x=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,n)));c.push(p)}return we.waitFor(c).next((()=>l.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,f,h))).next((()=>f))})).then((o=>(t.Ms=i,o)))}function VP(r,e,t){let n=vt(),i=vt();return t.forEach((o=>n=n.add(o))),e.getEntries(r,n).next((o=>{let l=Ws();return t.forEach(((c,f)=>{const h=o.get(c);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(lt.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):He(Nm,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",f.version)})),{ks:l,qs:i}}))}function UP(r,e){const t=ct(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=ym),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function zP(r,e){const t=ct(r);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return t.Pi.getTargetData(n,e).next((o=>o?(i=o,we.resolve(i)):t.Pi.allocateTargetId(n).next((l=>(i=new bo(e,l,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=t.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n}))}async function Lg(r,e,t){const n=ct(r),i=n.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,(l=>n.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!gc(l))throw l;He(Nm,`Failed to update sequence numbers for target ${e}: ${l}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function t_(r,e,t){const n=ct(r);let i=lt.min(),o=vt();return n.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,h,p){const x=ct(f),y=x.xs.get(p);return y!==void 0?we.resolve(x.Ms.get(y)):x.Pi.getTargetData(h,p)})(n,l,os(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(l,c.targetId).next((f=>{o=f}))})).next((()=>n.Fs.getDocumentsMatchingQuery(l,e,t?i:lt.min(),t?o:vt()))).next((c=>(WP(n,C3(e),c),{documents:c,Qs:o})))))}function WP(r,e,t){let n=r.Os.get(e)||lt.min();t.forEach(((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)})),r.Os.set(e,n)}class r_{constructor(){this.activeTargetIds=D3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $P{constructor(){this.Mo=new r_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new r_,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="ConnectivityMonitor";class i_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){He(n_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){He(n_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h=null;function Mg(){return _h===null?_h=(function(){return 268435456+Math.round(2147483648*Math.random())})():_h++,"0x"+_h.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="RestConnection",GP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===Jh?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,t,n,i,o){const l=Mg(),c=this.zo(e,t.toUriEncodedString());He(Jp,`Sending RPC '${e}' ${l}:`,c,n);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,o);const{host:h}=new URL(c),p=za(h);return this.Jo(e,c,f,n,p).then((x=>(He(Jp,`Received RPC '${e}' ${l}: `,x),x)),(x=>{throw ec(Jp,`RPC '${e}' ${l} failed with error: `,x,"url: ",c,"request:",n),x}))}Ho(e,t,n,i,o,l){return this.Go(e,t,n,i,o)}jo(e,t,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+dc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,o)=>e[o]=i)),n&&n.headers.forEach(((i,o)=>e[o]=i))}zo(e,t){const n=GP[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class XP extends qP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,i,o){const l=Mg();return new Promise(((c,f)=>{const h=new $w;h.setWithCredentials(!0),h.listenOnce(Hw.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Fh.NO_ERROR:const x=h.getResponseJson();He(sn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(x)),c(x);break;case Fh.TIMEOUT:He(sn,`RPC '${e}' ${l} timed out`),f(new ze(ve.DEADLINE_EXCEEDED,"Request time out"));break;case Fh.HTTP_ERROR:const y=h.getStatus();if(He(sn,`RPC '${e}' ${l} failed with status:`,y,"response text:",h.getResponseText()),y>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const S=w?.error;if(S&&S.status&&S.message){const T=(function(j){const U=j.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(U)>=0?U:ve.UNKNOWN})(S.status);f(new ze(T,S.message))}else f(new ze(ve.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new ze(ve.UNAVAILABLE,"Connection failed."));break;default:nt(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{He(sn,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);He(sn,`RPC '${e}' ${l} sending request:`,i),h.send(t,"POST",p,n,15)}))}T_(e,t,n){const i=Mg(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Kw(),c=qw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,n),f.encodeInitMessageHeaders=!0;const p=o.join("");He(sn,`Creating RPC '${e}' stream ${i}: ${p}`,f);const x=l.createWebChannel(p,f);this.I_(x);let y=!1,w=!1;const S=new KP({Yo:A=>{w?He(sn,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(y||(He(sn,`Opening RPC '${e}' stream ${i} transport.`),x.open(),y=!0),He(sn,`RPC '${e}' stream ${i} sending:`,A),x.send(A))},Zo:()=>x.close()}),T=(A,j,U)=>{A.listen(j,(F=>{try{U(F)}catch(Q){setTimeout((()=>{throw Q}),0)}}))};return T(x,ru.EventType.OPEN,(()=>{w||(He(sn,`RPC '${e}' stream ${i} transport opened.`),S.o_())})),T(x,ru.EventType.CLOSE,(()=>{w||(w=!0,He(sn,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(x))})),T(x,ru.EventType.ERROR,(A=>{w||(w=!0,ec(sn,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),S.a_(new ze(ve.UNAVAILABLE,"The operation could not be completed")))})),T(x,ru.EventType.MESSAGE,(A=>{if(!w){const j=A.data[0];Pt(!!j,16349);const U=j,F=U?.error||U[0]?.error;if(F){He(sn,`RPC '${e}' stream ${i} received error:`,F);const Q=F.status;let ne=(function(R){const C=yr[R];if(C!==void 0)return RE(C)})(Q),he=F.message;ne===void 0&&(ne=ve.INTERNAL,he="Unknown error status: "+Q+" with message "+F.message),w=!0,S.a_(new ze(ne,he)),x.close()}else He(sn,`RPC '${e}' stream ${i} received:`,j),S.u_(j)}})),T(c,Gw.STAT_EVENT,(A=>{A.stat===Sg.PROXY?He(sn,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Sg.NOPROXY&&He(sn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Zp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(r){return new Z3(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,t,n=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-n);i>0&&He("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="PersistentStream";class WE{constructor(e,t,n,i,o,l,c,f){this.Mi=e,this.S_=n,this.b_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ve.RESOURCE_EXHAUSTED?(zs(t.toString()),zs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===t&&this.G_(n,i)}),(n=>{e((()=>{const i=new ze(ve.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return He(s_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(He(s_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class YP extends WE{constructor(e,t,n,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,l),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=rP(this.serializer,e),n=(function(o){if(!("targetChange"in o))return lt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?lt.min():l.readTime?as(l.readTime):lt.min()})(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Fg(this.serializer),t.addTarget=(function(o,l){let c;const f=l.target;if(c=kg(f)?{documents:sP(o,f)}:{query:oP(o,f).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=PE(o,l.resumeToken);const h=Ng(o,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(lt.min())>0){c.readTime=rd(o,l.snapshotVersion.toTimestamp());const h=Ng(o,l.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const n=lP(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Fg(this.serializer),t.removeTarget=e,this.q_(t)}}class QP extends WE{constructor(e,t,n,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=iP(e.writeResults,e.commitTime),n=as(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Fg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>nP(this.serializer,n)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{}class ZP extends JP{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ze(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,Dg(t,n),i,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ze(ve.UNKNOWN,o.toString())}))}Ho(e,t,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,Dg(t,n),i,l,c,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ze(ve.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class e6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zs(t),this.aa=!1):He("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="RemoteStore";class t6{constructor(e,t,n,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{n.enqueueAndForget((async()=>{Ga(this)&&(He(Da,"Restarting streams for network reachability change."),await(async function(f){const h=ct(f);h.Ea.add(4),await Ku(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Gd(h)})(this))}))})),this.Ra=new e6(n,i)}}async function Gd(r){if(Ga(r))for(const e of r.da)await e(!0)}async function Ku(r){for(const e of r.da)await e(!1)}function $E(r,e){const t=ct(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Lm(t)?Fm(t):xc(t).O_()&&Om(t,e))}function Dm(r,e){const t=ct(r),n=xc(t);t.Ia.delete(e),n.O_()&&HE(t,e),t.Ia.size===0&&(n.O_()?n.L_():Ga(t)&&t.Ra.set("Unknown"))}function Om(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(lt.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xc(r).Y_(e)}function HE(r,e){r.Va.Ue(e),xc(r).Z_(e)}function Fm(r){r.Va=new X3({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),xc(r).start(),r.Ra.ua()}function Lm(r){return Ga(r)&&!xc(r).x_()&&r.Ia.size>0}function Ga(r){return ct(r).Ea.size===0}function GE(r){r.Va=void 0}async function r6(r){r.Ra.set("Online")}async function n6(r){r.Ia.forEach(((e,t)=>{Om(r,e)}))}async function i6(r,e){GE(r),Lm(r)?(r.Ra.ha(e),Fm(r)):r.Ra.set("Unknown")}async function s6(r,e,t){if(r.Ra.set("Online"),e instanceof bE&&e.state===2&&e.cause)try{await(async function(i,o){const l=o.cause;for(const c of o.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(r,e)}catch(n){He(Da,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await id(r,n)}else if(e instanceof Bh?r.Va.Ze(e):e instanceof kE?r.Va.st(e):r.Va.tt(e),!t.isEqual(lt.min()))try{const n=await UE(r.localStore);t.compareTo(n)>=0&&await(function(o,l){const c=o.Va.Tt(l);return c.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=o.Ia.get(h);p&&o.Ia.set(h,p.withResumeToken(f.resumeToken,l))}})),c.targetMismatches.forEach(((f,h)=>{const p=o.Ia.get(f);if(!p)return;o.Ia.set(f,p.withResumeToken(Jr.EMPTY_BYTE_STRING,p.snapshotVersion)),HE(o,f);const x=new bo(p.target,f,h,p.sequenceNumber);Om(o,x)})),o.remoteSyncer.applyRemoteEvent(c)})(r,t)}catch(n){He(Da,"Failed to raise snapshot:",n),await id(r,n)}}async function id(r,e,t){if(!gc(e))throw e;r.Ea.add(1),await Ku(r),r.Ra.set("Offline"),t||(t=()=>UE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{He(Da,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Gd(r)}))}function qE(r,e){return e().catch((t=>id(r,t,e)))}async function qd(r){const e=ct(r),t=$o(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ym;for(;o6(e);)try{const i=await UP(e.localStore,n);if(i===null){e.Ta.length===0&&t.L_();break}n=i.batchId,a6(e,i)}catch(i){await id(e,i)}KE(e)&&XE(e)}function o6(r){return Ga(r)&&r.Ta.length<10}function a6(r,e){r.Ta.push(e);const t=$o(r);t.O_()&&t.X_&&t.ea(e.mutations)}function KE(r){return Ga(r)&&!$o(r).x_()&&r.Ta.length>0}function XE(r){$o(r).start()}async function l6(r){$o(r).ra()}async function c6(r){const e=$o(r);for(const t of r.Ta)e.ea(t.mutations)}async function u6(r,e,t){const n=r.Ta.shift(),i=Im.from(n,e,t);await qE(r,(()=>r.remoteSyncer.applySuccessfulWrite(i))),await qd(r)}async function f6(r,e){e&&$o(r).X_&&await(async function(n,i){if((function(l){return G3(l)&&l!==ve.ABORTED})(i.code)){const o=n.Ta.shift();$o(n).B_(),await qE(n,(()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i))),await qd(n)}})(r,e),KE(r)&&XE(r)}async function o_(r,e){const t=ct(r);t.asyncQueue.verifyOperationInProgress(),He(Da,"RemoteStore received new credentials");const n=Ga(t);t.Ea.add(3),await Ku(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Gd(t)}async function h6(r,e){const t=ct(r);e?(t.Ea.delete(2),await Gd(t)):e||(t.Ea.add(2),await Ku(t),t.Ra.set("Unknown"))}function xc(r){return r.ma||(r.ma=(function(t,n,i){const o=ct(t);return o.sa(),new YP(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(r.datastore,r.asyncQueue,{Xo:r6.bind(null,r),t_:n6.bind(null,r),r_:i6.bind(null,r),H_:s6.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Lm(r)?Fm(r):r.Ra.set("Unknown")):(await r.ma.stop(),GE(r))}))),r.ma}function $o(r){return r.fa||(r.fa=(function(t,n,i){const o=ct(t);return o.sa(),new QP(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:l6.bind(null,r),r_:f6.bind(null,r),ta:c6.bind(null,r),na:u6.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await qd(r)):(await r.fa.stop(),r.Ta.length>0&&(He(Da,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,t,n,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new Ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,o){const l=Date.now()+n,c=new Mm(e,t,l,i,o);return c.start(n),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ze(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jm(r,e){if(zs("AsyncQueue",`${e}: ${r}`),gc(r))return new ze(ve.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{static emptySet(e){return new ql(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Je.comparator(t.key,n.key):(t,n)=>Je.comparator(t.key,n.key),this.keyedMap=nu(),this.sortedSet=new ir(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ql)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new ql;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(){this.ga=new ir(Je.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):nt(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}}class sc{constructor(e,t,n,i,o,l,c,f,h){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,t,n,i,o){const l=[];return t.forEach((c=>{l.push({type:0,doc:c})})),new sc(e,t,ql.emptySet(t),l,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class p6{constructor(){this.queries=l_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const i=ct(t),o=i.queries;i.queries=l_(),o.forEach(((l,c)=>{for(const f of c.Sa)f.onError(n)}))})(this,new ze(ve.ABORTED,"Firestore shutting down"))}}function l_(){return new Ha((r=>mE(r)),Vd)}async function YE(r,e){const t=ct(r);let n=3;const i=e.query;let o=t.queries.get(i);o?!o.ba()&&e.Da()&&(n=2):(o=new d6,n=e.Da()?0:1);try{switch(n){case 0:o.wa=await t.onListen(i,!0);break;case 1:o.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=jm(l,`Initialization of query '${Ml(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&Bm(t)}async function QE(r,e){const t=ct(r),n=e.query;let i=3;const o=t.queries.get(n);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function g6(r,e){const t=ct(r);let n=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const c of l.Sa)c.Fa(i)&&(n=!0);l.wa=i}}n&&Bm(t)}function m6(r,e,t){const n=ct(r),i=n.queries.get(e);if(i)for(const o of i.Sa)o.onError(t);n.queries.delete(e)}function Bm(r){r.Ca.forEach((e=>{e.next()}))}var jg,c_;(c_=jg||(jg={})).Ma="default",c_.Cache="cache";class JE{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new sc(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==jg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e){this.key=e}}class eT{constructor(e){this.key=e}}class x6{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=vt(),this.mutatedKeys=vt(),this.eu=xE(e),this.tu=new ql(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new a_,i=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,x)=>{const y=i.get(p),w=Ud(this.query,x)?x:null,S=!!y&&this.mutatedKeys.has(y.key),T=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let A=!1;y&&w?y.data.isEqual(w.data)?S!==T&&(n.track({type:3,doc:w}),A=!0):this.su(y,w)||(n.track({type:2,doc:w}),A=!0,(f&&this.eu(w,f)>0||h&&this.eu(w,h)<0)&&(c=!0)):!y&&w?(n.track({type:0,doc:w}),A=!0):y&&!w&&(n.track({type:1,doc:y}),A=!0,(f||h)&&(c=!0)),A&&(w?(l=l.add(w),o=T?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),n.track({type:1,doc:p})}return{tu:l,iu:n,Cs:c,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,x)=>(function(w,S){const T=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt(20277,{Rt:A})}};return T(w)-T(S)})(p.type,x.type)||this.eu(p.doc,x.doc))),this.ou(n),i=i??!1;const c=t&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,h=f!==this.Za;return this.Za=f,l.length!==0||h?{snapshot:new sc(this.query,e.tu,o,l,e.mutatedKeys,f===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new a_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=vt(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const t=[];return e.forEach((n=>{this.Xa.has(n)||t.push(new eT(n))})),this.Xa.forEach((n=>{e.has(n)||t.push(new ZE(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=vt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return sc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vm="SyncEngine";class y6{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class v6{constructor(e){this.key=e,this.hu=!1}}class _6{constructor(e,t,n,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Ha((c=>mE(c)),Vd),this.Iu=new Map,this.Eu=new Set,this.du=new ir(Je.comparator),this.Au=new Map,this.Ru=new km,this.Vu={},this.mu=new Map,this.fu=ic.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function w6(r,e,t=!0){const n=oT(r);let i;const o=n.Tu.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await tT(n,e,t,!0),i}async function E6(r,e){const t=oT(r);await tT(t,e,!0,!1)}async function tT(r,e,t,n){const i=await zP(r.localStore,os(e)),o=i.targetId,l=r.sharedClientState.addLocalQueryTarget(o,t);let c;return n&&(c=await T6(r,e,o,l==="current",i.resumeToken)),r.isPrimaryClient&&t&&$E(r.remoteStore,i),c}async function T6(r,e,t,n,i){r.pu=(x,y,w)=>(async function(T,A,j,U){let F=A.view.ru(j);F.Cs&&(F=await t_(T.localStore,A.query,!1).then((({documents:k})=>A.view.ru(k,F))));const Q=U&&U.targetChanges.get(A.targetId),ne=U&&U.targetMismatches.get(A.targetId)!=null,he=A.view.applyChanges(F,T.isPrimaryClient,Q,ne);return f_(T,A.targetId,he.au),he.snapshot})(r,x,y,w);const o=await t_(r.localStore,e,!0),l=new x6(e,o.Qs),c=l.ru(o.documents),f=qu.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),h=l.applyChanges(c,r.isPrimaryClient,f);f_(r,t,h.au);const p=new y6(e,t,l);return r.Tu.set(e,p),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),h.snapshot}async function S6(r,e,t){const n=ct(r),i=n.Tu.get(e),o=n.Iu.get(i.targetId);if(o.length>1)return n.Iu.set(i.targetId,o.filter((l=>!Vd(l,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Lg(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),t&&Dm(n.remoteStore,i.targetId),Bg(n,i.targetId)})).catch(pc)):(Bg(n,i.targetId),await Lg(n.localStore,i.targetId,!0))}async function A6(r,e){const t=ct(r),n=t.Tu.get(e),i=t.Iu.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Dm(t.remoteStore,n.targetId))}async function I6(r,e,t){const n=D6(r);try{const i=await(function(l,c){const f=ct(l),h=qt.now(),p=c.reduce(((w,S)=>w.add(S.key)),vt());let x,y;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let S=Ws(),T=vt();return f.Ns.getEntries(w,p).next((A=>{S=A,S.forEach(((j,U)=>{U.isValidDocument()||(T=T.add(j))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,S))).next((A=>{x=A;const j=[];for(const U of c){const F=U3(U,x.get(U.key).overlayedDocument);F!=null&&j.push(new Jo(U.key,F,lE(F.value.mapValue),ui.exists(!0)))}return f.mutationQueue.addMutationBatch(w,h,j,c)})).next((A=>{y=A;const j=A.applyToLocalDocumentSet(x,T);return f.documentOverlayCache.saveOverlays(w,A.batchId,j)}))})).then((()=>({batchId:y.batchId,changes:vE(x)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(l,c,f){let h=l.Vu[l.currentUser.toKey()];h||(h=new ir(yt)),h=h.insert(c,f),l.Vu[l.currentUser.toKey()]=h})(n,i.batchId,t),await Xu(n,i.changes),await qd(n.remoteStore)}catch(i){const o=jm(i,"Failed to persist write");t.reject(o)}}async function rT(r,e){const t=ct(r);try{const n=await BP(t.localStore,e);e.targetChanges.forEach(((i,o)=>{const l=t.Au.get(o);l&&(Pt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Pt(l.hu,14607):i.removedDocuments.size>0&&(Pt(l.hu,42227),l.hu=!1))})),await Xu(t,n,e)}catch(n){await pc(n)}}function u_(r,e,t){const n=ct(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.Tu.forEach(((o,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const f=ct(l);f.onlineState=c;let h=!1;f.queries.forEach(((p,x)=>{for(const y of x.Sa)y.va(c)&&(h=!0)})),h&&Bm(f)})(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function C6(r,e,t){const n=ct(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Au.get(e),o=i&&i.key;if(o){let l=new ir(Je.comparator);l=l.insert(o,an.newNoDocument(o,lt.min()));const c=vt().add(o),f=new $d(lt.min(),new Map,new ir(yt),l,c);await rT(n,f),n.du=n.du.remove(o),n.Au.delete(e),Um(n)}else await Lg(n.localStore,e,!1).then((()=>Bg(n,e,t))).catch(pc)}async function R6(r,e){const t=ct(r),n=e.batch.batchId;try{const i=await jP(t.localStore,e);iT(t,n,null),nT(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Xu(t,i)}catch(i){await pc(i)}}async function k6(r,e,t){const n=ct(r);try{const i=await(function(l,c){const f=ct(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return f.mutationQueue.lookupMutationBatch(h,c).next((x=>(Pt(x!==null,37113),p=x.keys(),f.mutationQueue.removeMutationBatch(h,x)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>f.localDocuments.getDocuments(h,p)))}))})(n.localStore,e);iT(n,e,t),nT(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Xu(n,i)}catch(i){await pc(i)}}function nT(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function iT(r,e,t){const n=ct(r);let i=n.Vu[n.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function Bg(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Iu.get(e))r.Tu.delete(n),t&&r.Pu.yu(n,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((n=>{r.Ru.containsKey(n)||sT(r,n)}))}function sT(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(Dm(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),Um(r))}function f_(r,e,t){for(const n of t)n instanceof ZE?(r.Ru.addReference(n.key,e),b6(r,n)):n instanceof eT?(He(Vm,"Document no longer in limbo: "+n.key),r.Ru.removeReference(n.key,e),r.Ru.containsKey(n.key)||sT(r,n.key)):nt(19791,{wu:n})}function b6(r,e){const t=e.key,n=t.path.canonicalString();r.du.get(t)||r.Eu.has(n)||(He(Vm,"New document in limbo: "+t),r.Eu.add(n),Um(r))}function Um(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Je(Wt.fromString(e)),n=r.fu.next();r.Au.set(n,new v6(t)),r.du=r.du.insert(t,n),$E(r.remoteStore,new bo(os(Tm(t.path)),n,"TargetPurposeLimboResolution",Md.ce))}}async function Xu(r,e,t){const n=ct(r),i=[],o=[],l=[];n.Tu.isEmpty()||(n.Tu.forEach(((c,f)=>{l.push(n.pu(f,e,t).then((h=>{if((h||t)&&n.isPrimaryClient){const p=h?!h.fromCache:t?.targetChanges.get(f.targetId)?.current;n.sharedClientState.updateQueryState(f.targetId,p?"current":"not-current")}if(h){i.push(h);const p=Pm.As(f.targetId,h);o.push(p)}})))})),await Promise.all(l),n.Pu.H_(i),await(async function(f,h){const p=ct(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>we.forEach(h,(y=>we.forEach(y.Es,(w=>p.persistence.referenceDelegate.addReference(x,y.targetId,w))).next((()=>we.forEach(y.ds,(w=>p.persistence.referenceDelegate.removeReference(x,y.targetId,w)))))))))}catch(x){if(!gc(x))throw x;He(Nm,"Failed to update sequence numbers: "+x)}for(const x of h){const y=x.targetId;if(!x.fromCache){const w=p.Ms.get(y),S=w.snapshotVersion,T=w.withLastLimboFreeSnapshotVersion(S);p.Ms=p.Ms.insert(y,T)}}})(n.localStore,o))}async function P6(r,e){const t=ct(r);if(!t.currentUser.isEqual(e)){He(Vm,"User change. New user:",e.toKey());const n=await VE(t.localStore,e);t.currentUser=e,(function(o,l){o.mu.forEach((c=>{c.forEach((f=>{f.reject(new ze(ve.CANCELLED,l))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Xu(t,n.Ls)}}function N6(r,e){const t=ct(r),n=t.Au.get(e);if(n&&n.hu)return vt().add(n.key);{let i=vt();const o=t.Iu.get(e);if(!o)return i;for(const l of o){const c=t.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}function oT(r){const e=ct(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=rT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=N6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C6.bind(null,e),e.Pu.H_=g6.bind(null,e.eventManager),e.Pu.yu=m6.bind(null,e.eventManager),e}function D6(r){const e=ct(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=k6.bind(null,e),e}class sd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return MP(this.persistence,new OP,e.initialUser,this.serializer)}Cu(e){return new BE(bm.mi,this.serializer)}Du(e){return new $P}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sd.provider={build:()=>new sd};class O6 extends sd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Pt(this.persistence.referenceDelegate instanceof nd,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new vP(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new BE((n=>nd.mi(n,t)),this.serializer)}}class Vg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>u_(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=P6.bind(null,this.syncEngine),await h6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new p6})()}createDatastore(e){const t=Hd(e.databaseInfo.databaseId),n=(function(o){return new XP(o)})(e.databaseInfo);return(function(o,l,c,f){return new ZP(o,l,c,f)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,i,o,l,c){return new t6(n,i,o,l,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>u_(this.syncEngine,t,0)),(function(){return i_.v()?new i_:new HP})())}createSyncEngine(e,t){return(function(i,o,l,c,f,h,p){const x=new _6(i,o,l,c,f,h);return p&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const n=ct(t);He(Da,"RemoteStore shutting down."),n.Ea.add(5),await Ku(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Vg.provider={build:()=>new Vg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="FirestoreClient";class F6{constructor(e,t,n,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=on.UNAUTHENTICATED,this.clientId=xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,(async l=>{He(Ho,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(n,(l=>(He(Ho,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=jm(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function eg(r,e){r.asyncQueue.verifyOperationInProgress(),He(Ho,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener((async i=>{n.isEqual(i)||(await VE(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function h_(r,e){r.asyncQueue.verifyOperationInProgress();const t=await L6(r);He(Ho,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((n=>o_(e.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,i)=>o_(e.remoteStore,i))),r._onlineComponents=e}async function L6(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){He(Ho,"Using user provided OfflineComponentProvider");try{await eg(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ve.FAILED_PRECONDITION||i.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;ec("Error using user provided cache. Falling back to memory cache: "+t),await eg(r,new sd)}}else He(Ho,"Using default OfflineComponentProvider"),await eg(r,new O6(void 0));return r._offlineComponents}async function lT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(He(Ho,"Using user provided OnlineComponentProvider"),await h_(r,r._uninitializedComponentsProvider._online)):(He(Ho,"Using default OnlineComponentProvider"),await h_(r,new Vg))),r._onlineComponents}function M6(r){return lT(r).then((e=>e.syncEngine))}async function cT(r){const e=await lT(r),t=e.eventManager;return t.onListen=w6.bind(null,e.syncEngine),t.onUnlisten=S6.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=E6.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=A6.bind(null,e.syncEngine),t}function j6(r,e,t={}){const n=new Ls;return r.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,f,h){const p=new aT({next:y=>{p.Nu(),l.enqueueAndForget((()=>QE(o,x)));const w=y.docs.has(c);!w&&y.fromCache?h.reject(new ze(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&y.fromCache&&f&&f.source==="server"?h.reject(new ze(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),x=new JE(Tm(c.path),p,{includeMetadataChanges:!0,qa:!0});return YE(o,x)})(await cT(r),r.asyncQueue,e,t,n))),n.promise}function B6(r,e,t={}){const n=new Ls;return r.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,f,h){const p=new aT({next:y=>{p.Nu(),l.enqueueAndForget((()=>QE(o,x))),y.fromCache&&f.source==="server"?h.reject(new ze(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),x=new JE(c,p,{includeMetadataChanges:!0,qa:!0});return YE(o,x)})(await cT(r),r.asyncQueue,e,t,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="firestore.googleapis.com",p_=!0;class g_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ze(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fT,this.ssl=p_}else this.host=e.host,this.ssl=e.ssl??p_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xP)throw new ze(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}e3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uT(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ze(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ze(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ze(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kd{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ze(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ze(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new $b;switch(n.type){case"firstParty":return new Kb(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ze(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=d_.get(t);n&&(He("ComponentProvider","Removing Datastore"),d_.delete(t),n.terminate())})(this),Promise.resolve()}}function V6(r,e,t,n={}){r=Vi(r,Kd);const i=za(e),o=r._getSettings(),l={...o,emulatorOptions:r._getEmulatorOptions()},c=`${e}:${t}`;i&&(em(`https://${c}`),tm("Firestore",!0)),o.host!==fT&&o.host!==c&&ec("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:c,ssl:i,emulatorOptions:n};if(!Bo(f,l)&&(r._setSettings(f),n.mockUserToken)){let h,p;if(typeof n.mockUserToken=="string")h=n.mockUserToken,p=on.MOCK_USER;else{h=ew(n.mockUserToken,r._app?.options.projectId);const x=n.mockUserToken.sub||n.mockUserToken.user_id;if(!x)throw new ze(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new on(x)}r._authCredentials=new Hb(new Yw(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new qa(this.firestore,e,this._query)}}class dr{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dr(this.firestore,e,this._key)}toJSON(){return{type:dr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Hu(t,dr._jsonSchema))return new dr(e,n||null,new Je(Wt.fromString(t.referencePath)))}}dr._jsonSchemaVersion="firestore/documentReference/1.0",dr._jsonSchema={type:wr("string",dr._jsonSchemaVersion),referencePath:wr("string")};class jo extends qa{constructor(e,t,n){super(e,t,Tm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dr(this.firestore,null,new Je(e))}withConverter(e){return new jo(this.firestore,e,this._path)}}function Oa(r,e,...t){if(r=Tr(r),Qw("collection","path",e),r instanceof Kd){const n=Wt.fromString(e,...t);return Rv(n),new jo(r,null,n)}{if(!(r instanceof dr||r instanceof jo))throw new ze(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Wt.fromString(e,...t));return Rv(n),new jo(r.firestore,null,n)}}function Ct(r,e,...t){if(r=Tr(r),arguments.length===1&&(e=xm.newId()),Qw("doc","path",e),r instanceof Kd){const n=Wt.fromString(e,...t);return Cv(n),new dr(r,null,new Je(n))}{if(!(r instanceof dr||r instanceof jo))throw new ze(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Wt.fromString(e,...t));return Cv(n),new dr(r.firestore,r instanceof jo?r.converter:null,new Je(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="AsyncQueue";class x_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zE(this,"async_queue_retry"),this._c=()=>{const n=Zp();n&&He(m_,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=Zp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Zp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ls;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!gc(e))throw e;He(m_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,zs("INTERNAL UNHANDLED ERROR: ",y_(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=Mm.createAndSchedule(this,e,t,n,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&nt(47125,{Pc:y_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function y_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Ka extends Kd{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new x_,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new x_(e),this._firestoreClient=void 0,await e}}}function U6(r,e){const t=typeof r=="object"?r:Nd(),n=typeof r=="string"?r:Jh,i=Yo(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=Q2("firestore");o&&V6(i,...o)}return i}function zm(r){if(r._terminated)throw new ze(ve.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||z6(r),r._firestoreClient}function z6(r){const e=r._freezeSettings(),t=(function(i,o,l,c){return new f3(i,o,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,uT(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new F6(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(i){const o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ci(Jr.fromBase64String(e))}catch(t){throw new ze(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ci(Jr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hu(e,ci._jsonSchema))return ci.fromBase64String(e.bytes)}}ci._jsonSchemaVersion="firestore/bytes/1.0",ci._jsonSchema={type:wr("string",ci._jsonSchemaVersion),bytes:wr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ze(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ze(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ze(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return yt(this._lat,e._lat)||yt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ls._jsonSchemaVersion}}static fromJSON(e){if(Hu(e,ls._jsonSchema))return new ls(e.latitude,e.longitude)}}ls._jsonSchemaVersion="firestore/geoPoint/1.0",ls._jsonSchema={type:wr("string",ls._jsonSchemaVersion),latitude:wr("number"),longitude:wr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:cs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hu(e,cs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new cs(e.vectorValues);throw new ze(ve.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cs._jsonSchemaVersion="firestore/vectorValue/1.0",cs._jsonSchema={type:wr("string",cs._jsonSchemaVersion),vectorValues:wr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6=/^__.*__$/;class $6{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Jo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gu(e,this.data,t,this.fieldTransforms)}}class hT{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Jo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt(40011,{Ac:r})}}class Wm{constructor(e,t,n,i,o,l){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Wm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return od(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(dT(this.Ac)&&W6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class H6{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Hd(e)}Cc(e,t,n,i=!1){return new Wm({Ac:e,methodName:t,Dc:n,path:Kr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qd(r){const e=r._freezeSettings(),t=Hd(r._databaseId);return new H6(r._databaseId,!!e.ignoreUndefinedProperties,t)}function pT(r,e,t,n,i,o={}){const l=r.Cc(o.merge||o.mergeFields?2:0,e,t,i);Hm("Data must be an object, but it was:",l,n);const c=gT(n,l);let f,h;if(o.merge)f=new qn(l.fieldMask),h=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const x of o.mergeFields){const y=Ug(e,x,t);if(!l.contains(y))throw new ze(ve.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);xT(p,y)||p.push(y)}f=new qn(p),h=l.fieldTransforms.filter((x=>f.covers(x.field)))}else f=null,h=l.fieldTransforms;return new $6(new kn(c),f,h)}class Jd extends Yd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jd}}class $m extends Yd{_toFieldTransform(e){return new M3(e.path,new ku)}isEqual(e){return e instanceof $m}}function G6(r,e,t,n){const i=r.Cc(1,e,t);Hm("Data must be an object, but it was:",i,n);const o=[],l=kn.empty();Qo(n,((f,h)=>{const p=Gm(e,f,t);h=Tr(h);const x=i.yc(p);if(h instanceof Jd)o.push(p);else{const y=Yu(h,x);y!=null&&(o.push(p),l.set(p,y))}}));const c=new qn(o);return new hT(l,c,i.fieldTransforms)}function q6(r,e,t,n,i,o){const l=r.Cc(1,e,t),c=[Ug(e,n,t)],f=[i];if(o.length%2!=0)throw new ze(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)c.push(Ug(e,o[y])),f.push(o[y+1]);const h=[],p=kn.empty();for(let y=c.length-1;y>=0;--y)if(!xT(h,c[y])){const w=c[y];let S=f[y];S=Tr(S);const T=l.yc(w);if(S instanceof Jd)h.push(w);else{const A=Yu(S,T);A!=null&&(h.push(w),p.set(w,A))}}const x=new qn(h);return new hT(p,x,l.fieldTransforms)}function K6(r,e,t,n=!1){return Yu(t,r.Cc(n?4:3,e))}function Yu(r,e){if(mT(r=Tr(r)))return Hm("Unsupported field value:",e,r),gT(r,e);if(r instanceof Yd)return(function(n,i){if(!dT(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,i){const o=[];let l=0;for(const c of n){let f=Yu(c,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),l++}return{arrayValue:{values:o}}})(r,e)}return(function(n,i){if((n=Tr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return O3(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=qt.fromDate(n);return{timestampValue:rd(i.serializer,o)}}if(n instanceof qt){const o=new qt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:rd(i.serializer,o)}}if(n instanceof ls)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ci)return{bytesValue:PE(i.serializer,n._byteString)};if(n instanceof dr){const o=i.databaseId,l=n.firestore._databaseId;if(!l.isEqual(o))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Rm(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof cs)return(function(l,c){return{mapValue:{fields:{[oE]:{stringValue:aE},[Zh]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return Sm(c.serializer,h)}))}}}}}})(n,i);throw i.Sc(`Unsupported field value: ${Ld(n)}`)})(r,e)}function gT(r,e){const t={};return eE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qo(r,((n,i)=>{const o=Yu(i,e.mc(n));o!=null&&(t[n]=o)})),{mapValue:{fields:t}}}function mT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof qt||r instanceof ls||r instanceof ci||r instanceof dr||r instanceof Yd||r instanceof cs)}function Hm(r,e,t){if(!mT(t)||!Jw(t)){const n=Ld(t);throw n==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+n)}}function Ug(r,e,t){if((e=Tr(e))instanceof Xd)return e._internalPath;if(typeof e=="string")return Gm(r,e);throw od("Field path arguments must be of type string or ",r,!1,void 0,t)}const X6=new RegExp("[~\\*/\\[\\]]");function Gm(r,e,t){if(e.search(X6)>=0)throw od(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Xd(...e.split("."))._internalPath}catch{throw od(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function od(r,e,t,n,i){const o=n&&!n.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(o||l)&&(f+=" (found",o&&(f+=` in field ${n}`),l&&(f+=` in document ${i}`),f+=")"),new ze(ve.INVALID_ARGUMENT,c+r+f)}function xT(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,t,n,i,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Y6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Zd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Y6 extends yT{data(){return super.data()}}function Zd(r,e){return typeof e=="string"?Gm(r,e):e instanceof Xd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ze(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qm{}class vT extends qm{}function _T(r,e,...t){let n=[];e instanceof qm&&n.push(e),n=n.concat(t),(function(o){const l=o.filter((f=>f instanceof Km)).length,c=o.filter((f=>f instanceof e0)).length;if(l>1||l>0&&c>0)throw new ze(ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)r=i._apply(r);return r}class e0 extends vT{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new e0(e,t,n)}_apply(e){const t=this._parse(e);return ET(e._query,t),new qa(e.firestore,e.converter,bg(e._query,t))}_parse(e){const t=Qd(e.firestore);return(function(o,l,c,f,h,p,x){let y;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new ze(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){__(x,p);const S=[];for(const T of x)S.push(v_(f,o,T));y={arrayValue:{values:S}}}else y=v_(f,o,x)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||__(x,p),y=K6(c,l,x,p==="in"||p==="not-in");return vr.create(h,p,y)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function J6(r,e,t){const n=e,i=Zd("where",r);return e0._create(i,n,t)}class Km extends qm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Km(e,t)}_parse(e){const t=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return t.length===1?t[0]:Ui.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let l=i;const c=o.getFlattenedFilters();for(const f of c)ET(l,f),l=bg(l,f)})(e._query,t),new qa(e.firestore,e.converter,bg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Xm extends vT{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Xm(e,t)}_apply(e){const t=(function(i,o,l){if(i.startAt!==null)throw new ze(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ze(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ru(o,l)})(e._query,this._field,this._direction);return new qa(e.firestore,e.converter,(function(i,o){const l=i.explicitOrderBy.concat([o]);return new mc(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}}function wT(r,e="asc"){const t=e,n=Zd("orderBy",r);return Xm._create(n,t)}function v_(r,e,t){if(typeof(t=Tr(t))=="string"){if(t==="")throw new ze(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gE(e)&&t.indexOf("/")!==-1)throw new ze(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(Wt.fromString(t));if(!Je.isDocumentKey(n))throw new ze(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Lv(r,new Je(n))}if(t instanceof dr)return Lv(r,t._key);throw new ze(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ld(t)}.`)}function __(r,e){if(!Array.isArray(r)||r.length===0)throw new ze(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ET(r,e){const t=(function(i,o){for(const l of i)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(r.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ze(ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ze(ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Z6{convertValue(e,t="none"){switch(Wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw nt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Qo(e,((i,o)=>{n[i]=this.convertValue(o,t)})),n}convertVectorValue(e){const t=e.fields?.[Zh].arrayValue?.values?.map((n=>hr(n.doubleValue)));return new cs(t)}convertGeoPoint(e){return new ls(hr(e.latitude),hr(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Bd(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Au(e));default:return null}}convertTimestamp(e){const t=Uo(e);return new qt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Wt.fromString(e);Pt(ME(n),9688,{name:e});const i=new Iu(n.get(1),n.get(3)),o=new Je(n.popFirst(5));return i.isEqual(t)||zs(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}class su{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ka extends yT{constructor(e,t,n,i,o,l){super(e,t,n,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Zd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(ve.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ka._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ka._jsonSchemaVersion="firestore/documentSnapshot/1.0",ka._jsonSchema={type:wr("string",ka._jsonSchemaVersion),bundleSource:wr("string","DocumentSnapshot"),bundleName:wr("string"),bundle:wr("string")};class Vh extends ka{data(e={}){return super.data(e)}}class Kl{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new su(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Vh(this._firestore,this._userDataWriter,n.key,n,new su(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ze(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const f=new Vh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new su(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const f=new Vh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new su(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:eN(c.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(ve.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Kl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),n.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function eN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(r){r=Vi(r,dr);const e=Vi(r.firestore,Ka);return j6(zm(e),r._key).then((t=>rN(e,r,t)))}Kl._jsonSchemaVersion="firestore/querySnapshot/1.0",Kl._jsonSchema={type:wr("string",Kl._jsonSchemaVersion),bundleSource:wr("string","QuerySnapshot"),bundleName:wr("string"),bundle:wr("string")};class ST extends Z6{constructor(e){super(),this.firestore=e}convertBytes(e){return new ci(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dr(this.firestore,null,t)}}function oc(r){r=Vi(r,qa);const e=Vi(r.firestore,Ka),t=zm(e),n=new ST(e);return Q6(r._query),B6(t,r._query).then((i=>new Kl(e,n,r,i)))}function Nu(r,e,t){r=Vi(r,dr);const n=Vi(r.firestore,Ka),i=TT(r.converter,e,t);return t0(n,[pT(Qd(n),"setDoc",r._key,i,r.converter!==null,t).toMutation(r._key,ui.none())])}function Fa(r,e,t,...n){r=Vi(r,dr);const i=Vi(r.firestore,Ka),o=Qd(i);let l;return l=typeof(e=Tr(e))=="string"||e instanceof Xd?q6(o,"updateDoc",r._key,e,t,n):G6(o,"updateDoc",r._key,e),t0(i,[l.toMutation(r._key,ui.exists(!0))])}function Ym(r){return t0(Vi(r.firestore,Ka),[new Am(r._key,ui.none())])}function tN(r,e){const t=Vi(r.firestore,Ka),n=Ct(r),i=TT(r.converter,e);return t0(t,[pT(Qd(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,ui.exists(!1))]).then((()=>n))}function t0(r,e){return(function(n,i){const o=new Ls;return n.asyncQueue.enqueueAndForget((async()=>I6(await M6(n),i,o))),o.promise})(zm(r),e)}function rN(r,e,t){const n=t.docs.get(e._key),i=new ST(r);return new ka(r,i,e._key,n,new su(t.hasPendingWrites,t.fromCache),e.converter)}function ac(){return new $m("serverTimestamp")}(function(e,t=!0){(function(i){dc=i})($a),Bi(new fi("firestore",((n,{instanceIdentifier:i,options:o})=>{const l=n.getProvider("app").getImmediate(),c=new Ka(new Gb(n.getProvider("auth-internal")),new Xb(l,n.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ze(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Iu(h.options.projectId,p)})(l,i),l);return o={useFetchStreams:t,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),bn(Tv,Sv,e),bn(Tv,Sv,"esm2020")})();var nN="firebase",iN="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn(nN,iN,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="firebasestorage.googleapis.com",sN="storageBucket",oN=120*1e3,aN=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends di{constructor(e,t,n=0){super(tg(e),`Firebase Storage: ${t} (${tg(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ps.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return tg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var hs;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(hs||(hs={}));function tg(r){return"storage/"+r}function lN(){const r="An unknown error occurred, please check the error payload for server response.";return new ps(hs.UNKNOWN,r)}function cN(){return new ps(hs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uN(){return new ps(hs.CANCELED,"User canceled the upload/download.")}function fN(r){return new ps(hs.INVALID_URL,"Invalid URL '"+r+"'.")}function hN(r){return new ps(hs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function w_(r){return new ps(hs.INVALID_ARGUMENT,r)}function IT(){return new ps(hs.APP_DELETED,"The Firebase app was deleted.")}function dN(r){return new ps(hs.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Fi.makeFromUrl(e,t)}catch{return new Fi(e,"")}if(n.path==="")return n;throw hN(e)}static makeFromUrl(e,t){let n=null;const i="([A-Za-z0-9.\\-_]+)";function o(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+i+l,"i"),f={bucket:1,path:3};function h(Q){Q.path_=decodeURIComponent(Q.path)}const p="v[A-Za-z0-9_]+",x=t.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",w=new RegExp(`^https?://${x}/${p}/b/${i}/o${y}`,"i"),S={bucket:1,path:3},T=t===AT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,A="([^?#]*)",j=new RegExp(`^https?://${T}/${i}/${A}`,"i"),F=[{regex:c,indices:f,postModify:o},{regex:w,indices:S,postModify:h},{regex:j,indices:{bucket:1,path:2},postModify:h}];for(let Q=0;Q<F.length;Q++){const ne=F[Q],he=ne.regex.exec(e);if(he){const k=he[ne.indices.bucket];let R=he[ne.indices.path];R||(R=""),n=new Fi(k,R),ne.postModify(n);break}}if(n==null)throw fN(e);return n}}class pN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(r,e,t){let n=1,i=null,o=null,l=!1,c=0;function f(){return c===2}let h=!1;function p(...A){h||(h=!0,e.apply(null,A))}function x(A){i=setTimeout(()=>{i=null,r(w,f())},A)}function y(){o&&clearTimeout(o)}function w(A,...j){if(h){y();return}if(A){y(),p.call(null,A,...j);return}if(f()||l){y(),p.call(null,A,...j);return}n<64&&(n*=2);let F;c===1?(c=2,F=0):F=(n+Math.random())*1e3,x(F)}let S=!1;function T(A){S||(S=!0,y(),!h&&(i!==null?(A||(c=2),clearTimeout(i),x(0)):A||(c=1)))}return x(0),o=setTimeout(()=>{l=!0,T(!0)},t),T}function mN(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(r){return r!==void 0}function E_(r,e,t,n){if(n<e)throw w_(`Invalid value for '${r}'. Expected ${e} or greater.`);if(n>t)throw w_(`Invalid value for '${r}'. Expected ${t} or less.`)}function yN(r){const e=encodeURIComponent;let t="?";for(const n in r)if(r.hasOwnProperty(n)){const i=e(n)+"="+e(r[n]);t=t+i+"&"}return t=t.slice(0,-1),t}var ad;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(ad||(ad={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(r,e){const t=r>=500&&r<600,i=[408,429].indexOf(r)!==-1,o=e.indexOf(r)!==-1;return t||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,t,n,i,o,l,c,f,h,p,x,y=!0,w=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=f,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=x,this.retry=y,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,T)=>{this.resolve_=S,this.reject_=T,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new wh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const f=c.loaded,h=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,h)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===ad.NO_ERROR,f=o.getStatus();if(!c||vN(f,this.additionalRetryCodes_)&&this.retry){const p=o.getErrorCode()===ad.ABORT;n(!1,new wh(!1,null,p));return}const h=this.successCodes_.indexOf(f)!==-1;n(!0,new wh(h,o))})},t=(n,i)=>{const o=this.resolve_,l=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(c,c.getResponse());xN(f)?o(f):o()}catch(f){l(f)}else if(c!==null){const f=lN();f.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,f)):l(f)}else if(i.canceled){const f=this.appDelete_?IT():uN();l(f)}else{const f=cN();l(f)}};this.canceled_?t(!1,new wh(!1,null,!0)):this.backoffId_=gN(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&mN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wh{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function wN(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function EN(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function TN(r,e){e&&(r["X-Firebase-GMPID"]=e)}function SN(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function AN(r,e,t,n,i,o,l=!0,c=!1){const f=yN(r.urlParams),h=r.url+f,p=Object.assign({},r.headers);return TN(p,e),wN(p,t),EN(p,o),SN(p,n),new _N(h,r.method,p,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,i,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function CN(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,t){this._service=e,t instanceof Fi?this._location=t:this._location=Fi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ld(e,t)}get root(){const e=new Fi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return CN(this._location.path)}get storage(){return this._service}get parent(){const e=IN(this._location.path);if(e===null)return null;const t=new Fi(this._location.bucket,e);return new ld(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw dN(e)}}function T_(r,e){const t=e?.[sN];return t==null?null:Fi.makeFromBucketSpec(t,r)}function RN(r,e,t,n={}){r.host=`${e}:${t}`;const i=za(e);i&&(em(`https://${r.host}/b`),tm("Storage",!0)),r._isUsingEmulator=!0,r._protocol=i?"https":"http";const{mockUserToken:o}=n;o&&(r._overrideAuthToken=typeof o=="string"?o:ew(o,r.app.options.projectId))}class kN{constructor(e,t,n,i,o,l=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=AT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=oN,this._maxUploadRetryTime=aN,this._requests=new Set,i!=null?this._bucket=Fi.makeFromBucketSpec(i,this._host):this._bucket=T_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Fi.makeFromBucketSpec(this._url,e):this._bucket=T_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){E_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){E_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ld(this,e)}_makeRequest(e,t,n,i,o=!0){if(this._deleted)return new pN(IT());{const l=AN(e,this._appId,n,i,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,i).getPromise()}}const S_="@firebase/storage",A_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="storage";function bN(r=Nd(),e){r=Tr(r);const n=Yo(r,CT).getImmediate({identifier:e}),i=Q2("storage");return i&&PN(n,...i),n}function PN(r,e,t,n={}){RN(r,e,t,n)}function NN(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),i=r.getProvider("app-check-internal");return new kN(t,n,i,e,$a)}function DN(){Bi(new fi(CT,NN,"PUBLIC").setMultipleInstances(!0)),bn(S_,A_,""),bn(S_,A_,"esm2020")}DN();const RT="@firebase/installations",Qm="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=1e4,bT=`w:${Qm}`,PT="FIS_v2",ON="https://firebaseinstallations.googleapis.com/v1",FN=3600*1e3,LN="installations",MN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},La=new Wa(LN,MN,jN);function NT(r){return r instanceof di&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT({projectId:r}){return`${ON}/projects/${r}/installations`}function OT(r){return{token:r.token,requestStatus:2,expiresIn:VN(r.expiresIn),creationTime:Date.now()}}async function FT(r,e){const n=(await e.json()).error;return La.create("request-failed",{requestName:r,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function LT({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function BN(r,{refreshToken:e}){const t=LT(r);return t.append("Authorization",UN(e)),t}async function MT(r){const e=await r();return e.status>=500&&e.status<600?r():e}function VN(r){return Number(r.replace("s","000"))}function UN(r){return`${PT} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const n=DT(r),i=LT(r),o=e.getImmediate({optional:!0});if(o){const h=await o.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const l={fid:t,authVersion:PT,appId:r.appId,sdkVersion:bT},c={method:"POST",headers:i,body:JSON.stringify(l)},f=await MT(()=>fetch(n,c));if(f.ok){const h=await f.json();return{fid:h.fid||t,registrationStatus:2,refreshToken:h.refreshToken,authToken:OT(h.authToken)}}else throw await FT("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=/^[cdef][\w-]{21}$/,zg="";function HN(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=GN(r);return $N.test(t)?t:zg}catch{return zg}}function GN(r){return WN(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=new Map;function VT(r,e){const t=r0(r);UT(t,e),qN(t,e)}function UT(r,e){const t=BT.get(r);if(t)for(const n of t)n(e)}function qN(r,e){const t=KN();t&&t.postMessage({key:r,fid:e}),XN()}let Ra=null;function KN(){return!Ra&&"BroadcastChannel"in self&&(Ra=new BroadcastChannel("[Firebase] FID Change"),Ra.onmessage=r=>{UT(r.data.key,r.data.fid)}),Ra}function XN(){BT.size===0&&Ra&&(Ra.close(),Ra=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="firebase-installations-database",QN=1,Ma="firebase-installations-store";let rg=null;function Jm(){return rg||(rg=iw(YN,QN,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Ma)}}})),rg}async function cd(r,e){const t=r0(r),i=(await Jm()).transaction(Ma,"readwrite"),o=i.objectStore(Ma),l=await o.get(t);return await o.put(e,t),await i.done,(!l||l.fid!==e.fid)&&VT(r,e.fid),e}async function zT(r){const e=r0(r),n=(await Jm()).transaction(Ma,"readwrite");await n.objectStore(Ma).delete(e),await n.done}async function n0(r,e){const t=r0(r),i=(await Jm()).transaction(Ma,"readwrite"),o=i.objectStore(Ma),l=await o.get(t),c=e(l);return c===void 0?await o.delete(t):await o.put(c,t),await i.done,c&&(!l||l.fid!==c.fid)&&VT(r,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zm(r){let e;const t=await n0(r.appConfig,n=>{const i=JN(n),o=ZN(r,i);return e=o.registrationPromise,o.installationEntry});return t.fid===zg?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function JN(r){const e=r||{fid:HN(),registrationStatus:0};return WT(e)}function ZN(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(La.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=e5(r,t);return{installationEntry:t,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:t5(r)}:{installationEntry:e}}async function e5(r,e){try{const t=await zN(r,e);return cd(r.appConfig,t)}catch(t){throw NT(t)&&t.customData.serverCode===409?await zT(r.appConfig):await cd(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function t5(r){let e=await I_(r.appConfig);for(;e.registrationStatus===1;)await jT(100),e=await I_(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:n}=await Zm(r);return n||t}return e}function I_(r){return n0(r,e=>{if(!e)throw La.create("installation-not-found");return WT(e)})}function WT(r){return r5(r)?{fid:r.fid,registrationStatus:0}:r}function r5(r){return r.registrationStatus===1&&r.registrationTime+kT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n5({appConfig:r,heartbeatServiceProvider:e},t){const n=i5(r,t),i=BN(r,t),o=e.getImmediate({optional:!0});if(o){const h=await o.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const l={installation:{sdkVersion:bT,appId:r.appId}},c={method:"POST",headers:i,body:JSON.stringify(l)},f=await MT(()=>fetch(n,c));if(f.ok){const h=await f.json();return OT(h)}else throw await FT("Generate Auth Token",f)}function i5(r,{fid:e}){return`${DT(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e1(r,e=!1){let t;const n=await n0(r.appConfig,o=>{if(!$T(o))throw La.create("not-registered");const l=o.authToken;if(!e&&a5(l))return o;if(l.requestStatus===1)return t=s5(r,e),o;{if(!navigator.onLine)throw La.create("app-offline");const c=c5(o);return t=o5(r,c),c}});return t?await t:n.authToken}async function s5(r,e){let t=await C_(r.appConfig);for(;t.authToken.requestStatus===1;)await jT(100),t=await C_(r.appConfig);const n=t.authToken;return n.requestStatus===0?e1(r,e):n}function C_(r){return n0(r,e=>{if(!$T(e))throw La.create("not-registered");const t=e.authToken;return u5(t)?{...e,authToken:{requestStatus:0}}:e})}async function o5(r,e){try{const t=await n5(r,e),n={...e,authToken:t};return await cd(r.appConfig,n),t}catch(t){if(NT(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await zT(r.appConfig);else{const n={...e,authToken:{requestStatus:0}};await cd(r.appConfig,n)}throw t}}function $T(r){return r!==void 0&&r.registrationStatus===2}function a5(r){return r.requestStatus===2&&!l5(r)}function l5(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+FN}function c5(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function u5(r){return r.requestStatus===1&&r.requestTime+kT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f5(r){const e=r,{installationEntry:t,registrationPromise:n}=await Zm(e);return n?n.catch(console.error):e1(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h5(r,e=!1){const t=r;return await d5(t),(await e1(t,e)).token}async function d5(r){const{registrationPromise:e}=await Zm(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(r){if(!r||!r.options)throw ng("App Configuration");if(!r.name)throw ng("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw ng(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function ng(r){return La.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="installations",g5="installations-internal",m5=r=>{const e=r.getProvider("app").getImmediate(),t=p5(e),n=Yo(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},x5=r=>{const e=r.getProvider("app").getImmediate(),t=Yo(e,HT).getImmediate();return{getId:()=>f5(t),getToken:i=>h5(t,i)}};function y5(){Bi(new fi(HT,m5,"PUBLIC")),Bi(new fi(g5,x5,"PRIVATE"))}y5();bn(RT,Qm);bn(RT,Qm,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud="analytics",v5="firebase_id",_5="origin",w5=60*1e3,E5="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",t1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn=new Pd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Kn=new Wa("analytics","Analytics",T5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(r){if(!r.startsWith(t1)){const e=Kn.create("invalid-gtag-resource",{gtagURL:r});return Pn.warn(e.message),""}return r}function GT(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function A5(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function I5(r,e){const t=A5("firebase-js-sdk-policy",{createScriptURL:S5}),n=document.createElement("script"),i=`${t1}?l=${r}&id=${e}`;n.src=t?t?.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function C5(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function R5(r,e,t,n,i,o){const l=n[i];try{if(l)await e[l];else{const f=(await GT(t)).find(h=>h.measurementId===i);f&&await e[f.appId]}}catch(c){Pn.error(c)}r("config",i,o)}async function k5(r,e,t,n,i){try{let o=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const c=await GT(t);for(const f of l){const h=c.find(x=>x.measurementId===f),p=h&&e[h.appId];if(p)o.push(p);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),r("event",n,i||{})}catch(o){Pn.error(o)}}function b5(r,e,t,n){async function i(o,...l){try{if(o==="event"){const[c,f]=l;await k5(r,e,t,c,f)}else if(o==="config"){const[c,f]=l;await R5(r,e,t,n,c,f)}else if(o==="consent"){const[c,f]=l;r("consent",c,f)}else if(o==="get"){const[c,f,h]=l;r("get",c,f,h)}else if(o==="set"){const[c]=l;r("set",c)}else r(o,...l)}catch(c){Pn.error(c)}}return i}function P5(r,e,t,n,i){let o=function(...l){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=b5(o,r,e,t),{gtagCore:o,wrappedGtag:window[i]}}function N5(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(t1)&&t.src.includes(r))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=30,O5=1e3;class F5{constructor(e={},t=O5){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const qT=new F5;function L5(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function M5(r){const{appId:e,apiKey:t}=r,n={method:"GET",headers:L5(t)},i=E5.replace("{app-id}",e),o=await fetch(i,n);if(o.status!==200&&o.status!==304){let l="";try{const c=await o.json();c.error?.message&&(l=c.error.message)}catch{}throw Kn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function j5(r,e=qT,t){const{appId:n,apiKey:i,measurementId:o}=r.options;if(!n)throw Kn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:n};throw Kn.create("no-api-key")}const l=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new U5;return setTimeout(async()=>{c.abort()},w5),KT({appId:n,apiKey:i,measurementId:o},l,c,e)}async function KT(r,{throttleEndTimeMillis:e,backoffCount:t},n,i=qT){const{appId:o,measurementId:l}=r;try{await B5(n,e)}catch(c){if(l)return Pn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:l};throw c}try{const c=await M5(r);return i.deleteThrottleMetadata(o),c}catch(c){const f=c;if(!V5(f)){if(i.deleteThrottleMetadata(o),l)return Pn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:o,measurementId:l};throw c}const h=Number(f?.customData?.httpStatus)===503?Yy(t,i.intervalMillis,D5):Yy(t,i.intervalMillis),p={throttleEndTimeMillis:Date.now()+h,backoffCount:t+1};return i.setThrottleMetadata(o,p),Pn.debug(`Calling attemptFetch again in ${h} millis`),KT(r,p,n,i)}}function B5(r,e){return new Promise((t,n)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);r.addEventListener(()=>{clearTimeout(o),n(Kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function V5(r){if(!(r instanceof di)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class U5{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function z5(r,e,t,n,i){if(i&&i.global){r("event",t,n);return}else{const o=await e,l={...n,send_to:o};r("event",t,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W5(){if(nm())try{await im()}catch(r){return Pn.warn(Kn.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return Pn.warn(Kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function $5(r,e,t,n,i,o,l){const c=j5(r);c.then(y=>{t[y.measurementId]=y.appId,r.options.measurementId&&y.measurementId!==r.options.measurementId&&Pn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>Pn.error(y)),e.push(c);const f=W5().then(y=>{if(y)return n.getId()}),[h,p]=await Promise.all([c,f]);N5(o)||I5(o,h.measurementId),i("js",new Date);const x=l?.config??{};return x[_5]="firebase",x.update=!0,p!=null&&(x[v5]=p),i("config",h.measurementId,x),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e){this.app=e}_delete(){return delete du[this.app.options.appId],Promise.resolve()}}let du={},R_=[];const k_={};let ig="dataLayer",G5="gtag",b_,XT,P_=!1;function q5(){const r=[];if(rm()&&r.push("This is a browser extension environment."),tw()||r.push("Cookies are not available."),r.length>0){const e=r.map((n,i)=>`(${i+1}) ${n}`).join(" "),t=Kn.create("invalid-analytics-context",{errorInfo:e});Pn.warn(t.message)}}function K5(r,e,t){q5();const n=r.options.appId;if(!n)throw Kn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)Pn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Kn.create("no-api-key");if(du[n]!=null)throw Kn.create("already-exists",{id:n});if(!P_){C5(ig);const{wrappedGtag:o,gtagCore:l}=P5(du,R_,k_,ig,G5);XT=o,b_=l,P_=!0}return du[n]=$5(r,R_,k_,e,b_,ig,t),new H5(r)}function X5(r=Nd()){r=Tr(r);const e=Yo(r,ud);return e.isInitialized()?e.getImmediate():Y5(r)}function Y5(r,e={}){const t=Yo(r,ud);if(t.isInitialized()){const i=t.getImmediate();if(Bo(e,t.getOptions()))return i;throw Kn.create("already-initialized")}return t.initialize({options:e})}async function Q5(){if(rm()||!tw()||!nm())return!1;try{return await im()}catch{return!1}}function J5(r,e,t,n){r=Tr(r),z5(XT,du[r.app.options.appId],e,t,n).catch(i=>Pn.error(i))}const N_="@firebase/analytics",D_="0.10.18";function Z5(){Bi(new fi(ud,(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return K5(n,i,t)},"PUBLIC")),Bi(new fi("analytics-internal",r,"PRIVATE")),bn(N_,D_),bn(N_,D_,"esm2020");function r(e){try{const t=e.getProvider(ud).getImmediate();return{logEvent:(n,i,o)=>J5(t,n,i,o)}}catch(t){throw Kn.create("interop-component-reg-failed",{reason:t})}}}Z5();const eD={apiKey:"AIzaSyB8PR6m1CjfxX4JH4BEQXJcs2EjSnDssbE",authDomain:"cksc-merchandis.firebaseapp.com",projectId:"cksc-merchandis",storageBucket:"cksc-merchandis.firebasestorage.app",messagingSenderId:"294251224185",appId:"1:294251224185:web:5b1904f929e6ced3eb08a8",measurementId:"G-J8LM25YKVM"},i0=sw(eD),Xn=zb(i0),ut=U6(i0);bN(i0);Q5().then(r=>{r&&X5(i0)});var YT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},O_=Bt.createContext&&Bt.createContext(YT),tD=["attr","size","title"];function rD(r,e){if(r==null)return{};var t=nD(r,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function nD(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function fd(){return fd=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},fd.apply(this,arguments)}function F_(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function hd(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?F_(Object(t),!0).forEach(function(n){iD(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):F_(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function iD(r,e,t){return e=sD(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function sD(r){var e=oD(r,"string");return typeof e=="symbol"?e:e+""}function oD(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function QT(r){return r&&r.map((e,t)=>Bt.createElement(e.tag,hd({key:t},e.attr),QT(e.child)))}function r1(r){return e=>Bt.createElement(aD,fd({attr:hd({},r.attr)},e),QT(r.child))}function aD(r){var e=t=>{var{attr:n,size:i,title:o}=r,l=rD(r,tD),c=i||t.size||"1em",f;return t.className&&(f=t.className),r.className&&(f=(f?f+" ":"")+r.className),Bt.createElement("svg",fd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,l,{className:f,style:hd(hd({color:r.color||t.color},t.style),r.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&Bt.createElement("title",null,o),r.children)};return O_!==void 0?Bt.createElement(O_.Consumer,null,t=>e(t)):e(YT)}function lD(r){return r1({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 384h384v-42.666H64V384zm0-106.666h384v-42.667H64v42.667zM64 128v42.665h384V128H64z"},child:[]}]})(r)}function cD(r){return r1({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 6h-2c0-2.21-1.79-4-4-4S8 3.79 8 6H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-6-2c1.1 0 2 .9 2 2h-4c0-1.1.9-2 2-2zm6 16H6V8h2v2c0 .55.45 1 1 1s1-.45 1-1V8h4v2c0 .55.45 1 1 1s1-.45 1-1V8h2v12z"},child:[]}]})(r)}const JT=ie.createContext(),br=()=>ie.useContext(JT);function uD({children:r}){const[e,t]=ie.useState(""),[n,i]=ie.useState(!1),[o,l]=ie.useState(1),c=ie.useRef(null),f=ie.useRef(""),h=(p,x=3e3)=>{c.current&&clearTimeout(c.current),f.current===p&&n?l(y=>y+1):(t(p),l(1),f.current=p,i(!0)),c.current=setTimeout(()=>{i(!1),l(1),f.current=""},x)};return g.jsxs(JT.Provider,{value:{showToast:h},children:[r,n&&g.jsxs("div",{style:{position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0,0,0,0.8)",color:"#fff",padding:"10px 20px",borderRadius:"10px",zIndex:1e3,display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx("span",{children:e}),o>1&&g.jsx("span",{style:{backgroundColor:"rgba(255,255,255,0.2)",borderRadius:"20px",padding:"2px 6px",fontSize:"0.8em",minWidth:"20px",textAlign:"center"},children:o})]})]})}function fD(){const[r,e]=ie.useState(!1),[t,n]=ie.useState(!1),[i,o]=ie.useState(!1),l=Xt(),{showToast:c}=br(),f=()=>{const w=navigator.userAgent.toLowerCase();return w.includes("line/")||w.includes("liff/")},h=async w=>{try{const S=Ct(ut,"users",w.uid),T=await _r(S);return T.exists()?(T.data().role||await Nu(S,{role:"user",updatedAt:new Date().toISOString()},{merge:!0}),!1):(await Nu(S,{email:w.email,displayName:w.displayName||"",photoURL:w.photoURL||"",role:"user",status:"active",profileCompleted:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),!0)}catch(S){throw console.error("Error initializing user data:",S),S}},p=async w=>{try{const S=Ct(ut,"users",w.uid),T=await _r(S);return T.exists()?T.data().profileCompleted===!0:!1}catch(S){return console.error("Error checking user profile:",S),!1}},x=async w=>{try{const S=await h(w),T=await p(w);T?(c(""),l("/")):(c(""),l("/info")),S||!T?(c("Google "),l("/info")):(c(""),l("/"))}catch(S){console.error("Error handling auth success:",S),c("")}};ie.useEffect(()=>{o(f()),(async()=>{try{n(!0);const S=await ib(Xn);S&&S.user&&await x(S.user)}catch(S){console.error("Redirect result error:",S),S.code==="auth/account-exists-with-different-credential"?c(""):S.code==="auth/popup-closed-by-user"?c(""):c("Google ")}finally{n(!1)}})()},[]);const y=async()=>{if(!r){c("");return}const w=new Ds;w.setCustomParameters({prompt:"select_account"});try{if(n(!0),i)await rb(Xn,w);else{const S=await Yk(Xn,w);await x(S.user),n(!1)}}catch(S){console.error("Google Auth error:",S),S.code==="auth/popup-closed-by-user"?c("Google "):S.code==="auth/popup-blocked"?c(""):S.code==="auth/account-exists-with-different-credential"?c(""):S.code==="auth/cancelled-popup-request"?console.log("Popup request cancelled"):c("Google "),n(!1)}};return g.jsxs("div",{style:{minHeight:"100vh",display:"flex",justifyContent:"center",padding:"20px",alignItems:"flex-start"},children:[g.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"32px 24px",maxWidth:"380px",width:"100%",boxShadow:"0 8px 24px rgba(0,0,0,0.15)",textAlign:"center"},className:"auth-card",children:[g.jsx("h1",{style:{marginBottom:"16px",color:"#333",fontSize:"1.5rem"},children:"/"}),g.jsx("h2",{style:{marginBottom:"24px",color:"#666",fontSize:"1rem",fontWeight:"normal"},children:" Google "}),i&&g.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"#ffe7e7",border:"1px solid #ff0000",borderRadius:"8px",fontSize:"0.85rem",color:"#a10d0d",textAlign:"left",alignItems:"center",display:"flex",flexDirection:"column"},children:[g.jsx("strong",{children:" LINE "}),g.jsx("p",{style:{margin:"8px 0 0 0",lineHeight:"1.5"},children:"Line (Safari, Google...)"}),g.jsx("button",{onClick:()=>{window.open("souvenir.cksc.tw","_blank")},style:{display:"flex",marginTop:"8px",padding:"8px 12px",background:"#dd2476",color:"white",border:"none",borderRadius:"6px",fontSize:"0.85rem",cursor:"pointer"},children:""})]}),g.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"#ffe7e7",border:"1px solid #ff0000",borderRadius:"8px",fontSize:"0.85rem",color:"#a10d0d",textAlign:"left",alignItems:"center",display:"flex",flexDirection:"column"},children:[g.jsx("strong",{children:" CK APP, Instagram "}),g.jsx("p",{style:{margin:"8px 0 0 0",lineHeight:"1.5"},children:"CK APP  Instagram (Safari, Google...)"}),g.jsx("button",{onClick:()=>{window.open("souvenir.cksc.tw","_blank")},style:{display:"flex",marginTop:"8px",padding:"8px 12px",background:"#dd2476",color:"white",border:"none",borderRadius:"6px",fontSize:"0.85rem",cursor:"pointer"},children:""}),g.jsx("br",{}),"",g.jsx("button",{onClick:()=>{navigator.clipboard.writeText("souvenir.cksc.tw"),c("")},style:{display:"flex",marginTop:"8px",padding:"8px 12px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",fontSize:"0.85rem",cursor:"pointer"},children:""})]}),g.jsx("button",{type:"button",onClick:y,disabled:t,style:{...hD,opacity:t?.7:1,cursor:t?"not-allowed":"pointer"},children:t?g.jsxs(g.Fragment,{children:[g.jsx("div",{style:{width:"20px",height:"20px",border:"3px solid #f3f3f3",borderTop:"3px solid #3c4043",borderRadius:"50%",marginRight:"12px",animation:"spin 1s linear infinite"}}),"..."]}):g.jsxs(g.Fragment,{children:[g.jsxs("svg",{style:{width:"20px",height:"20px",marginRight:"12px"},viewBox:"0 0 48 48",children:[g.jsx("path",{d:"M45.12 24.5c0-1.56-.14-3.06-.4-4.5H24v8.51h11.84c-.51 2.75-2.06 5.08-4.39 6.64v5.52h7.11c4.16-3.83 6.56-9.47 6.56-16.17z",fill:"#4285F4"}),g.jsx("path",{d:"M24 46c5.94 0 10.92-1.97 14.56-5.33l-7.11-5.52c-1.97 1.32-4.49 2.1-7.45 2.1-5.73 0-10.58-3.87-12.31-9.07H4.34v5.7C7.96 41.07 15.4 46 24 46z",fill:"#34A853"}),g.jsx("path",{d:"M11.69 28.18C11.25 26.86 11 25.45 11 24s.25-2.86.69-4.18v-5.7H4.34C2.85 17.09 2 20.45 2 24c0 3.55.85 6.91 2.34 9.88l7.35-5.7z",fill:"#FBBC05"}),g.jsx("path",{d:"M24 10.75c3.23 0 6.13 1.11 8.41 3.29l6.31-6.31C34.91 4.18 29.93 2 24 2 15.4 2 7.96 6.93 4.34 14.12l7.35 5.7c1.73-5.2 6.58-9.07 12.31-9.07z",fill:"#EA4335"})]}),"Sign in with Google"]})}),g.jsxs("label",{style:{marginTop:"20px",fontSize:"0.9rem",color:"#555",textAlign:"center",display:"block",cursor:"pointer"},children:[g.jsx("input",{type:"checkbox",checked:r,onChange:()=>e(!r),style:{marginRight:"8px",cursor:"pointer"}})," ",g.jsx(lC,{to:"/terms",style:{color:"#667eea",fontWeight:"bold"},children:""})]})]}),g.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})}const hD={display:"flex",alignItems:"center",justifyContent:"center",padding:"14px 20px",borderRadius:"8px",border:"1px solid #dadce0",background:"white",color:"#3c4043",fontSize:"1rem",fontWeight:"500",cursor:"pointer",width:"100%",transition:"all 0.2s",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"};function dD(){const r=Xt(),{showToast:e}=br(),[t,n]=ie.useState([]),[i,o]=ie.useState(!0),[l,c]=ie.useState(""),[f,h]=ie.useState("all"),[p,x]=ie.useState(null),[y,w]=ie.useState(!1),S=Xn.currentUser,[T,A]=ie.useState(!1),[j,U]=ie.useState(!0);ie.useEffect(()=>{(async()=>{if(!S){A(!1),U(!1);return}try{const C=Ct(ut,"users",S.uid),D=await _r(C);if(D.exists()){const L=D.data();A(L.role==="admin")}else A(!1)}catch(C){console.error(":",C),A(!1)}finally{U(!1)}})()},[S]),ie.useEffect(()=>{T&&!j&&(async()=>{try{o(!0);const C=Oa(ut,"users"),L=(await oc(C)).docs.map(V=>{const O=V.data();return{id:V.id,...O,role:O.role||"user"}});n(L)}catch(C){console.error(":",C),e("")}finally{o(!1)}})()},[T,j]);const F=t.filter(R=>{const C=R.email?.toLowerCase().includes(l.toLowerCase())||R.name?.toLowerCase().includes(l.toLowerCase())||R.displayName?.toLowerCase().includes(l.toLowerCase()),D=f==="all"||R.role===f;return C&&D}),Q=async(R,C)=>{const D=t.find(V=>V.id===R);if(R===S.uid&&D.role==="admin"&&C!=="admin"){e("");return}if(t.filter(V=>V.role==="admin").length===1&&D.role==="admin"&&C!=="admin"){e("");return}try{const V=Ct(ut,"users",R);await Fa(V,{role:C,updatedAt:new Date().toISOString()}),n(t.map(Me=>Me.id===R?{...Me,role:C}:Me)),e(` ${{admin:"",manager:"",user:""}[C]}`),p&&p.id===R&&x({...p,role:C})}catch(V){console.error(":",V),e("")}},ne=async R=>{if(R===S.uid){e("");return}if(t.find(D=>D.id===R).role==="admin"){e("");return}if(window.confirm(""))try{await Ym(Ct(ut,"users",R)),n(t.filter(D=>D.id!==R)),w(!1),x(null),e("")}catch(D){console.error(":",D),e("")}},he=R=>{x(R),w(!0)},k=R=>{const C={admin:{label:"",color:"#1976d2",icon:""},manager:{label:"",color:"#f57c00",icon:""},user:{label:"",color:"#7b1fa2",icon:""}};return C[R]||C.user};return j?g.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:g.jsxs("div",{style:{textAlign:"center"},children:[g.jsx("div",{style:{fontSize:"3rem",marginBottom:"16px"},children:""}),g.jsx("p",{style:{color:"#666"},children:"..."})]})}):T?i?g.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:g.jsxs("div",{style:{textAlign:"center"},children:[g.jsx("div",{style:{fontSize:"3rem",marginBottom:"16px"},children:""}),g.jsx("p",{style:{color:"#666"},children:"..."})]})}):g.jsxs("div",{style:{minHeight:"100vh",padding:"40px 20px"},children:[g.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[g.jsxs("div",{style:{marginBottom:"30px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"16px"},children:[g.jsx("h1",{style:{color:"#333",margin:0},children:""}),g.jsx("button",{onClick:()=>r("/"),style:{padding:"10px 20px",background:"#fff",border:"2px solid #ddd",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:""})]}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"20px",marginBottom:"30px"},children:[g.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[g.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#4CAF50"},children:t.length}),g.jsx("div",{style:{color:"#666",marginTop:"8px"},children:""})]}),g.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[g.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#2196F3"},children:t.filter(R=>R.role==="admin").length}),g.jsx("div",{style:{color:"#666",marginTop:"8px"},children:" "})]}),g.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[g.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#FF9800"},children:t.filter(R=>R.role==="manager").length}),g.jsx("div",{style:{color:"#666",marginTop:"8px"},children:" "})]}),g.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[g.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#9C27B0"},children:t.filter(R=>R.role==="user"||!R.role).length}),g.jsx("div",{style:{color:"#666",marginTop:"8px"},children:" "})]})]}),g.jsx("div",{style:{background:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",marginBottom:"20px"},children:g.jsxs("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap"},children:[g.jsx("input",{type:"text",placeholder:" (Email )",value:l,onChange:R=>c(R.target.value),style:{flex:1,minWidth:"250px",padding:"12px 16px",border:"2px solid #ddd",borderRadius:"8px",fontSize:"1rem"}}),g.jsxs("select",{value:f,onChange:R=>h(R.target.value),style:{padding:"12px 16px",border:"2px solid #ddd",borderRadius:"8px",fontSize:"1rem",cursor:"pointer"},children:[g.jsx("option",{value:"all",children:""}),g.jsx("option",{value:"admin",children:" "}),g.jsx("option",{value:"manager",children:" "}),g.jsx("option",{value:"user",children:" "})]})]})}),g.jsxs("div",{style:{background:"white",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",overflow:"auto"},children:[g.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"1000px"},children:[g.jsx("thead",{children:g.jsxs("tr",{style:{background:"#f8f9fa",borderBottom:"2px solid #dee2e6"},children:[g.jsx("th",{style:{padding:"16px",textAlign:"left",fontWeight:"bold"},children:"Email"}),g.jsx("th",{style:{padding:"16px",textAlign:"left",fontWeight:"bold"},children:""}),g.jsx("th",{style:{padding:"16px",textAlign:"center",fontWeight:"bold"},children:""}),g.jsx("th",{style:{padding:"16px",textAlign:"center",fontWeight:"bold"},children:""}),g.jsx("th",{style:{padding:"16px",textAlign:"center",fontWeight:"bold"},children:""}),g.jsx("th",{style:{padding:"16px",textAlign:"center",fontWeight:"bold"},children:""})]})}),g.jsx("tbody",{children:F.map((R,C)=>{const D=k(R.role);return g.jsxs("tr",{style:{borderBottom:"1px solid #eee",background:C%2===0?"white":"#fafafa",transition:"background 0.2s"},onMouseEnter:L=>L.currentTarget.style.background="#f0f0f0",onMouseLeave:L=>L.currentTarget.style.background=C%2===0?"white":"#fafafa",children:[g.jsxs("td",{style:{padding:"16px",fontSize:"0.9rem"},children:[R.email,R.id===S.uid&&g.jsx("span",{style:{marginLeft:"8px",fontSize:"0.75rem",color:"#2196F3",fontWeight:"bold"},children:"()"})]}),g.jsx("td",{style:{padding:"16px"},children:R.name||R.displayName||""}),g.jsx("td",{style:{padding:"16px",textAlign:"center"},children:g.jsxs("span",{style:{fontSize:"0.85rem",fontWeight:"bold",color:D.color,display:"inline-flex",alignItems:"center",gap:"4px"},children:[D.icon," ",D.label]})}),g.jsx("td",{style:{padding:"16px",textAlign:"center"},children:g.jsx("span",{style:{fontSize:"0.85rem",fontWeight:"bold",color:D.color,display:"inline-flex",alignItems:"center",gap:"4px"},children:R.school})}),g.jsx("td",{style:{padding:"16px",textAlign:"center",color:"#666",fontSize:"0.9rem"},children:R.updatedAt?.toDate?R.updatedAt.toDate().toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):""}),g.jsx("td",{style:{padding:"16px",textAlign:"center"},children:g.jsx("button",{onClick:()=>he(R),style:{padding:"8px 16px",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",fontWeight:"bold"},children:""})})]},R.id)})})]}),F.length===0&&g.jsxs("div",{style:{padding:"60px 20px",textAlign:"center",color:"#999"},children:[g.jsx("div",{style:{fontSize:"3rem",marginBottom:"16px"},children:""}),g.jsx("div",{children:""})]})]})]}),y&&p&&g.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:g.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"32px",maxWidth:"500px",width:"100%",maxHeight:"90vh",overflow:"auto"},children:[g.jsx("h2",{style:{marginTop:0,marginBottom:"24px"},children:""}),g.jsxs("div",{style:{marginBottom:"24px"},children:[g.jsxs("div",{style:{marginBottom:"16px"},children:[g.jsx("strong",{children:"Email:"})," ",p.email,p.id===S.uid&&g.jsx("span",{style:{marginLeft:"8px",color:"#2196F3",fontWeight:"bold"},children:"()"})]}),g.jsxs("div",{style:{marginBottom:"16px"},children:[g.jsx("strong",{children:""})," ",p.name||p.displayName||""]}),g.jsxs("div",{style:{marginBottom:"16px"},children:[g.jsx("strong",{children:""})," ",p.classandnumber||""]}),g.jsxs("div",{style:{marginBottom:"16px"},children:[g.jsx("strong",{children:""})," ",p.phone||""]}),g.jsxs("div",{style:{marginBottom:"16px"},children:[g.jsx("strong",{children:""})," ",p.updatedAt?.toDate?p.updatedAt.toDate().toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):""]}),g.jsxs("div",{style:{marginBottom:"16px"},children:[g.jsx("strong",{children:""})," ",k(p.role).icon," ",k(p.role).label]}),g.jsxs("div",{style:{marginBottom:"16px"},children:[g.jsx("strong",{children:" ID"})," ",g.jsx("span",{style:{fontSize:"0.85rem",color:"#666"},children:p.id})]}),g.jsxs("div",{style:{marginBottom:"16px"},children:[g.jsx("strong",{children:""})," ",p.school||""]})]}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[g.jsxs("button",{onClick:()=>Q(p.id,"admin"),disabled:p.role==="admin",style:{padding:"12px",background:p.role==="admin"?"#ccc":"#2196F3",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:p.role==="admin"?"not-allowed":"pointer",fontSize:"1rem",opacity:p.role==="admin"?.5:1},children:[" ",p.role==="admin"?"":""]}),g.jsxs("button",{onClick:()=>Q(p.id,"manager"),disabled:p.role==="manager"||p.id===S.uid&&p.role==="admin",style:{padding:"12px",background:p.role==="manager"?"#ccc":"#FF9800",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:p.role==="manager"||p.id===S.uid&&p.role==="admin"?"not-allowed":"pointer",fontSize:"1rem",opacity:p.role==="manager"||p.id===S.uid&&p.role==="admin"?.5:1},children:[" ",p.role==="manager"?"":""]}),g.jsxs("button",{onClick:()=>Q(p.id,"user"),disabled:p.role==="user"||p.id===S.uid&&p.role==="admin",style:{padding:"12px",background:p.role==="user"?"#ccc":"#9C27B0",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:p.role==="user"||p.id===S.uid&&p.role==="admin"?"not-allowed":"pointer",fontSize:"1rem",opacity:p.role==="user"||p.id===S.uid&&p.role==="admin"?.5:1},children:[" ",p.role==="user"?"":""]}),g.jsx("button",{onClick:()=>ne(p.id),disabled:p.id===S.uid||p.role==="admin",style:{padding:"12px",background:"#d32f2f",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:p.id===S.uid||p.role==="admin"?"not-allowed":"pointer",fontSize:"1rem",opacity:p.id===S.uid||p.role==="admin"?.5:1},children:" "}),g.jsx("button",{onClick:()=>{w(!1),x(null)},style:{padding:"12px",background:"#fff",color:"#333",border:"2px solid #ddd",borderRadius:"8px",fontWeight:"bold",cursor:"pointer",fontSize:"1rem"},children:""})]})]})})]}):g.jsxs("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",padding:"20px"},children:[g.jsx("h2",{style:{color:"#d32f2f",marginBottom:"16px"},children:" "}),g.jsx("p",{style:{color:"#666",marginBottom:"24px"},children:""}),g.jsx("button",{onClick:()=>r("/"),style:{padding:"12px 28px",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer"},children:""})]})}const L_=[{id:1,textid:"1",no:1,name:"",price:700,orPrice:900,category:""},{id:21,textid:"2_1",no:2,name:"",price:300,orPrice:500,category:""},{id:22,textid:"2_2",no:2,name:"",price:300,orPrice:500,category:""},{id:23,textid:"2_3",no:2,name:"",price:300,orPrice:500,category:""},{id:3,textid:"3",no:3,name:"",price:200,orPrice:400,category:""},{id:41,textid:"4_1",no:4,name:"",price:650,orPrice:850,category:""},{id:42,textid:"4_2",no:4,name:"",price:650,orPrice:850,category:""},{id:5,textid:"5",no:5,name:"",price:200,orPrice:400,category:""},{id:6,textid:"6",no:6,name:"",price:750,orPrice:950,category:""},{id:71,textid:"7_1",no:7,name:"",price:50,orprice:50,category:""},{id:72,textid:"7_2",no:7,name:"CKHS",price:50,orprice:50,category:""},{id:8,textid:"8",no:8,name:"",price:50,orprice:50,category:""}],ZT=[{id:"combo1",name:"A",items:[2,5],originalPrice:750,comboPrice:400,showdiscount:350,discount:100},{id:"combo2",name:"B",items:[1,2,2,4],originalPrice:2750,comboPrice:1800,showdiscount:950,discount:150,note:""},{id:"combo3",name:"C",items:[1,2,2,3,4,5,6,8],originalPrice:4550,comboPrice:2800,showdiscount:1750,discount:350,note:""}],pD=[{size:"S",length:64,sleeve:51,chest:114,shoulder:50,productId:11},{size:"M",length:66,sleeve:53,chest:118,shoulder:52,productId:12},{size:"L",length:68,sleeve:55,chest:122,shoulder:54,productId:13},{size:"XL",length:70,sleeve:57,chest:126,shoulder:56,productId:14},{size:"2L",length:72,sleeve:59,chest:130,shoulder:58,productId:15}],gD=[{size:"S",length:65,sleeve:19,chest:49,shoulder:42,productId:21},{size:"M",length:69,sleeve:20,chest:52,shoulder:46,productId:22},{size:"L",length:73,sleeve:22,chest:55,shoulder:50,productId:23},{size:"XL",length:77,sleeve:24,chest:58,shoulder:54,productId:24},{size:"2L",length:81,sleeve:25,chest:63,shoulder:57,productId:25}],mD=[{size:"S",length:65,sleeve:19,chest:49,shoulder:42,productId:26},{size:"M",length:69,sleeve:20,chest:52,shoulder:46,productId:27},{size:"L",length:73,sleeve:22,chest:55,shoulder:50,productId:28},{size:"XL",length:77,sleeve:24,chest:58,shoulder:54,productId:29},{size:"2L",length:81,sleeve:25,chest:63,shoulder:57,productId:210}],xD=[{size:"S",length:65,sleeve:19,chest:49,shoulder:42,productId:211},{size:"M",length:69,sleeve:20,chest:52,shoulder:46,productId:212},{size:"L",length:73,sleeve:22,chest:55,shoulder:50,productId:213},{size:"XL",length:77,sleeve:24,chest:58,shoulder:54,productId:214},{size:"2L",length:81,sleeve:25,chest:63,shoulder:57,productId:215}],yD=[{size:"S",length:65,sleeve:52,chest:110,shoulder:56,productId:41},{size:"M",length:67,sleeve:53,chest:114,shoulder:58,productId:42},{size:"L",length:69,sleeve:54,chest:118,shoulder:60,productId:43},{size:"XL",length:71,sleeve:55,chest:122,shoulder:62,productId:44},{size:"2L",length:73,sleeve:56,chest:126,shoulder:64,productId:45}],vD=[{size:"S",length:65,sleeve:52,chest:110,shoulder:56,productId:46},{size:"M",length:67,sleeve:53,chest:114,shoulder:58,productId:47},{size:"L",length:69,sleeve:54,chest:118,shoulder:60,productId:48},{size:"XL",length:71,sleeve:55,chest:122,shoulder:62,productId:49},{size:"2L",length:73,sleeve:56,chest:126,shoulder:64,productId:410}],_D=[{id:11,no:1,name:"S",price:700,orPrice:900},{id:12,no:1,name:"M",price:700,orPrice:900},{id:13,no:1,name:"L",price:700,orPrice:900},{id:14,no:1,name:"XL",price:700,orPrice:900},{id:15,no:1,name:"XXL",price:700,orPrice:900}],wD=[{id:21,no:2,name:"-S",price:300,orPrice:500},{id:22,no:2,name:"-M",price:300,orPrice:500},{id:23,no:2,name:"-L",price:300,orPrice:500},{id:24,no:2,name:"-XL",price:300,orPrice:500},{id:25,no:2,name:"-2L",price:300,orPrice:500}],ED=[{id:26,no:2,name:"-S",price:300,orPrice:500},{id:27,no:2,name:"-M",price:300,orPrice:500},{id:28,no:2,name:"-L",price:300,orPrice:500},{id:29,no:2,name:"-XL",price:300,orPrice:500},{id:210,no:2,name:"-2L",price:300,orPrice:500}],TD=[{id:211,no:2,name:"-S",price:300,orPrice:500},{id:212,no:2,name:"-M",price:300,orPrice:500},{id:213,no:2,name:"-L",price:300,orPrice:500},{id:214,no:2,name:"-XL",price:300,orPrice:500},{id:215,no:2,name:"-2L",price:300,orPrice:500}],SD=[{id:41,no:4,name:"-S",price:650,orPrice:850},{id:42,no:4,name:"-M",price:650,orPrice:850},{id:43,no:4,name:"-L",price:650,orPrice:850},{id:44,no:4,name:"-XL",price:650,orPrice:850},{id:45,no:4,name:"-2L",price:650,orPrice:850}],AD=[{id:46,no:4,name:"-S",price:650,orPrice:850},{id:47,no:4,name:"-M",price:650,orPrice:850},{id:48,no:4,name:"-L",price:650,orPrice:850},{id:49,no:4,name:"-XL",price:650,orPrice:850},{id:410,no:4,name:"-2L",price:650,orPrice:850}];function M_(){const r=Xt(),[e]=ie.useState(new Set);return g.jsxs("div",{style:{padding:"20px"},children:[g.jsxs("div",{style:{marginBottom:"30px",padding:"25px",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderRadius:"20px",border:"1px solid rgba(255, 255, 255, 0.3)",color:"black",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2)"},children:[g.jsx("h2",{style:{margin:"0 0 15px 0",textAlign:"center"},children:" "}),g.jsx("p",{style:{textAlign:"center",marginBottom:"20px",color:"#0000009f"},children:""}),g.jsxs("p",{style:{textAlign:"center",marginBottom:"20px",background:"#ffe7e7ff",border:"1px solid #ff0000ff",display:"flex",flexWrap:"wrap",gap:"15px",justifyContent:"center",color:"#a10d0dff",padding:"15px",borderRadius:"10px",backdropFilter:"blur(10px)",minWidth:"200px"},children:["$1000 1 ",g.jsx("br",{}),"125"]}),g.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"15px",justifyContent:"center"},children:ZT.map(t=>g.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.73)",padding:"15px",borderRadius:"10px",backdropFilter:"blur(10px)",minWidth:"200px"},children:[g.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:t.name}),g.jsxs("div",{style:{fontSize:"0.9rem",opacity:.9},children:["",t.items.map(n=>L_.find(i=>i.no===n)?.category).join(" + "),t.note&&g.jsxs("div",{style:{marginTop:"5px",fontSize:"0.85rem",color:"#555"},children:["(",t.note,")"]})]}),g.jsxs("div",{style:{marginTop:"8px"},children:[g.jsxs("span",{style:{textDecoration:"line-through",opacity:.7},children:["$",t.originalPrice]}),g.jsxs("span",{style:{marginLeft:"10px",fontWeight:"bold",fontSize:"1.1rem"},children:["$",t.comboPrice]}),g.jsxs("span",{style:{marginLeft:"10px",color:"#ffc400ff"},children:["$",t.showdiscount]})]})]},t.id))})]}),g.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"20px",justifyContent:"center",paddingBottom:"40px"},children:L_.map(t=>{const n=e.has(t.no);return g.jsxs("div",{style:{width:"220px",padding:"16px",borderRadius:"12px",background:n?"linear-gradient(135deg, #4CAF50, #45a049)":"white",color:n?"white":"black",boxShadow:n?"0 8px 20px rgba(76,175,80,0.3)":"0 4px 12px rgba(0,0,0,0.1)",display:"flex",flexDirection:"column",alignItems:"center",transition:"all 0.3s",cursor:"pointer"},children:[g.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",marginBottom:"8px"},children:t.name}),g.jsxs("div",{style:{color:n?"#e8f5e8":"#555",marginBottom:"12px"},children:[t.orPrice&&t.orPrice!==50&&g.jsx("div",{style:{textDecoration:"line-through",opacity:.7},children:`$${t.orPrice}`}),g.jsx("div",{style:{textAlign:"center"},children:`$${t.price}`})]}),g.jsx("div",{style:{width:"200px",height:"200px",marginBottom:"24px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"12px",overflow:"hidden"},children:g.jsx("img",{src:`/images/product-${t.textid}.png`,alt:t.name,style:{width:"100%",height:"100%",objectFit:"cover"}})}),g.jsx("div",{style:{display:"flex",gap:"8px"},children:g.jsx("button",{style:{padding:"8px 16px",background:n?"rgba(255,255,255,0.2)":"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",border:n?"2px solid white":"none",borderRadius:"8px",fontWeight:"bold",fontSize:"0.9rem",cursor:"pointer",transition:"all 0.2s",minWidth:"70px"},onClick:()=>r(`/product/${t.textid}`),children:""})})]},t.id)})})]})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function ID(r,e,t,n){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(p){try{h(n.next(p))}catch(x){l(x)}}function f(p){try{h(n.throw(p))}catch(x){l(x)}}function h(p){p.done?o(p.value):i(p.value).then(c,f)}h((n=n.apply(r,[])).next())})}function CD(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(h){return function(p){return f([h,p])}}function f(h){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(o=h[0]&2?i.return:h[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,h[1])).done)return o;switch(i=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,i=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){t.label=h[1];break}if(h[0]===6&&t.label<o[1]){t.label=o[1],o=h;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(h);break}o[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(r,t)}catch(p){h=[6,p],i=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ul=function(){return Ul=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ul.apply(this,arguments)},eS=function(r){return{loading:r==null,value:r}},RD=function(){return function(r,e){switch(e.type){case"error":return Ul(Ul({},r),{error:e.error,loading:!1,value:void 0});case"reset":return eS(e.defaultValue);case"value":return Ul(Ul({},r),{error:void 0,loading:!1,value:e.value});default:return r}}},kD=(function(r){var e=r?r():void 0,t=ie.useReducer(RD(),eS(e)),n=t[0],i=t[1],o=ie.useCallback(function(){var f=r?r():void 0;i({type:"reset",defaultValue:f})},[r]),l=ie.useCallback(function(f){i({type:"error",error:f})},[]),c=ie.useCallback(function(f){i({type:"value",value:f})},[]);return ie.useMemo(function(){return{error:n.error,loading:n.loading,reset:o,setError:l,setValue:c,value:n.value}},[n.error,n.loading,o,l,c,n.value])}),Qu=(function(r,e){var t=kD(function(){return r.currentUser}),n=t.error,i=t.loading,o=t.setError,l=t.setValue,c=t.value;return ie.useEffect(function(){var f=Rw(r,function(h){return ID(void 0,void 0,void 0,function(){var p;return CD(this,function(x){switch(x.label){case 0:return[3,4];case 1:return x.trys.push([1,3,,4]),[4,e.onUserChanged(h)];case 2:return x.sent(),[3,4];case 3:return p=x.sent(),o(p),[3,4];case 4:return l(h),[2]}})})},o);return function(){f()}},[r]),[c,i,n]});const tS=ie.createContext();function bD({children:r}){const[e,t]=ie.useState([]),[n]=Qu(Xn),[i,o]=ie.useState(!1);ie.useEffect(()=>{(async()=>{if(!n||!n.uid){t([]),o(!1);return}const p=Ct(ut,"carts",n.uid),x=await _r(p);x.exists()?t(x.data().items||[]):t([]),o(!0)})()},[n]),ie.useEffect(()=>{if(!n||!n.uid||!i)return;const h=Ct(ut,"carts",n.uid);(async()=>{await Nu(h,{items:e})})()},[e,n,i]);const l=h=>{t(p=>p.find(y=>y.id===h.id)?p.map(y=>y.id===h.id?{...y,quantity:y.quantity+1}:y):[...p,{...h,quantity:1}])},c=h=>{t(p=>p.filter(x=>x.id!==h))},f=(h,p)=>{t(x=>x.map(y=>y.id===h?{...y,quantity:Math.max(y.quantity+p,0)}:y))};return g.jsx(tS.Provider,{value:{cartItems:e,addToCart:l,removeFromCart:c,updateQuantity:f,setCartItems:t},children:r})}const pi=()=>ie.useContext(tS);function j_(){const{cartItems:r,removeFromCart:e,updateQuantity:t,setCartItems:n}=pi(),[i]=Qu(Xn),[o,l]=ie.useState(!1),[c,f]=ie.useState(!1),[h,p]=ie.useState(null),[x,y]=ie.useState(!1),w=Xt(),{showToast:S}=br(),[T,A]=ie.useState("");ie.useEffect(()=>{if(!i)return;(async()=>{try{const K=await _r(Ct(ut,"users",i.uid));K.exists()?A(K.data().name||i.displayName||i.email):A(i.displayName||i.email)}catch{A(i.displayName||i.email)}})()},[i]);const j=async q=>{if(q){try{const K=Ct(ut,"users",q),Y=await _r(K);if(Y.exists()){const re=Y.data();return p(re),re}}catch(K){console.error(":",K)}return null}},U=async q=>{if(q)try{l(!0);const K=Ct(ut,"carts",q),Y=await _r(K);if(Y.exists()){const re=Y.data();re.items&&Array.isArray(re.items)&&n(re.items)}}catch(K){console.error(":",K),S("")}finally{l(!1)}},F=async(q,K)=>{if(!(!q||c))try{f(!0);const Y=Ct(ut,"carts",q);await Nu(Y,{items:K,updatedAt:ac()},{merge:!0})}catch(Y){console.error(":",Y)}finally{f(!1)}};ie.useEffect(()=>{i?.uid&&(U(i.uid),j(i.uid))},[i]),ie.useEffect(()=>{if(!i?.uid)return;const q=setTimeout(()=>{F(i.uid,r)},1e3);return()=>clearTimeout(q)},[r,i]);const Q=["ck11300333@gl.ck.tp.edu.tw","chris20090731@gmail.com","ck11300329@gl.ck.tp.edu.tw","ck11300569@gl.ck.tp.edu.tw","ck11300110@gl.ck.tp.edu.tw","ck11300044@gl.ck.tp.edu.tw","ck11300307@gl.ck.tp.edu.tw","ck11300554@gl.ck.tp.edu.tw","stud2@gl.ck.tp.edu.tw"],ne=i?.email&&Q.includes(i.email),he=()=>{const q={};r.forEach(re=>{re.no&&(q[re.no]=(q[re.no]||0)+re.quantity)});const K=[];if(ZT.forEach(re=>{const _e={};if(re.items.forEach(Te=>{_e[Te]=(_e[Te]||0)+1}),Object.entries(_e).every(([Te,me])=>q[parseInt(Te)]>=me)){const Te=Math.min(...Object.entries(_e).map(([me,Qe])=>Math.floor(q[parseInt(me)]/Qe)));K.push({...re,maxCount:Te,requiredQuantities:_e})}}),K.length===0)return{appliedCombos:[],remainingItems:q,totalDiscount:0};const Y=(re,_e)=>{let ke={totalDiscount:0,appliedCombos:[],remainingItems:_e};return re.forEach(Te=>{if(Object.entries(Te.requiredQuantities).every(([Qe,Ke])=>_e[parseInt(Qe)]>=Ke)){const Qe=Math.min(...Object.entries(Te.requiredQuantities).map(([Ke,dt])=>Math.floor(_e[parseInt(Ke)]/dt)));for(let Ke=Qe;Ke>=1;Ke--){const dt={..._e};Object.entries(Te.requiredQuantities).forEach(([mt,ft])=>{dt[parseInt(mt)]-=ft*Ke});const Ze=Te.discount*Ke,it=re.filter(mt=>mt.id!==Te.id),et=it.length>0?Y(it,dt):{totalDiscount:0,appliedCombos:[],remainingItems:dt},Ue=Ze+et.totalDiscount;Ue>ke.totalDiscount&&(ke={totalDiscount:Ue,appliedCombos:[{...Te,applicableCount:Ke},...et.appliedCombos],remainingItems:et.remainingItems})}}}),ke};return Y(K,q)},k=()=>{const q=r.reduce((ft,jt)=>ft+jt.price*jt.quantity,0),K=he(),Y=r.filter(ft=>ft.no===7||ft.no===8),re=Y.reduce((ft,jt)=>ft+jt.quantity,0),_e=K.appliedCombos.find(ft=>ft.id==="combo3"),ke=_e?_e.applicableCount:0,Te=re-ke,me=Te>0;if(ne&&x)return{originalTotal:q,finalTotal:0,totalDiscount:q,appliedCombos:[],prPackageApplied:!0,prPackageDiscount:q,qualifiesForGift:!1,giftDiscount:0,hasAvailableGift:!1,totalGiftQuantity:0,giftUsedInCombo:0,availableGiftCount:0,amountNeededForGift:0,reachedThreshold:!1};const Qe=q-K.totalDiscount;let Ke=0,dt=!1;if(me){const ft=Y[0];ft&&Qe-ft.price>=1e3&&(dt=!0,Ke=ft.price)}const Ze=Qe>=1e3,it=me?Math.max(0,1e3-(Qe-(Y[0]?.price||0))):Math.max(0,1e3-Qe),Ue=r.filter(ft=>ft.no!==7&&ft.no!==8).reduce((ft,jt)=>ft+jt.price*jt.quantity,0)-K.totalDiscount,mt=Qe-Ke;return{originalTotal:q,finalTotal:mt,totalDiscount:K.totalDiscount,appliedCombos:K.appliedCombos,remainingItems:K.remainingItems,prPackageApplied:!1,prPackageDiscount:0,qualifiesForGift:dt,giftDiscount:Ke,hasAvailableGift:me,totalGiftQuantity:re,giftUsedInCombo:ke,availableGiftCount:Te,amountNeededForGift:it,totalWithoutGiftAfterCombo:Ue,reachedThreshold:Ze}},{originalTotal:R,finalTotal:C,totalDiscount:D,appliedCombos:L,prPackageApplied:V,prPackageDiscount:O,qualifiesForGift:Me,giftDiscount:ee,hasAvailableGift:De,totalGiftQuantity:Ce,giftUsedInCombo:pe,availableGiftCount:Ee,reachedThreshold:Ae}=k(),J=(q,K)=>{if(r.find(_e=>_e.id===q).quantity+K<=0){e(q),S("");return}t(q,K)},N=async()=>{if(!i||!i.uid){S("");return}if(r.length===0){S("");return}try{const q=Oa(ut,"orders");let K=h||{};if(!K.name)try{const re=Ct(ut,"users",i.uid),_e=await _r(re);_e.exists()&&(K=_e.data())}catch{}const Y={userId:i.uid,items:r,originalTotal:R,finalTotal:C,totalDiscount:V?O:D+ee,appliedCombos:V?[{name:""}]:L.map(re=>({id:re.id,name:re.name,items:re.items,applicableCount:re.applicableCount,discountPerSet:re.discount,totalDiscount:re.discount*re.applicableCount})),prPackageUsed:V,prPackageDiscount:V?O:0,isAdminOrder:ne,qualifiesForGift:Me&&!V,giftDiscount:ee,hasAvailableGift:De,totalGiftQuantity:Ce,giftUsedInCombo:pe,availableGiftCount:Ee,createdAt:ac(),customerName:K.name||"",customerPhone:K.phone||"",customerEmail:i.email||K.email||"",school:K.school||"",classNumber:K.classandnumber||""};await tN(q,Y),n([]),await F(i.uid,[]),y(!1),S(""),w("/orders")}catch(q){console.error(":",q),S(""+q.message)}};return o?g.jsx("div",{style:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:g.jsxs("div",{style:{textAlign:"center"},children:[g.jsx("div",{style:{fontSize:"1.2rem",color:"#666",marginBottom:"10px"},children:"..."}),g.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #ff512f",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}})]})}):g.jsxs("div",{style:{minHeight:"100vh",padding:"40px 20px",display:"flex",justifyContent:"center",alignItems:"flex-start"},children:[g.jsxs("div",{style:{width:"100%",maxWidth:"800px",background:"white",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0,0,0,0.1)",padding:"30px"},children:[g.jsx("h1",{style:{color:"#333",margin:0,textAlign:"center"},children:""}),g.jsx("br",{}),g.jsx("div",{style:{display:"flex",alignItems:"center",marginBottom:"24px",justifyContent:"center"},children:g.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px",justifyContent:"center"},children:ne&&g.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",borderRadius:"12px",boxShadow:"0 2px 6px rgba(0,0,0,0.1)",marginBottom:0},children:[g.jsx("img",{src:i.photoURL||"https://via.placeholder.com/48?text=",alt:"User Avatar",style:{width:"48px",height:"48px",borderRadius:"50%",objectFit:"cover",border:"2px solid #ddd",display:"flex"}}),g.jsxs("p",{style:{margin:0,fontWeight:"bold",fontSize:"1rem",color:"#333"},children:["Admin-",T||""]})]})})}),!i&&g.jsx("div",{style:{background:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:"8px",padding:"12px",marginBottom:"20px",textAlign:"center"},children:g.jsx("span",{style:{color:"#856404"},children:""})}),ne&&r.length>0&&g.jsx("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",borderRadius:"12px",padding:"16px",marginBottom:"20px",color:"white"},children:g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[g.jsxs("div",{style:{flex:1},children:[g.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:""}),g.jsx("div",{style:{fontSize:"0.9rem",opacity:"0.9"},children:" - "})]}),g.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[g.jsx("input",{type:"checkbox",checked:x,onChange:q=>y(q.target.checked),style:{transform:"scale(1.2)"}}),g.jsx("span",{style:{fontWeight:"bold"},children:""})]})]})}),r.length===0?g.jsx("p",{style:{textAlign:"center",color:"#555"},children:""}):g.jsxs(g.Fragment,{children:[g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:r.map(q=>g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",borderRadius:"10px",border:"1px solid #e0e0e0",boxShadow:"0 2px 6px rgba(0,0,0,0.05)"},children:[g.jsxs("div",{style:{flex:1},children:[g.jsx("p",{style:{fontWeight:"bold",marginBottom:"4px"},children:q.name}),g.jsxs("p",{style:{color:"#888"},children:["NT$ ",q.price]})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx("button",{onClick:()=>J(q.id,-1),style:{...B_},children:"-"}),g.jsx("span",{style:{minWidth:"20px",textAlign:"center"},children:q.quantity}),g.jsx("button",{onClick:()=>J(q.id,1),style:B_,children:"+"})]}),"",g.jsx("button",{onClick:()=>e(q.id),style:PD,children:""})]},q.id))}),V&&g.jsxs("div",{style:{marginTop:"20px",padding:"16px",background:"linear-gradient(135deg, #667eea20 0%, #764ba220 100%)",borderRadius:"10px",border:"2px solid #667eea"},children:[g.jsx("div",{style:{color:"#667eea",fontWeight:"bold",fontSize:"1.1rem",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"},children:""}),g.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px"},children:g.jsx("span",{children:""})})]}),!V&&L.length>0&&g.jsxs("div",{style:{marginTop:"20px",padding:"16px",background:"#fff0f6",borderRadius:"10px",border:"1px solid #f9c2d3"},children:[g.jsx("div",{style:{color:"#d63384",fontWeight:"bold",fontSize:"1.1rem",marginBottom:"12px"},children:" "}),L.map(q=>g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px"},children:[g.jsxs("span",{children:[q.name," x ",q.applicableCount]}),g.jsxs("span",{children:["- NT$ ",q.discount*q.applicableCount]})]},q.id)),g.jsxs("div",{style:{textAlign:"right",marginTop:"8px",fontWeight:"bold"},children:[": NT$ ",D]}),pe>0&&g.jsxs("div",{style:{marginTop:"12px",padding:"8px",background:"#fff3cd",borderRadius:"6px",fontSize:"0.9rem"},children:[" C ",pe," "]})]}),!V&&g.jsxs("div",{style:{marginTop:"20px",padding:"16px",background:Me&&De?"linear-gradient(135deg, #ffd89b 0%, #19547b 100%)":Ae?"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)":"#fff8e1",borderRadius:"10px",border:Me&&De?"2px solid #f57c00":Ae?"2px solid #48c6ef":"1px solid #ffd54f",color:Me&&De?"white":"#333"},children:[g.jsx("div",{style:{fontWeight:"bold",fontSize:"1.1rem",marginBottom:"8px",display:"flex",alignItems:"center",gap:"8px"},children:" "}),g.jsx("div",{style:{fontSize:"0.95rem"},children:Me&&De?g.jsxs(g.Fragment,{children:[g.jsx("div",{style:{marginBottom:"4px"},children:" "}),g.jsxs("div",{children:[" NT$ 1000",g.jsx("strong",{children:"/  1 "})]}),g.jsxs("div",{style:{marginTop:"4px"},children:[" NT$ ",ee]})]}):Ae?g.jsxs(g.Fragment,{children:[g.jsx("div",{style:{marginBottom:"4px"},children:"  NT$ 1000"}),g.jsx("div",{style:{marginBottom:"4px"},children:" NT$ 1000"}),De?g.jsx("div",{style:{marginTop:"4px",fontSize:"0.9rem",opacity:.8},children:""}):pe>0?g.jsxs("div",{style:{marginTop:"4px",fontSize:"0.9rem",opacity:.8},children:[" C ",pe," /"]}):g.jsx("div",{style:{marginTop:"4px",fontSize:"0.85rem",opacity:.8},children:"/"})]}):g.jsx(g.Fragment,{children:g.jsxs("div",{children:[" NT$ 1000 ",g.jsx("strong",{children:"/  1 "})]})})})]}),g.jsx("div",{style:{marginTop:"24px",padding:"20px",background:"#f8f9fa",borderRadius:"10px",border:"1px solid #e9ecef"},children:D>0||V||ee>0?g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[g.jsx("span",{style:{color:"#6c757d",textDecoration:"line-through"},children:""}),g.jsxs("span",{style:{color:"#6c757d"},children:["NT$ ",R]})]}),D>0&&!V&&g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[g.jsx("span",{style:{color:"#28a745"},children:""}),g.jsxs("span",{style:{color:"#28a745",fontWeight:"bold"},children:["- NT$ ",D]})]}),ee>0&&!V&&g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[g.jsx("span",{style:{color:"#ff9800"},children:""}),g.jsxs("span",{style:{color:"#ff9800",fontWeight:"bold"},children:["- NT$ ",ee]})]}),V&&g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[g.jsx("span",{style:{color:"#667eea"},children:""}),g.jsxs("span",{style:{color:"#667eea",fontWeight:"bold"},children:["- NT$ ",O]})]}),g.jsx("hr",{style:{borderTop:"1px solid #dee2e6",margin:"12px 0"}}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[g.jsx("strong",{style:{fontSize:"1.2rem",color:"#333"},children:""}),g.jsxs("strong",{style:{fontSize:"1.3rem",color:V?"#667eea":"#ff512f"},children:["NT$ ",C]})]}),g.jsx("div",{style:{textAlign:"right",color:V?"#667eea":"#28a745",fontSize:"0.9rem",marginTop:"4px"},children:V?" - ":` NT$ ${D+ee}`})]}):g.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[g.jsx("strong",{style:{fontSize:"1.2rem",color:"#333"},children:""}),g.jsxs("strong",{style:{fontSize:"1.3rem",color:"#333"},children:["NT$ ",C]})]})}),g.jsx("button",{style:{...V_,marginTop:"30px",width:"100%",fontSize:"1.1rem",padding:"15px 20px",background:V?"linear-gradient(90deg, #667eea 0%, #764ba2 100%)":"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)"},onClick:N,disabled:!i,children:V?"":D>0||ee>0?` ( NT$ ${D+ee})`:""})]}),g.jsx("button",{onClick:()=>w("/"),style:{...V_,marginTop:"15px",width:"100%",background:"linear-gradient(90deg, #667eea 0%, #764ba2 100%)"},children:""})]}),g.jsx("style",{jsx:!0,children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})}const B_={padding:"6px 12px",borderRadius:"6px",border:"none",background:"linear-gradient(90deg, #667eea 0%, #764ba2 100%)",color:"white",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s"},PD={padding:"6px 12px",borderRadius:"6px",border:"none",background:"rgba(255, 107, 107, 1)",color:"white",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s"},V_={padding:"10px 20px",borderRadius:"8px",border:"none",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 12px rgba(221,36,118,0.25)",transition:"all 0.2s"};var ND=Object.defineProperty,dd=Object.getOwnPropertySymbols,rS=Object.prototype.hasOwnProperty,nS=Object.prototype.propertyIsEnumerable,U_=(r,e,t)=>e in r?ND(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Wg=(r,e)=>{for(var t in e||(e={}))rS.call(e,t)&&U_(r,t,e[t]);if(dd)for(var t of dd(e))nS.call(e,t)&&U_(r,t,e[t]);return r},$g=(r,e)=>{var t={};for(var n in r)rS.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&dd)for(var n of dd(r))e.indexOf(n)<0&&nS.call(r,n)&&(t[n]=r[n]);return t};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var ja;(r=>{const e=class gt{constructor(f,h,p,x){if(this.version=f,this.errorCorrectionLevel=h,this.modules=[],this.isFunction=[],f<gt.MIN_VERSION||f>gt.MAX_VERSION)throw new RangeError("Version value out of range");if(x<-1||x>7)throw new RangeError("Mask value out of range");this.size=f*4+17;let y=[];for(let S=0;S<this.size;S++)y.push(!1);for(let S=0;S<this.size;S++)this.modules.push(y.slice()),this.isFunction.push(y.slice());this.drawFunctionPatterns();const w=this.addEccAndInterleave(p);if(this.drawCodewords(w),x==-1){let S=1e9;for(let T=0;T<8;T++){this.applyMask(T),this.drawFormatBits(T);const A=this.getPenaltyScore();A<S&&(x=T,S=A),this.applyMask(T)}}i(0<=x&&x<=7),this.mask=x,this.applyMask(x),this.drawFormatBits(x),this.isFunction=[]}static encodeText(f,h){const p=r.QrSegment.makeSegments(f);return gt.encodeSegments(p,h)}static encodeBinary(f,h){const p=r.QrSegment.makeBytes(f);return gt.encodeSegments([p],h)}static encodeSegments(f,h,p=1,x=40,y=-1,w=!0){if(!(gt.MIN_VERSION<=p&&p<=x&&x<=gt.MAX_VERSION)||y<-1||y>7)throw new RangeError("Invalid value");let S,T;for(S=p;;S++){const F=gt.getNumDataCodewords(S,h)*8,Q=l.getTotalBits(f,S);if(Q<=F){T=Q;break}if(S>=x)throw new RangeError("Data too long")}for(const F of[gt.Ecc.MEDIUM,gt.Ecc.QUARTILE,gt.Ecc.HIGH])w&&T<=gt.getNumDataCodewords(S,F)*8&&(h=F);let A=[];for(const F of f){t(F.mode.modeBits,4,A),t(F.numChars,F.mode.numCharCountBits(S),A);for(const Q of F.getData())A.push(Q)}i(A.length==T);const j=gt.getNumDataCodewords(S,h)*8;i(A.length<=j),t(0,Math.min(4,j-A.length),A),t(0,(8-A.length%8)%8,A),i(A.length%8==0);for(let F=236;A.length<j;F^=253)t(F,8,A);let U=[];for(;U.length*8<A.length;)U.push(0);return A.forEach((F,Q)=>U[Q>>>3]|=F<<7-(Q&7)),new gt(S,h,U,y)}getModule(f,h){return 0<=f&&f<this.size&&0<=h&&h<this.size&&this.modules[h][f]}getModules(){return this.modules}drawFunctionPatterns(){for(let p=0;p<this.size;p++)this.setFunctionModule(6,p,p%2==0),this.setFunctionModule(p,6,p%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const f=this.getAlignmentPatternPositions(),h=f.length;for(let p=0;p<h;p++)for(let x=0;x<h;x++)p==0&&x==0||p==0&&x==h-1||p==h-1&&x==0||this.drawAlignmentPattern(f[p],f[x]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(f){const h=this.errorCorrectionLevel.formatBits<<3|f;let p=h;for(let y=0;y<10;y++)p=p<<1^(p>>>9)*1335;const x=(h<<10|p)^21522;i(x>>>15==0);for(let y=0;y<=5;y++)this.setFunctionModule(8,y,n(x,y));this.setFunctionModule(8,7,n(x,6)),this.setFunctionModule(8,8,n(x,7)),this.setFunctionModule(7,8,n(x,8));for(let y=9;y<15;y++)this.setFunctionModule(14-y,8,n(x,y));for(let y=0;y<8;y++)this.setFunctionModule(this.size-1-y,8,n(x,y));for(let y=8;y<15;y++)this.setFunctionModule(8,this.size-15+y,n(x,y));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let f=this.version;for(let p=0;p<12;p++)f=f<<1^(f>>>11)*7973;const h=this.version<<12|f;i(h>>>18==0);for(let p=0;p<18;p++){const x=n(h,p),y=this.size-11+p%3,w=Math.floor(p/3);this.setFunctionModule(y,w,x),this.setFunctionModule(w,y,x)}}drawFinderPattern(f,h){for(let p=-4;p<=4;p++)for(let x=-4;x<=4;x++){const y=Math.max(Math.abs(x),Math.abs(p)),w=f+x,S=h+p;0<=w&&w<this.size&&0<=S&&S<this.size&&this.setFunctionModule(w,S,y!=2&&y!=4)}}drawAlignmentPattern(f,h){for(let p=-2;p<=2;p++)for(let x=-2;x<=2;x++)this.setFunctionModule(f+x,h+p,Math.max(Math.abs(x),Math.abs(p))!=1)}setFunctionModule(f,h,p){this.modules[h][f]=p,this.isFunction[h][f]=!0}addEccAndInterleave(f){const h=this.version,p=this.errorCorrectionLevel;if(f.length!=gt.getNumDataCodewords(h,p))throw new RangeError("Invalid argument");const x=gt.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][h],y=gt.ECC_CODEWORDS_PER_BLOCK[p.ordinal][h],w=Math.floor(gt.getNumRawDataModules(h)/8),S=x-w%x,T=Math.floor(w/x);let A=[];const j=gt.reedSolomonComputeDivisor(y);for(let F=0,Q=0;F<x;F++){let ne=f.slice(Q,Q+T-y+(F<S?0:1));Q+=ne.length;const he=gt.reedSolomonComputeRemainder(ne,j);F<S&&ne.push(0),A.push(ne.concat(he))}let U=[];for(let F=0;F<A[0].length;F++)A.forEach((Q,ne)=>{(F!=T-y||ne>=S)&&U.push(Q[F])});return i(U.length==w),U}drawCodewords(f){if(f.length!=Math.floor(gt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let h=0;for(let p=this.size-1;p>=1;p-=2){p==6&&(p=5);for(let x=0;x<this.size;x++)for(let y=0;y<2;y++){const w=p-y,T=(p+1&2)==0?this.size-1-x:x;!this.isFunction[T][w]&&h<f.length*8&&(this.modules[T][w]=n(f[h>>>3],7-(h&7)),h++)}}i(h==f.length*8)}applyMask(f){if(f<0||f>7)throw new RangeError("Mask value out of range");for(let h=0;h<this.size;h++)for(let p=0;p<this.size;p++){let x;switch(f){case 0:x=(p+h)%2==0;break;case 1:x=h%2==0;break;case 2:x=p%3==0;break;case 3:x=(p+h)%3==0;break;case 4:x=(Math.floor(p/3)+Math.floor(h/2))%2==0;break;case 5:x=p*h%2+p*h%3==0;break;case 6:x=(p*h%2+p*h%3)%2==0;break;case 7:x=((p+h)%2+p*h%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[h][p]&&x&&(this.modules[h][p]=!this.modules[h][p])}}getPenaltyScore(){let f=0;for(let y=0;y<this.size;y++){let w=!1,S=0,T=[0,0,0,0,0,0,0];for(let A=0;A<this.size;A++)this.modules[y][A]==w?(S++,S==5?f+=gt.PENALTY_N1:S>5&&f++):(this.finderPenaltyAddHistory(S,T),w||(f+=this.finderPenaltyCountPatterns(T)*gt.PENALTY_N3),w=this.modules[y][A],S=1);f+=this.finderPenaltyTerminateAndCount(w,S,T)*gt.PENALTY_N3}for(let y=0;y<this.size;y++){let w=!1,S=0,T=[0,0,0,0,0,0,0];for(let A=0;A<this.size;A++)this.modules[A][y]==w?(S++,S==5?f+=gt.PENALTY_N1:S>5&&f++):(this.finderPenaltyAddHistory(S,T),w||(f+=this.finderPenaltyCountPatterns(T)*gt.PENALTY_N3),w=this.modules[A][y],S=1);f+=this.finderPenaltyTerminateAndCount(w,S,T)*gt.PENALTY_N3}for(let y=0;y<this.size-1;y++)for(let w=0;w<this.size-1;w++){const S=this.modules[y][w];S==this.modules[y][w+1]&&S==this.modules[y+1][w]&&S==this.modules[y+1][w+1]&&(f+=gt.PENALTY_N2)}let h=0;for(const y of this.modules)h=y.reduce((w,S)=>w+(S?1:0),h);const p=this.size*this.size,x=Math.ceil(Math.abs(h*20-p*10)/p)-1;return i(0<=x&&x<=9),f+=x*gt.PENALTY_N4,i(0<=f&&f<=2568888),f}getAlignmentPatternPositions(){if(this.version==1)return[];{const f=Math.floor(this.version/7)+2,h=this.version==32?26:Math.ceil((this.version*4+4)/(f*2-2))*2;let p=[6];for(let x=this.size-7;p.length<f;x-=h)p.splice(1,0,x);return p}}static getNumRawDataModules(f){if(f<gt.MIN_VERSION||f>gt.MAX_VERSION)throw new RangeError("Version number out of range");let h=(16*f+128)*f+64;if(f>=2){const p=Math.floor(f/7)+2;h-=(25*p-10)*p-55,f>=7&&(h-=36)}return i(208<=h&&h<=29648),h}static getNumDataCodewords(f,h){return Math.floor(gt.getNumRawDataModules(f)/8)-gt.ECC_CODEWORDS_PER_BLOCK[h.ordinal][f]*gt.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][f]}static reedSolomonComputeDivisor(f){if(f<1||f>255)throw new RangeError("Degree out of range");let h=[];for(let x=0;x<f-1;x++)h.push(0);h.push(1);let p=1;for(let x=0;x<f;x++){for(let y=0;y<h.length;y++)h[y]=gt.reedSolomonMultiply(h[y],p),y+1<h.length&&(h[y]^=h[y+1]);p=gt.reedSolomonMultiply(p,2)}return h}static reedSolomonComputeRemainder(f,h){let p=h.map(x=>0);for(const x of f){const y=x^p.shift();p.push(0),h.forEach((w,S)=>p[S]^=gt.reedSolomonMultiply(w,y))}return p}static reedSolomonMultiply(f,h){if(f>>>8||h>>>8)throw new RangeError("Byte out of range");let p=0;for(let x=7;x>=0;x--)p=p<<1^(p>>>7)*285,p^=(h>>>x&1)*f;return i(p>>>8==0),p}finderPenaltyCountPatterns(f){const h=f[1];i(h<=this.size*3);const p=h>0&&f[2]==h&&f[3]==h*3&&f[4]==h&&f[5]==h;return(p&&f[0]>=h*4&&f[6]>=h?1:0)+(p&&f[6]>=h*4&&f[0]>=h?1:0)}finderPenaltyTerminateAndCount(f,h,p){return f&&(this.finderPenaltyAddHistory(h,p),h=0),h+=this.size,this.finderPenaltyAddHistory(h,p),this.finderPenaltyCountPatterns(p)}finderPenaltyAddHistory(f,h){h[0]==0&&(f+=this.size),h.pop(),h.unshift(f)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],r.QrCode=e;function t(c,f,h){if(f<0||f>31||c>>>f)throw new RangeError("Value out of range");for(let p=f-1;p>=0;p--)h.push(c>>>p&1)}function n(c,f){return(c>>>f&1)!=0}function i(c){if(!c)throw new Error("Assertion error")}const o=class or{constructor(f,h,p){if(this.mode=f,this.numChars=h,this.bitData=p,h<0)throw new RangeError("Invalid argument");this.bitData=p.slice()}static makeBytes(f){let h=[];for(const p of f)t(p,8,h);return new or(or.Mode.BYTE,f.length,h)}static makeNumeric(f){if(!or.isNumeric(f))throw new RangeError("String contains non-numeric characters");let h=[];for(let p=0;p<f.length;){const x=Math.min(f.length-p,3);t(parseInt(f.substring(p,p+x),10),x*3+1,h),p+=x}return new or(or.Mode.NUMERIC,f.length,h)}static makeAlphanumeric(f){if(!or.isAlphanumeric(f))throw new RangeError("String contains unencodable characters in alphanumeric mode");let h=[],p;for(p=0;p+2<=f.length;p+=2){let x=or.ALPHANUMERIC_CHARSET.indexOf(f.charAt(p))*45;x+=or.ALPHANUMERIC_CHARSET.indexOf(f.charAt(p+1)),t(x,11,h)}return p<f.length&&t(or.ALPHANUMERIC_CHARSET.indexOf(f.charAt(p)),6,h),new or(or.Mode.ALPHANUMERIC,f.length,h)}static makeSegments(f){return f==""?[]:or.isNumeric(f)?[or.makeNumeric(f)]:or.isAlphanumeric(f)?[or.makeAlphanumeric(f)]:[or.makeBytes(or.toUtf8ByteArray(f))]}static makeEci(f){let h=[];if(f<0)throw new RangeError("ECI assignment value out of range");if(f<128)t(f,8,h);else if(f<16384)t(2,2,h),t(f,14,h);else if(f<1e6)t(6,3,h),t(f,21,h);else throw new RangeError("ECI assignment value out of range");return new or(or.Mode.ECI,0,h)}static isNumeric(f){return or.NUMERIC_REGEX.test(f)}static isAlphanumeric(f){return or.ALPHANUMERIC_REGEX.test(f)}getData(){return this.bitData.slice()}static getTotalBits(f,h){let p=0;for(const x of f){const y=x.mode.numCharCountBits(h);if(x.numChars>=1<<y)return 1/0;p+=4+y+x.bitData.length}return p}static toUtf8ByteArray(f){f=encodeURI(f);let h=[];for(let p=0;p<f.length;p++)f.charAt(p)!="%"?h.push(f.charCodeAt(p)):(h.push(parseInt(f.substring(p+1,p+3),16)),p+=2);return h}};o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let l=o;r.QrSegment=o})(ja||(ja={}));(r=>{(e=>{const t=class{constructor(i,o){this.ordinal=i,this.formatBits=o}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),e.Ecc=t})(r.QrCode||(r.QrCode={}))})(ja||(ja={}));(r=>{(e=>{const t=class{constructor(i,o){this.modeBits=i,this.numBitsCharCount=o}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),e.Mode=t})(r.QrSegment||(r.QrSegment={}))})(ja||(ja={}));var zl=ja;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var DD={L:zl.QrCode.Ecc.LOW,M:zl.QrCode.Ecc.MEDIUM,Q:zl.QrCode.Ecc.QUARTILE,H:zl.QrCode.Ecc.HIGH},iS=128,sS="L",oS="#FFFFFF",aS="#000000",lS=!1,cS=1,OD=4,FD=0,LD=.1;function uS(r,e=0){const t=[];return r.forEach(function(n,i){let o=null;n.forEach(function(l,c){if(!l&&o!==null){t.push(`M${o+e} ${i+e}h${c-o}v1H${o+e}z`),o=null;return}if(c===n.length-1){if(!l)return;o===null?t.push(`M${c+e},${i+e} h1v1H${c+e}z`):t.push(`M${o+e},${i+e} h${c+1-o}v1H${o+e}z`);return}l&&o===null&&(o=c)})}),t.join("")}function fS(r,e){return r.slice().map((t,n)=>n<e.y||n>=e.y+e.h?t:t.map((i,o)=>o<e.x||o>=e.x+e.w?i:!1))}function MD(r,e,t,n){if(n==null)return null;const i=r.length+t*2,o=Math.floor(e*LD),l=i/e,c=(n.width||o)*l,f=(n.height||o)*l,h=n.x==null?r.length/2-c/2:n.x*l,p=n.y==null?r.length/2-f/2:n.y*l,x=n.opacity==null?1:n.opacity;let y=null;if(n.excavate){let S=Math.floor(h),T=Math.floor(p),A=Math.ceil(c+h-S),j=Math.ceil(f+p-T);y={x:S,y:T,w:A,h:j}}const w=n.crossOrigin;return{x:h,y:p,h:f,w:c,excavation:y,opacity:x,crossOrigin:w}}function jD(r,e){return e!=null?Math.max(Math.floor(e),0):r?OD:FD}function hS({value:r,level:e,minVersion:t,includeMargin:n,marginSize:i,imageSettings:o,size:l,boostLevel:c}){let f=Bt.useMemo(()=>{const S=(Array.isArray(r)?r:[r]).reduce((T,A)=>(T.push(...zl.QrSegment.makeSegments(A)),T),[]);return zl.QrCode.encodeSegments(S,DD[e],t,void 0,void 0,c)},[r,e,t,c]);const{cells:h,margin:p,numCells:x,calculatedImageSettings:y}=Bt.useMemo(()=>{let w=f.getModules();const S=jD(n,i),T=w.length+S*2,A=MD(w,l,S,o);return{cells:w,margin:S,numCells:T,calculatedImageSettings:A}},[f,l,o,n,i]);return{qrcode:f,margin:p,cells:h,numCells:x,calculatedImageSettings:y}}var BD=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),dS=Bt.forwardRef(function(e,t){const n=e,{value:i,size:o=iS,level:l=sS,bgColor:c=oS,fgColor:f=aS,includeMargin:h=lS,minVersion:p=cS,boostLevel:x,marginSize:y,imageSettings:w}=n,T=$g(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:A}=T,j=$g(T,["style"]),U=w?.src,F=Bt.useRef(null),Q=Bt.useRef(null),ne=Bt.useCallback(Me=>{F.current=Me,typeof t=="function"?t(Me):t&&(t.current=Me)},[t]),[he,k]=Bt.useState(!1),{margin:R,cells:C,numCells:D,calculatedImageSettings:L}=hS({value:i,level:l,minVersion:p,boostLevel:x,includeMargin:h,marginSize:y,imageSettings:w,size:o});Bt.useEffect(()=>{if(F.current!=null){const Me=F.current,ee=Me.getContext("2d");if(!ee)return;let De=C;const Ce=Q.current,pe=L!=null&&Ce!==null&&Ce.complete&&Ce.naturalHeight!==0&&Ce.naturalWidth!==0;pe&&L.excavation!=null&&(De=fS(C,L.excavation));const Ee=window.devicePixelRatio||1;Me.height=Me.width=o*Ee;const Ae=o/D*Ee;ee.scale(Ae,Ae),ee.fillStyle=c,ee.fillRect(0,0,D,D),ee.fillStyle=f,BD?ee.fill(new Path2D(uS(De,R))):C.forEach(function(J,N){J.forEach(function(q,K){q&&ee.fillRect(K+R,N+R,1,1)})}),L&&(ee.globalAlpha=L.opacity),pe&&ee.drawImage(Ce,L.x+R,L.y+R,L.w,L.h)}}),Bt.useEffect(()=>{k(!1)},[U]);const V=Wg({height:o,width:o},A);let O=null;return U!=null&&(O=Bt.createElement("img",{src:U,key:U,style:{display:"none"},onLoad:()=>{k(!0)},ref:Q,crossOrigin:L?.crossOrigin})),Bt.createElement(Bt.Fragment,null,Bt.createElement("canvas",Wg({style:V,height:o,width:o,ref:ne,role:"img"},j)),O)});dS.displayName="QRCodeCanvas";var VD=Bt.forwardRef(function(e,t){const n=e,{value:i,size:o=iS,level:l=sS,bgColor:c=oS,fgColor:f=aS,includeMargin:h=lS,minVersion:p=cS,boostLevel:x,title:y,marginSize:w,imageSettings:S}=n,T=$g(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:A,cells:j,numCells:U,calculatedImageSettings:F}=hS({value:i,level:l,minVersion:p,boostLevel:x,includeMargin:h,marginSize:w,imageSettings:S,size:o});let Q=j,ne=null;S!=null&&F!=null&&(F.excavation!=null&&(Q=fS(j,F.excavation)),ne=Bt.createElement("image",{href:S.src,height:F.h,width:F.w,x:F.x+A,y:F.y+A,preserveAspectRatio:"none",opacity:F.opacity,crossOrigin:F.crossOrigin}));const he=uS(Q,A);return Bt.createElement("svg",Wg({height:o,width:o,viewBox:`0 0 ${U} ${U}`,ref:t,role:"img"},T),!!y&&Bt.createElement("title",null,y),Bt.createElement("path",{fill:c,d:`M0,0 h${U}v${U}H0z`,shapeRendering:"crispEdges"}),Bt.createElement("path",{fill:f,d:he,shapeRendering:"crispEdges"}),ne)});VD.displayName="QRCodeSVG";function z_(){const[r]=Qu(Xn),[e,t]=ie.useState([]),[n,i]=ie.useState(0),[o,l]=ie.useState(null),c=Xt(),{showToast:f}=br(),h=async()=>{try{const k=_T(Oa(ut,"orders"),J6("userId","==",r.uid),wT("createdAt","desc")),R=await oc(k);t(R.docs.map(C=>({id:C.id,...C.data()})))}catch(k){console.error(":",k),f(" "+k.message)}};ie.useEffect(()=>{r&&h()},[r]);const p=async k=>{try{await Ym(Ct(ut,"orders",k)),await h(),n>=e.length-1&&n>0&&i(n-1),l(null),f(" ")}catch(R){console.error(":",R),f(" "+R.message)}},x=k=>{l(k)},y=()=>{l(null)},w=()=>{i(k=>k===0?e.length-1:k-1)},S=()=>{i(k=>k===e.length-1?0:k+1)},T=k=>{i(k)},[A,j]=ie.useState(0),[U,F]=ie.useState(0),Q=k=>{j(k.targetTouches[0].clientX)},ne=k=>{F(k.targetTouches[0].clientX)},he=()=>{if(!A||!U)return;const k=A-U,R=k>50,C=k<-50;R?S():C&&w()};return r?g.jsxs("div",{style:{minHeight:"100vh",padding:"40px 20px",display:"flex",flexDirection:"column",alignItems:"center"},children:[g.jsx("h1",{style:{marginBottom:"30px",color:"#333"},children:""}),g.jsx("button",{onClick:()=>open("https://forms.gle/Grnk7FXfrXDQutE87","_blank"),style:{marginTop:"30px",padding:"12px 28px",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",fontSize:"1rem",cursor:"pointer",boxShadow:"0 4px 12px rgba(221,36,118,0.25)",transition:"all 0.2s"},children:""}),g.jsx("br",{}),e.length===0&&g.jsx("p",{style:{color:"#555"},children:""}),e.length>0&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{textAlign:"center",marginBottom:"20px",fontSize:"0.9rem",color:"#666"},children:[" ",n+1,"  /  ",e.length," "]}),g.jsxs("div",{style:{position:"relative",width:"100%",maxWidth:"800px",minHeight:"600px",overflow:"hidden",margin:"0 auto",padding:"0 30px",boxSizing:"border-box"},children:[g.jsx("div",{style:{display:"flex",width:`${e.length*100}%`,height:"100%",transform:`translateX(-${n*(100/e.length)}%)`,transition:"transform 0.3s ease-in-out"},onTouchStart:Q,onTouchMove:ne,onTouchEnd:he,children:e.map((k,R)=>g.jsx("div",{style:{width:`${100/e.length}%`,height:"100%",padding:"0 5px",boxSizing:"border-box"},children:g.jsxs("div",{style:{background:"white",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0,0,0,0.12)",padding:"24px",height:"100%",display:"flex",flexDirection:"column",gap:"16px",position:"relative"},children:[g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginBottom:"8px"},children:[g.jsx("div",{style:{display:"flex",justifyContent:"center"},children:g.jsx("div",{style:{background:k.delivered?"#dcfce7":"#fef3c7",color:k.delivered?"#166534":"#92400e",padding:"10px 20px",borderRadius:"25px",fontSize:"1rem",fontWeight:"bold",display:"inline-flex",alignItems:"center",gap:"8px"},children:k.delivered?" ":" "})}),g.jsx("div",{style:{display:"flex",justifyContent:"center"},children:g.jsxs("div",{style:{fontSize:"0.9rem",color:"#666",fontWeight:"500",background:"#f8fafc",padding:"6px 12px",borderRadius:"6px",border:"1px solid #e2e8f0"},children:["#",k.id]})}),g.jsx("div",{style:{display:"flex",justifyContent:"center"},children:g.jsx("button",{onClick:()=>x(k.id),style:{padding:"8px 16px",borderRadius:"8px",border:"none",background:"#fee2e2",color:"#dc2626",fontSize:"0.9rem",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"6px",boxShadow:"0 2px 4px rgba(220, 38, 38, 0.1)"},onMouseEnter:C=>{C.target.style.background="#fecaca",C.target.style.transform="translateY(-1px)",C.target.style.boxShadow="0 4px 8px rgba(220, 38, 38, 0.15)"},onMouseLeave:C=>{C.target.style.background="#fee2e2",C.target.style.transform="translateY(0)",C.target.style.boxShadow="0 2px 4px rgba(220, 38, 38, 0.1)"},children:" "})})]}),g.jsxs("div",{style:{background:"#f8fafc",borderRadius:"8px",padding:"16px",display:"flex",flexDirection:"column",gap:"12px"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[g.jsx("span",{style:{color:"#666",fontSize:"1rem"},children:""}),g.jsxs("span",{style:{fontWeight:"500",fontSize:"1rem"},children:["NT$ ",k.originalTotal]})]}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[g.jsx("span",{style:{color:"#666",fontSize:"1rem"},children:""}),g.jsxs("span",{style:{fontWeight:"bold",fontSize:"1.2rem",color:"#059669"},children:["NT$ ",k.finalTotal]})]}),g.jsx("div",{style:{fontSize:"0.9rem",color:"#888",textAlign:"center",paddingTop:"8px",borderTop:"1px solid #e2e8f0"},children:k.createdAt?.toDate().toLocaleString()})]}),g.jsxs("div",{style:{background:"#f9f9f9",borderRadius:"8px",padding:"16px",flex:"1",overflow:"auto"},children:[g.jsx("div",{style:{fontWeight:"600",marginBottom:"12px",fontSize:"1rem",color:"#333"},children:""}),g.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem",backgroundColor:"white",borderRadius:"4px",overflow:"hidden",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[g.jsx("thead",{children:g.jsxs("tr",{style:{backgroundColor:"#f3f4f6",borderBottom:"1px solid #e5e7eb"},children:[g.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:"600",color:"#374151"},children:""}),g.jsx("th",{style:{padding:"12px 16px",textAlign:"center",fontWeight:"600",color:"#374151"},children:""}),g.jsx("th",{style:{padding:"12px 16px",textAlign:"right",fontWeight:"600",color:"#374151"},children:""})]})}),g.jsx("tbody",{children:k.items.map(C=>g.jsxs("tr",{style:{borderBottom:"1px solid #f3f4f6",transition:"background-color 0.2s"},children:[g.jsx("td",{style:{padding:"12px 16px",color:"#374151"},children:C.name}),g.jsx("td",{style:{padding:"12px 16px",textAlign:"center",color:"#6b7280"},children:C.quantity}),g.jsxs("td",{style:{padding:"12px 16px",textAlign:"right",color:"#059669",fontWeight:"500"},children:["NT$ ",C.price]})]},C.id))})]})]}),k.appliedCombos&&k.appliedCombos.length>0&&g.jsxs("div",{style:{background:"linear-gradient(135deg, #fff0f6 0%, #fdf2f8 100%)",border:"1px solid #f9c2d3",borderRadius:"8px",padding:"16px"},children:[g.jsx("div",{style:{fontWeight:"600",marginBottom:"12px",fontSize:"1rem",color:"#be185d"},children:" "}),g.jsx("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"0.9rem",lineHeight:"1.5"},children:k.appliedCombos.map(C=>g.jsxs("li",{style:{marginBottom:"6px"},children:[g.jsxs("div",{children:[C.name,"  ",C.applicableCount]}),g.jsxs("div",{style:{color:"#be185d",fontSize:"0.85rem",fontWeight:"500"},children:[" NT$ ",C.totalDiscount]})]},C.id))}),g.jsxs("div",{style:{marginTop:"12px",fontWeight:"bold",color:"#be185d",textAlign:"center",fontSize:"1rem",background:"rgba(190, 24, 93, 0.1)",padding:"8px",borderRadius:"6px"},children:["  NT$ ",k.totalDiscount]})]}),g.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",background:"#f8fafc",padding:"16px",borderRadius:"8px"},children:(()=>{const D=`${window.location.origin}/orders/${k.id}`;return g.jsxs(g.Fragment,{children:[g.jsx(dS,{value:D,size:120}),g.jsx("div",{style:{fontSize:"0.8rem",color:"#666",textAlign:"center"},children:""})]})})()})]})},k.id))}),e.length>1&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:w,style:{position:"absolute",left:"5px",top:"50%",transform:"translateY(-50%)",width:"44px",height:"44px",borderRadius:"50%",border:"2px solid #e2e8f0",background:"white",boxShadow:"0 6px 20px rgba(0,0,0,0.2)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.4rem",color:"#374151",transition:"all 0.2s",zIndex:10,userSelect:"none"},onMouseEnter:k=>{k.target.style.background="#f3f4f6",k.target.style.color="#1f2937",k.target.style.transform="translateY(-50%) scale(1.05)"},onMouseLeave:k=>{k.target.style.background="white",k.target.style.color="#374151",k.target.style.transform="translateY(-50%) scale(1)"},children:""}),g.jsx("button",{onClick:S,style:{position:"absolute",right:"5px",top:"50%",transform:"translateY(-50%)",width:"44px",height:"44px",borderRadius:"50%",border:"2px solid #e2e8f0",background:"white",boxShadow:"0 6px 20px rgba(0,0,0,0.2)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.4rem",color:"#374151",transition:"all 0.2s",zIndex:10,userSelect:"none"},onMouseEnter:k=>{k.target.style.background="#f3f4f6",k.target.style.color="#1f2937",k.target.style.transform="translateY(-50%) scale(1.05)"},onMouseLeave:k=>{k.target.style.background="white",k.target.style.color="#374151",k.target.style.transform="translateY(-50%) scale(1)"},children:""})]})]}),e.length>1&&g.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginTop:"20px"},children:e.map((k,R)=>g.jsx("button",{onClick:()=>T(R),style:{width:"12px",height:"12px",borderRadius:"50%",border:"none",background:n===R?"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)":"#ddd",cursor:"pointer",transition:"all 0.3s"}},R))})]}),o&&g.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:g.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"400px",width:"90%",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[g.jsxs("div",{style:{textAlign:"center",marginBottom:"20px"},children:[g.jsx("div",{style:{fontSize:"3rem",marginBottom:"16px"},children:""}),g.jsx("h3",{style:{margin:0,marginBottom:"8px",color:"#dc2626",fontSize:"1.2rem"},children:""}),g.jsxs("p",{style:{margin:0,color:"#666",fontSize:"0.95rem",lineHeight:"1.4"},children:[" #",o," ",g.jsx("br",{}),""]})]}),g.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[g.jsx("button",{onClick:y,style:{padding:"10px 20px",borderRadius:"8px",border:"1px solid #d1d5db",background:"#f9fafb",color:"#374151",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:k=>{k.target.style.background="#f3f4f6"},onMouseLeave:k=>{k.target.style.background="#f9fafb"},children:""}),g.jsx("button",{onClick:()=>p(o),style:{padding:"10px 20px",borderRadius:"8px",border:"none",background:"#dc2626",color:"white",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:k=>{k.target.style.background="#b91c1c"},onMouseLeave:k=>{k.target.style.background="#dc2626"},children:""})]})]})}),g.jsx("button",{onClick:()=>c("/"),style:{marginTop:"30px",padding:"12px 28px",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",fontSize:"1rem",cursor:"pointer",boxShadow:"0 4px 12px rgba(221,36,118,0.25)",transition:"all 0.2s"},children:""})]}):g.jsx("p",{style:{textAlign:"center",marginTop:"40px"},children:""})}function UD(){const{id:r}=hi(),e=Xt(),{addToCart:t}=pi(),{showToast:n}=br(),i=_D,o=pD,l=f=>{t(f),n(`${f.name} `)},c=f=>i.find(h=>h.id===f);return g.jsx("div",{style:{minHeight:"100vh",padding:"40px 20px",display:"flex",justifyContent:"center"},children:g.jsxs("div",{style:{width:"100%",maxWidth:"700px",background:"white",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0,0,0,0.1)",padding:"30px",display:"flex",flexDirection:"column",alignItems:"center"},children:[g.jsx("h1",{style:{marginBottom:"16px",color:"#333"},children:""}),g.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#dd2476",marginBottom:"24px",textAlign:"center"},children:[g.jsx("div",{style:{textDecoration:"line-through",opacity:.7},children:"NT$ 900"})," NT$ 700"]}),g.jsx("div",{style:{width:"100%",maxWidth:"300px",height:"300px",marginBottom:"24px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"12px",overflow:"hidden"},children:g.jsx("img",{src:`/images/product-${r}.png`,alt:` ${r}`,style:{width:"100%",height:"100%",objectFit:"cover"}})}),g.jsxs("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:0,marginBottom:"24px",borderRadius:"12px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},children:[g.jsx("caption",{style:{captionSide:"top",marginBottom:"16px",fontWeight:"bold",fontSize:"1.1rem",color:"#444"},children:" (cm)"}),g.jsx("thead",{children:g.jsxs("tr",{style:{background:"linear-gradient(90deg, #ff512f, #dd2476)",color:"white"},children:[g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""})]})}),g.jsx("tbody",{children:o.map((f,h)=>{const p=c(f.productId);return g.jsxs("tr",{style:{backgroundColor:h%2===0?"#fafafa":"white",transition:"all 0.25s ease"},onMouseEnter:x=>{x.currentTarget.style.background="#ffe6f0",x.currentTarget.style.boxShadow="inset 4px 0 0 #dd2476"},onMouseLeave:x=>{x.currentTarget.style.background=h%2===0?"#fafafa":"white",x.currentTarget.style.boxShadow="none"},children:[g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee",fontWeight:"bold",color:"#333"},children:f.size}),g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee",color:"#555"},children:f.length}),g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee",color:"#555"},children:f.sleeve}),g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee",color:"#555"},children:f.chest}),g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee",color:"#555"},children:f.shoulder}),g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee"},children:g.jsx("button",{onClick:()=>l(p),style:{padding:"8px 16px",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",border:"none",borderRadius:"6px",fontWeight:"bold",fontSize:"0.9rem",cursor:"pointer",boxShadow:"0 2px 8px rgba(221,36,118,0.25)",transition:"all 0.2s",minWidth:"80px"},onMouseEnter:x=>{x.target.style.transform="translateY(-2px)",x.target.style.boxShadow="0 4px 12px rgba(221,36,118,0.35)"},onMouseLeave:x=>{x.target.style.transform="translateY(0)",x.target.style.boxShadow="0 2px 8px rgba(221,36,118,0.25)"},children:""})})]},f.size)})})]}),g.jsx("br",{}),g.jsx("button",{onClick:()=>e("/"),style:{padding:"12px 28px",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",fontSize:"1rem",cursor:"pointer",boxShadow:"0 4px 12px rgba(221,36,118,0.25)",transition:"all 0.2s"},children:""})]})})}function zD(){const{id:r}=hi(),e=Xt(),{addToCart:t}=pi(),{showToast:n}=br(),i=wD,o=gD,l=f=>{t(f),n(`${f.name} `)},c=f=>i.find(h=>h.id===f);return g.jsx("div",{style:{minHeight:"100vh",padding:"40px 20px",display:"flex",justifyContent:"center"},children:g.jsxs("div",{style:{width:"100%",maxWidth:"700px",background:"white",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0,0,0,0.1)",padding:"30px",display:"flex",flexDirection:"column",alignItems:"center"},children:[g.jsx("h1",{style:{marginBottom:"16px",color:"#333"},children:""}),g.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#dd2476",marginBottom:"24px",textAlign:"center"},children:[g.jsx("div",{style:{textDecoration:"line-through",opacity:.7},children:"NT$ 500"})," NT$ 300"]}),g.jsx("div",{style:{width:"100%",maxWidth:"300px",height:"300px",marginBottom:"24px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"12px",overflow:"hidden"},children:g.jsx("img",{src:`/images/product-${r}.png`,alt:` ${r}`,style:{width:"100%",height:"100%",objectFit:"cover"}})}),g.jsxs("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:0,marginBottom:"24px",borderRadius:"12px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},children:[g.jsx("caption",{style:{captionSide:"top",marginBottom:"16px",fontWeight:"bold",fontSize:"1.1rem",color:"#444"},children:" (cm)"}),g.jsx("thead",{children:g.jsxs("tr",{style:{background:"linear-gradient(90deg, #ff512f, #dd2476)",color:"white"},children:[g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""})]})}),g.jsx("tbody",{children:o.map((f,h)=>{const p=c(f.productId);return g.jsxs("tr",{style:{backgroundColor:h%2===0?"#fafafa":"white",transition:"all 0.25s ease"},onMouseEnter:x=>{x.currentTarget.style.background="#ffe6f0",x.currentTarget.style.boxShadow="inset 4px 0 0 #dd2476"},onMouseLeave:x=>{x.currentTarget.style.background=h%2===0?"#fafafa":"white",x.currentTarget.style.boxShadow="none"},children:[g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee",fontWeight:"bold",color:"#333"},children:f.size}),g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee",color:"#555"},children:f.length}),g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee",color:"#555"},children:f.sleeve}),g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee",color:"#555"},children:f.chest}),g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee",color:"#555"},children:f.shoulder}),g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee"},children:g.jsx("button",{onClick:()=>l(p),style:{padding:"8px 16px",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",border:"none",borderRadius:"6px",fontWeight:"bold",fontSize:"0.9rem",cursor:"pointer",boxShadow:"0 2px 8px rgba(221,36,118,0.25)",transition:"all 0.2s",minWidth:"80px"},onMouseEnter:x=>{x.target.style.transform="translateY(-2px)",x.target.style.boxShadow="0 4px 12px rgba(221,36,118,0.35)"},onMouseLeave:x=>{x.target.style.transform="translateY(0)",x.target.style.boxShadow="0 2px 8px rgba(221,36,118,0.25)"},children:""})})]},f.size)})})]}),g.jsx("br",{}),g.jsx("button",{onClick:()=>e("/"),style:{padding:"12px 28px",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",fontSize:"1rem",cursor:"pointer",boxShadow:"0 4px 12px rgba(221,36,118,0.25)",transition:"all 0.2s"},children:""})]})})}function WD(){const{id:r}=hi(),e=Xt(),{addToCart:t}=pi(),{showToast:n}=br(),i=ED,o=mD,l=f=>{t(f),n(`${f.name} `)},c=f=>i.find(h=>h.id===f);return g.jsx("div",{style:{minHeight:"100vh",padding:"40px 20px",display:"flex",justifyContent:"center"},children:g.jsxs("div",{style:{width:"100%",maxWidth:"700px",background:"white",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0,0,0,0.1)",padding:"30px",display:"flex",flexDirection:"column",alignItems:"center"},children:[g.jsx("h1",{style:{marginBottom:"16px",color:"#333"},children:""}),g.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#dd2476",marginBottom:"24px",textAlign:"center"},children:[g.jsx("div",{style:{textDecoration:"line-through",opacity:.7},children:"NT$ 500"})," NT$ 300"]}),g.jsx("div",{style:{width:"100%",maxWidth:"300px",height:"300px",marginBottom:"24px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"12px",overflow:"hidden"},children:g.jsx("img",{src:`/images/product-${r}.png`,alt:` ${r}`,style:{width:"100%",height:"100%",objectFit:"cover"}})}),g.jsxs("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:0,marginBottom:"24px",borderRadius:"12px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},children:[g.jsx("caption",{style:{captionSide:"top",marginBottom:"16px",fontWeight:"bold",fontSize:"1.1rem",color:"#444"},children:" (cm)"}),g.jsx("thead",{children:g.jsxs("tr",{style:{background:"linear-gradient(90deg, #ff512f, #dd2476)",color:"white"},children:[g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""})]})}),g.jsx("tbody",{children:o.map((f,h)=>{const p=c(f.productId);return g.jsxs("tr",{style:{backgroundColor:h%2===0?"#fafafa":"white",transition:"all 0.25s ease"},onMouseEnter:x=>{x.currentTarget.style.background="#ffe6f0",x.currentTarget.style.boxShadow="inset 4px 0 0 #dd2476"},onMouseLeave:x=>{x.currentTarget.style.background=h%2===0?"#fafafa":"white",x.currentTarget.style.boxShadow="none"},children:[g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee",fontWeight:"bold",color:"#333"},children:f.size}),g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee",color:"#555"},children:f.length}),g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee",color:"#555"},children:f.sleeve}),g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee",color:"#555"},children:f.chest}),g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee",color:"#555"},children:f.shoulder}),g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee"},children:g.jsx("button",{onClick:()=>l(p),style:{padding:"8px 16px",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",border:"none",borderRadius:"6px",fontWeight:"bold",fontSize:"0.9rem",cursor:"pointer",boxShadow:"0 2px 8px rgba(221,36,118,0.25)",transition:"all 0.2s",minWidth:"80px"},onMouseEnter:x=>{x.target.style.transform="translateY(-2px)",x.target.style.boxShadow="0 4px 12px rgba(221,36,118,0.35)"},onMouseLeave:x=>{x.target.style.transform="translateY(0)",x.target.style.boxShadow="0 2px 8px rgba(221,36,118,0.25)"},children:""})})]},f.size)})})]}),g.jsx("br",{}),g.jsx("button",{onClick:()=>e("/"),style:{padding:"12px 28px",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",fontSize:"1rem",cursor:"pointer",boxShadow:"0 4px 12px rgba(221,36,118,0.25)",transition:"all 0.2s"},children:""})]})})}function $D(){const{id:r}=hi(),e=Xt(),{addToCart:t}=pi(),{showToast:n}=br(),i=TD,o=xD,l=f=>{t(f),n(`${f.name} `)},c=f=>i.find(h=>h.id===f);return g.jsx("div",{style:{minHeight:"100vh",padding:"40px 20px",display:"flex",justifyContent:"center"},children:g.jsxs("div",{style:{width:"100%",maxWidth:"700px",background:"white",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0,0,0,0.1)",padding:"30px",display:"flex",flexDirection:"column",alignItems:"center"},children:[g.jsx("h1",{style:{marginBottom:"16px",color:"#333"},children:""}),g.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#dd2476",marginBottom:"24px",textAlign:"center"},children:[g.jsx("div",{style:{textDecoration:"line-through",opacity:.7},children:"NT$ 500"})," NT$ 300"]}),g.jsx("div",{style:{width:"100%",maxWidth:"300px",height:"300px",marginBottom:"24px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"12px",overflow:"hidden"},children:g.jsx("img",{src:`/images/product-${r}.png`,alt:` ${r}`,style:{width:"100%",height:"100%",objectFit:"cover"}})}),g.jsxs("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:0,marginBottom:"24px",borderRadius:"12px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},children:[g.jsx("caption",{style:{captionSide:"top",marginBottom:"16px",fontWeight:"bold",fontSize:"1.1rem",color:"#444"},children:" (cm)"}),g.jsx("thead",{children:g.jsxs("tr",{style:{background:"linear-gradient(90deg, #ff512f, #dd2476)",color:"white"},children:[g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""})]})}),g.jsx("tbody",{children:o.map((f,h)=>{const p=c(f.productId);return g.jsxs("tr",{style:{backgroundColor:h%2===0?"#fafafa":"white",transition:"all 0.25s ease"},onMouseEnter:x=>{x.currentTarget.style.background="#ffe6f0",x.currentTarget.style.boxShadow="inset 4px 0 0 #dd2476"},onMouseLeave:x=>{x.currentTarget.style.background=h%2===0?"#fafafa":"white",x.currentTarget.style.boxShadow="none"},children:[g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee",fontWeight:"bold",color:"#333"},children:f.size}),g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee",color:"#555"},children:f.length}),g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee",color:"#555"},children:f.sleeve}),g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee",color:"#555"},children:f.chest}),g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee",color:"#555"},children:f.shoulder}),g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee"},children:g.jsx("button",{onClick:()=>l(p),style:{padding:"8px 16px",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",border:"none",borderRadius:"6px",fontWeight:"bold",fontSize:"0.9rem",cursor:"pointer",boxShadow:"0 2px 8px rgba(221,36,118,0.25)",transition:"all 0.2s",minWidth:"80px"},onMouseEnter:x=>{x.target.style.transform="translateY(-2px)",x.target.style.boxShadow="0 4px 12px rgba(221,36,118,0.35)"},onMouseLeave:x=>{x.target.style.transform="translateY(0)",x.target.style.boxShadow="0 2px 8px rgba(221,36,118,0.25)"},children:""})})]},f.size)})})]}),g.jsx("br",{}),g.jsx("button",{onClick:()=>e("/"),style:{padding:"12px 28px",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",fontSize:"1rem",cursor:"pointer",boxShadow:"0 4px 12px rgba(221,36,118,0.25)",transition:"all 0.2s"},children:""})]})})}function HD(){const r=Xt(),{addToCart:e}=pi(),{showToast:t}=br(),{id:n}=hi(),i={no:3,id:3,name:"",price:200,orPrice:400},o=()=>{e(i),t(`${i.name} `)};return g.jsx("div",{style:{minHeight:"100vh",padding:"40px 20px",display:"flex",justifyContent:"center"},children:g.jsxs("div",{style:{width:"100%",maxWidth:"600px",background:"white",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0,0,0,0.1)",padding:"30px",display:"flex",flexDirection:"column",alignItems:"center"},children:[g.jsx("h1",{style:{marginBottom:"8px",color:"#333"},children:i.name}),g.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#dd2476",marginBottom:"24px",textAlign:"center"},children:[g.jsx("div",{style:{textDecoration:"line-through",opacity:.7},children:"NT$ 400"})," NT$ 200"]}),g.jsx("div",{style:{width:"100%",maxWidth:"300px",height:"300px",marginBottom:"24px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"12px",overflow:"hidden"},children:g.jsx("img",{src:`/images/product-${n}.png`,alt:` ${n}`,style:{width:"100%",height:"100%",objectFit:"cover"}})}),g.jsx("div",{style:{display:"flex",gap:"12px",marginBottom:"20px"},children:g.jsx("button",{onClick:o,style:{padding:"12px 24px",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",fontSize:"1rem",cursor:"pointer",boxShadow:"0 4px 12px rgba(221,36,118,0.25)",transition:"all 0.2s",minWidth:"140px"},onMouseEnter:l=>{l.target.style.transform="translateY(-2px)",l.target.style.boxShadow="0 6px 16px rgba(221,36,118,0.35)"},onMouseLeave:l=>{l.target.style.transform="translateY(0)",l.target.style.boxShadow="0 4px 12px rgba(221,36,118,0.25)"},children:""})}),g.jsx("button",{onClick:()=>r("/"),style:{padding:"12px 28px",background:"#f5f5f5",color:"#333",border:"1px solid #ddd",borderRadius:"10px",fontWeight:"bold",fontSize:"1rem",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:l=>{l.target.style.background="#eeeeee",l.target.style.borderColor="#bbb"},onMouseLeave:l=>{l.target.style.background="#f5f5f5",l.target.style.borderColor="#ddd"},children:""})]})})}function GD(){const{id:r}=hi(),e=Xt(),{addToCart:t}=pi(),{showToast:n}=br(),i=SD,o=yD,l=f=>{t(f),n(`${f.name} `)},c=f=>i.find(h=>h.id===f);return g.jsx("div",{style:{minHeight:"100vh",padding:"40px 20px",display:"flex",justifyContent:"center"},children:g.jsxs("div",{style:{width:"100%",maxWidth:"700px",background:"white",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0,0,0,0.1)",padding:"30px",display:"flex",flexDirection:"column",alignItems:"center"},children:[g.jsx("h1",{style:{marginBottom:"16px",color:"#333"},children:""}),g.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#dd2476",marginBottom:"24px",textAlign:"center"},children:[g.jsx("div",{style:{textDecoration:"line-through",opacity:.7},children:"NT$ 850"})," NT$ 650"]}),g.jsx("div",{style:{width:"100%",maxWidth:"300px",height:"300px",marginBottom:"24px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"12px",overflow:"hidden"},children:g.jsx("img",{src:`/images/product-${r}.png`,alt:` ${r}`,style:{width:"100%",height:"100%",objectFit:"cover"}})}),g.jsxs("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:0,marginBottom:"24px",borderRadius:"12px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},children:[g.jsx("caption",{style:{captionSide:"top",marginBottom:"16px",fontWeight:"bold",fontSize:"1.1rem",color:"#444"},children:" (cm)"}),g.jsx("thead",{children:g.jsxs("tr",{style:{background:"linear-gradient(90deg, #ff512f, #dd2476)",color:"white"},children:[g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""})]})}),g.jsx("tbody",{children:o.map((f,h)=>{const p=c(f.productId);return g.jsxs("tr",{style:{backgroundColor:h%2===0?"#fafafa":"white",transition:"all 0.25s ease"},onMouseEnter:x=>{x.currentTarget.style.background="#ffe6f0",x.currentTarget.style.boxShadow="inset 4px 0 0 #dd2476"},onMouseLeave:x=>{x.currentTarget.style.background=h%2===0?"#fafafa":"white",x.currentTarget.style.boxShadow="none"},children:[g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee",fontWeight:"bold",color:"#333"},children:f.size}),g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee",color:"#555"},children:f.length}),g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee",color:"#555"},children:f.sleeve}),g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee",color:"#555"},children:f.chest}),g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee",color:"#555"},children:f.shoulder}),g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee"},children:g.jsx("button",{onClick:()=>l(p),style:{padding:"8px 16px",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",border:"none",borderRadius:"6px",fontWeight:"bold",fontSize:"0.9rem",cursor:"pointer",boxShadow:"0 2px 8px rgba(221,36,118,0.25)",transition:"all 0.2s",minWidth:"80px"},onMouseEnter:x=>{x.target.style.transform="translateY(-2px)",x.target.style.boxShadow="0 4px 12px rgba(221,36,118,0.35)"},onMouseLeave:x=>{x.target.style.transform="translateY(0)",x.target.style.boxShadow="0 2px 8px rgba(221,36,118,0.25)"},children:""})})]},f.size)})})]}),g.jsx("br",{}),g.jsx("button",{onClick:()=>e("/"),style:{padding:"12px 28px",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",fontSize:"1rem",cursor:"pointer",boxShadow:"0 4px 12px rgba(221,36,118,0.25)",transition:"all 0.2s"},children:""})]})})}function qD(){const{id:r}=hi(),e=Xt(),{addToCart:t}=pi(),{showToast:n}=br(),i=AD,o=vD,l=f=>{t(f),n(`${f.name} `)},c=f=>i.find(h=>h.id===f);return g.jsx("div",{style:{minHeight:"100vh",padding:"40px 20px",display:"flex",justifyContent:"center"},children:g.jsxs("div",{style:{width:"100%",maxWidth:"700px",background:"white",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0,0,0,0.1)",padding:"30px",display:"flex",flexDirection:"column",alignItems:"center"},children:[g.jsx("h1",{style:{marginBottom:"16px",color:"#333"},children:""}),g.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#dd2476",marginBottom:"24px",textAlign:"center"},children:[g.jsx("div",{style:{textDecoration:"line-through",opacity:.7},children:"NT$ 850"})," NT$ 650"]}),g.jsx("div",{style:{width:"100%",maxWidth:"300px",height:"300px",marginBottom:"24px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"12px",overflow:"hidden"},children:g.jsx("img",{src:`/images/product-${r}.png`,alt:` ${r}`,style:{width:"100%",height:"100%",objectFit:"cover"}})}),g.jsxs("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:0,marginBottom:"24px",borderRadius:"12px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},children:[g.jsx("caption",{style:{captionSide:"top",marginBottom:"16px",fontWeight:"bold",fontSize:"1.1rem",color:"#444"},children:" (cm)"}),g.jsx("thead",{children:g.jsxs("tr",{style:{background:"linear-gradient(90deg, #ff512f, #dd2476)",color:"white"},children:[g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""})]})}),g.jsx("tbody",{children:o.map((f,h)=>{const p=c(f.productId);return g.jsxs("tr",{style:{backgroundColor:h%2===0?"#fafafa":"white",transition:"all 0.25s ease"},onMouseEnter:x=>{x.currentTarget.style.background="#ffe6f0",x.currentTarget.style.boxShadow="inset 4px 0 0 #dd2476"},onMouseLeave:x=>{x.currentTarget.style.background=h%2===0?"#fafafa":"white",x.currentTarget.style.boxShadow="none"},children:[g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee",fontWeight:"bold",color:"#333"},children:f.size}),g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee",color:"#555"},children:f.length}),g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee",color:"#555"},children:f.sleeve}),g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee",color:"#555"},children:f.chest}),g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee",color:"#555"},children:f.shoulder}),g.jsx("td",{style:{padding:"12px",textAlign:"center",borderBottom:h===o.length-1?"none":"1px solid #eee"},children:g.jsx("button",{onClick:()=>l(p),style:{padding:"8px 16px",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",border:"none",borderRadius:"6px",fontWeight:"bold",fontSize:"0.9rem",cursor:"pointer",boxShadow:"0 2px 8px rgba(221,36,118,0.25)",transition:"all 0.2s",minWidth:"80px"},onMouseEnter:x=>{x.target.style.transform="translateY(-2px)",x.target.style.boxShadow="0 4px 12px rgba(221,36,118,0.35)"},onMouseLeave:x=>{x.target.style.transform="translateY(0)",x.target.style.boxShadow="0 2px 8px rgba(221,36,118,0.25)"},children:""})})]},f.size)})})]}),g.jsx("br",{}),g.jsx("button",{onClick:()=>e("/"),style:{padding:"12px 28px",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",fontSize:"1rem",cursor:"pointer",boxShadow:"0 4px 12px rgba(221,36,118,0.25)",transition:"all 0.2s"},children:""})]})})}function KD(){const r=Xt(),{addToCart:e}=pi(),{showToast:t}=br(),{id:n}=hi(),i={no:5,id:5,name:"",price:200,specifications:{size:"100 x 30 cm"}},o=()=>{e(i),t(`${i.name} `)};return g.jsx("div",{style:{minHeight:"100vh",padding:"40px 20px",display:"flex",justifyContent:"center"},children:g.jsxs("div",{style:{width:"100%",maxWidth:"600px",background:"white",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0,0,0,0.1)",padding:"30px",display:"flex",flexDirection:"column",alignItems:"center"},children:[g.jsx("h1",{style:{marginBottom:"8px",color:"#333"},children:i.name}),g.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#dd2476",marginBottom:"24px",textAlign:"center"},children:[g.jsx("div",{style:{textDecoration:"line-through",opacity:.7},children:"NT$ 400"})," NT$ 200"]}),g.jsx("div",{style:{width:"100%",maxWidth:"300px",height:"300px",marginBottom:"24px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"12px",overflow:"hidden"},children:g.jsx("img",{src:`/images/product-${n}.png`,alt:` ${n}`,style:{width:"100%",height:"100%",objectFit:"cover"}})}),g.jsxs("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:0,marginBottom:"24px",borderRadius:"12px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},children:[g.jsx("caption",{style:{captionSide:"top",marginBottom:"12px",fontWeight:"bold",fontSize:"1.1rem",color:"#444"},children:""}),g.jsx("tbody",{children:g.jsxs("tr",{style:{background:"#fafafa"},children:[g.jsx("td",{style:{padding:"12px",fontWeight:"bold",textAlign:"center"},children:""}),g.jsx("td",{style:{padding:"12px",textAlign:"center"},children:i.specifications.size})]})})]}),g.jsx("div",{style:{display:"flex",gap:"12px",marginBottom:"20px"},children:g.jsx("button",{onClick:o,style:{padding:"12px 24px",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",fontSize:"1rem",cursor:"pointer",boxShadow:"0 4px 12px rgba(221,36,118,0.25)",transition:"all 0.2s",minWidth:"140px"},onMouseEnter:l=>{l.target.style.transform="translateY(-2px)",l.target.style.boxShadow="0 6px 16px rgba(221,36,118,0.35)"},onMouseLeave:l=>{l.target.style.transform="translateY(0)",l.target.style.boxShadow="0 4px 12px rgba(221,36,118,0.25)"},children:""})}),g.jsx("button",{onClick:()=>r("/"),style:{padding:"12px 28px",background:"#f5f5f5",color:"#333",border:"1px solid #ddd",borderRadius:"10px",fontWeight:"bold",fontSize:"1rem",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:l=>{l.target.style.background="#eeeeee",l.target.style.borderColor="#bbb"},onMouseLeave:l=>{l.target.style.background="#f5f5f5",l.target.style.borderColor="#ddd"},children:""})]})})}function XD(){const r=Xt(),{addToCart:e}=pi(),{showToast:t}=br(),{id:n}=hi(),i={no:6,id:6,name:"",price:750,orPrice:950},o=()=>{e(i),t(`${i.name} `)};return g.jsx("div",{style:{minHeight:"100vh",padding:"40px 20px",display:"flex",justifyContent:"center"},children:g.jsxs("div",{style:{width:"100%",maxWidth:"600px",background:"white",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0,0,0,0.1)",padding:"30px",display:"flex",flexDirection:"column",alignItems:"center"},children:[g.jsx("h1",{style:{marginBottom:"8px",color:"#333"},children:i.name}),g.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#dd2476",marginBottom:"24px",textAlign:"center"},children:[g.jsx("div",{style:{textDecoration:"line-through",opacity:.7},children:"NT$ 950"})," NT$ 750"]}),g.jsx("div",{style:{width:"100%",maxWidth:"300px",height:"300px",marginBottom:"24px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"12px",overflow:"hidden"},children:g.jsx("img",{src:`/images/product-${n}.png`,alt:` ${n}`,style:{width:"100%",height:"100%",objectFit:"cover"}})}),g.jsx("div",{style:{display:"flex",gap:"12px",marginBottom:"20px"},children:g.jsx("button",{onClick:o,style:{padding:"12px 24px",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",fontSize:"1rem",cursor:"pointer",boxShadow:"0 4px 12px rgba(221,36,118,0.25)",transition:"all 0.2s",minWidth:"140px"},onMouseEnter:l=>{l.target.style.transform="translateY(-2px)",l.target.style.boxShadow="0 6px 16px rgba(221,36,118,0.35)"},onMouseLeave:l=>{l.target.style.transform="translateY(0)",l.target.style.boxShadow="0 4px 12px rgba(221,36,118,0.25)"},children:""})}),g.jsx("button",{onClick:()=>r("/"),style:{padding:"12px 28px",background:"#f5f5f5",color:"#333",border:"1px solid #ddd",borderRadius:"10px",fontWeight:"bold",fontSize:"1rem",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:l=>{l.target.style.background="#eeeeee",l.target.style.borderColor="#bbb"},onMouseLeave:l=>{l.target.style.background="#f5f5f5",l.target.style.borderColor="#ddd"},children:""})]})})}function W_(){const r=Xt(),{addToCart:e}=pi(),{showToast:t}=br(),n=[{id:"7_1",no:7,name:"",price:50,orPrice:50},{id:"7_2",no:7,name:"CKHS",price:50,orPrice:50}],i=o=>{e(o),t(`${o.name} `)};return g.jsx("div",{style:{minHeight:"100vh",padding:"40px 20px",display:"flex",justifyContent:"center"},children:g.jsxs("div",{style:{width:"100%",maxWidth:"600px",background:"white",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0,0,0,0.1)",padding:"30px",display:"flex",flexDirection:"column",alignItems:"center"},children:[g.jsx("h1",{style:{marginBottom:"8px",color:"#333"},children:""}),g.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#dd2476",marginBottom:"24px",textAlign:"center"},children:"NT$ 50"}),g.jsxs("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:0,marginBottom:"24px",borderRadius:"12px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},children:[g.jsx("thead",{children:g.jsxs("tr",{style:{background:"linear-gradient(90deg, #ff512f, #dd2476)",color:"white"},children:[g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center"},children:""})]})}),g.jsx("tbody",{children:n.map(o=>g.jsxs("tr",{children:[g.jsxs("td",{style:{padding:"12px",textAlign:"center",fontWeight:"bold",fontSize:"0.9rem",color:"#555"},children:[g.jsx("div",{style:{width:"100%",maxWidth:"200px",height:"200px",marginBottom:"24px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"12px",overflow:"hidden",margin:"0 auto"},children:g.jsx("img",{src:`/images/product-${o.id}.png`,alt:o.name,style:{width:"100%",height:"100%",objectFit:"cover"}})}),g.jsx("div",{style:{marginTop:"8px"},children:o.name})]}),g.jsx("td",{style:{padding:"12px",textAlign:"center"},children:g.jsx("button",{onClick:()=>i(o),style:{padding:"8px 16px",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",border:"none",borderRadius:"6px",fontWeight:"bold",fontSize:"0.9rem",cursor:"pointer",boxShadow:"0 2px 8px rgba(221,36,118,0.25)",transition:"all 0.2s",minWidth:"80px"},onMouseEnter:l=>{l.target.style.transform="translateY(-2px)",l.target.style.boxShadow="0 4px 12px rgba(221,36,118,0.35)"},onMouseLeave:l=>{l.target.style.transform="translateY(0)",l.target.style.boxShadow="0 2px 8px rgba(221,36,118,0.25)"},children:""})})]},o.id))})]}),g.jsx("button",{onClick:()=>r("/"),style:{padding:"12px 28px",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",border:"none",borderRadius:"6px",fontWeight:"bold",fontSize:"0.9rem",cursor:"pointer",boxShadow:"0 2px 8px rgba(221,36,118,0.25)",transition:"all 0.2s",minWidth:"80px"},onMouseEnter:o=>{o.target.style.background="#eeeeee",o.target.style.borderColor="#bbb"},onMouseLeave:o=>{o.target.style.background="#f5f5f5",o.target.style.borderColor="#ddd"},children:""})]})})}function YD(){const r=Xt(),{addToCart:e}=pi(),{showToast:t}=br(),{id:n}=hi(),i={no:8,id:8,name:"",price:50,orPrice:50},o=()=>{e(i),t(`${i.name} `)};return g.jsx("div",{style:{minHeight:"100vh",padding:"40px 20px",display:"flex",justifyContent:"center"},children:g.jsxs("div",{style:{width:"100%",maxWidth:"600px",background:"white",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0,0,0,0.1)",padding:"30px",display:"flex",flexDirection:"column",alignItems:"center"},children:[g.jsx("h1",{style:{marginBottom:"8px",color:"#333"},children:i.name}),g.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#dd2476",marginBottom:"24px",textAlign:"center"},children:"NT$ 50"}),g.jsx("div",{style:{width:"100%",maxWidth:"300px",height:"300px",marginBottom:"24px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"12px",overflow:"hidden"},children:g.jsx("img",{src:`/images/product-${n}.png`,alt:` ${n}`,style:{width:"100%",height:"100%",objectFit:"cover"}})}),g.jsx("div",{style:{display:"flex",gap:"12px",marginBottom:"20px"},children:g.jsx("button",{onClick:o,style:{padding:"12px 24px",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",fontSize:"1rem",cursor:"pointer",boxShadow:"0 4px 12px rgba(221,36,118,0.25)",transition:"all 0.2s",minWidth:"140px"},onMouseEnter:l=>{l.target.style.transform="translateY(-2px)",l.target.style.boxShadow="0 6px 16px rgba(221,36,118,0.35)"},onMouseLeave:l=>{l.target.style.transform="translateY(0)",l.target.style.boxShadow="0 4px 12px rgba(221,36,118,0.25)"},children:""})}),g.jsx("button",{onClick:()=>r("/"),style:{padding:"12px 28px",background:"#f5f5f5",color:"#333",border:"1px solid #ddd",borderRadius:"10px",fontWeight:"bold",fontSize:"1rem",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:l=>{l.target.style.background="#eeeeee",l.target.style.borderColor="#bbb"},onMouseLeave:l=>{l.target.style.background="#f5f5f5",l.target.style.borderColor="#ddd"},children:""})]})})}const QD={1:UD,"2_1":zD,"2_2":WD,"2_3":$D,3:HD,"4_1":GD,"4_2":qD,5:KD,6:XD,"7_1":W_,"7_2":W_,8:YD};function $_(){const{id:r}=hi(),e=Xt(),t=QD[r];return t?g.jsx(t,{}):g.jsxs("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",color:"#555"},children:[g.jsx("h2",{children:" "}),g.jsx("button",{onClick:()=>e("/"),style:{marginTop:"20px",padding:"12px 28px",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer"},children:""})]})}function JD(){const r=Xt();return g.jsx("div",{style:{minHeight:"100vh",padding:"40px 20px",display:"flex",justifyContent:"center"},children:g.jsxs("div",{style:{width:"100%",maxWidth:"600px",background:"white",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0,0,0,0.1)",padding:"30px",display:"flex",flexDirection:"column"},children:[g.jsx("h1",{style:{textAlign:"center",marginBottom:"16px",color:"#333"},children:""}),g.jsx("p",{style:{color:"#000000ff",marginBottom:"24px"},children:""}),g.jsx("h3",{style:{color:"#000000ff",marginBottom:"24px"},children:""}),g.jsxs("ul",{style:{color:"#000000ff",marginBottom:"24px"},children:[g.jsx("li",{children:"IP "}),g.jsx("li",{children:""}),g.jsx("li",{children:""}),g.jsx("li",{children:""})]}),g.jsx("h3",{style:{color:"#000000ff",marginBottom:"24px"},children:""}),g.jsxs("ul",{style:{color:"#000000ff",marginBottom:"24px"},children:[g.jsx("li",{children:""}),g.jsx("li",{children:""}),g.jsx("li",{children:""}),g.jsx("li",{children:""})]}),g.jsx("h3",{style:{color:"#000000ff",marginBottom:"24px"},children:""}),g.jsxs("ul",{style:{color:"#000000ff",marginBottom:"24px"},children:[g.jsx("li",{children:""}),g.jsx("li",{children:""}),g.jsx("li",{children:""})]}),g.jsx("h3",{style:{color:"#000000ff",marginBottom:"24px"},children:""}),g.jsxs("ul",{style:{color:"#000000ff",marginBottom:"24px"},children:[g.jsx("li",{children:""}),g.jsx("li",{children:""})]}),g.jsx("h3",{style:{color:"#000000ff",marginBottom:"24px"},children:""}),g.jsxs("ul",{style:{color:"#000000ff",marginBottom:"24px"},children:[g.jsx("li",{children:""}),g.jsx("li",{children:""})]}),g.jsx("h4",{children:"2025/10/10"}),g.jsx("br",{}),g.jsx("button",{onClick:()=>r("/"),style:{padding:"12px 28px",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",fontSize:"1rem",cursor:"pointer",boxShadow:"0 4px 12px rgba(221,36,118,0.25)",transition:"all 0.2s",alignItems:"center"},children:""})]})})}function ZD(){const r=Xt();return g.jsx("div",{style:{minHeight:"100vh",padding:"40px 20px",display:"flex",justifyContent:"center"},children:g.jsxs("div",{style:{width:"100%",maxWidth:"600px",background:"white",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0,0,0,0.1)",padding:"30px",display:"flex",flexDirection:"column"},children:[g.jsx("h1",{style:{textAlign:"center",marginBottom:"16px",color:"#333"},children:""}),g.jsx("p",{style:{color:"#000000ff",marginBottom:"24px"},children:""}),g.jsx("p",{style:{color:"#000000ff",marginBottom:"24px"},children:""}),g.jsx("p",{style:{color:"#000000ff",marginBottom:"24px"},children:""}),g.jsx("br",{}),g.jsxs("div",{style:{color:"#000000ff",marginBottom:"24px"},children:["",g.jsxs("ul",{children:[g.jsx("li",{children:"chris20090731@gmail.com"}),g.jsx("br",{}),g.jsx("li",{children:"ck11300329@gl.ck.tp.edu.tw"}),g.jsx("br",{}),g.jsx("li",{children:"ckhssc@gl.ck.tp.edu.tw"})]})]}),g.jsx("br",{}),g.jsx("button",{onClick:()=>open("https://forms.gle/Grnk7FXfrXDQutE87","_blank"),style:{padding:"12px 28px",background:"linear-gradient(90deg, #2f97ffff 0%, #7724ddff 100%)",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",fontSize:"1rem",cursor:"pointer",boxShadow:"0 4px 12px rgba(36, 82, 221, 0.25)",transition:"all 0.2s",alignItems:"center"},children:""}),g.jsx("br",{}),g.jsx("button",{onClick:()=>r("/"),style:{padding:"12px 28px",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",fontSize:"1rem",cursor:"pointer",boxShadow:"0 4px 12px rgba(221,36,118,0.25)",transition:"all 0.2s",alignItems:"center"},children:""})]})})}var Uh={exports:{}},eO=Uh.exports,H_;function tO(){return H_||(H_=1,(function(r,e){(function(t,n){n()})(eO,function(){function t(h,p){return typeof p>"u"?p={autoBom:!1}:typeof p!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(h.type)?new Blob(["\uFEFF",h],{type:h.type}):h}function n(h,p,x){var y=new XMLHttpRequest;y.open("GET",h),y.responseType="blob",y.onload=function(){f(y.response,p,x)},y.onerror=function(){console.error("could not download file")},y.send()}function i(h){var p=new XMLHttpRequest;p.open("HEAD",h,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function o(h){try{h.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),h.dispatchEvent(p)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof dh=="object"&&dh.global===dh?dh:void 0,c=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(h,p,x){var y=l.URL||l.webkitURL,w=document.createElement("a");p=p||h.name||"download",w.download=p,w.rel="noopener",typeof h=="string"?(w.href=h,w.origin===location.origin?o(w):i(w.href)?n(h,p,x):o(w,w.target="_blank")):(w.href=y.createObjectURL(h),setTimeout(function(){y.revokeObjectURL(w.href)},4e4),setTimeout(function(){o(w)},0))}:"msSaveOrOpenBlob"in navigator?function(h,p,x){if(p=p||h.name||"download",typeof h!="string")navigator.msSaveOrOpenBlob(t(h,x),p);else if(i(h))n(h,p,x);else{var y=document.createElement("a");y.href=h,y.target="_blank",setTimeout(function(){o(y)})}}:function(h,p,x,y){if(y=y||open("","_blank"),y&&(y.document.title=y.document.body.innerText="downloading..."),typeof h=="string")return n(h,p,x);var w=h.type==="application/octet-stream",S=/constructor/i.test(l.HTMLElement)||l.safari,T=/CriOS\/[\d]+/.test(navigator.userAgent);if((T||w&&S||c)&&typeof FileReader<"u"){var A=new FileReader;A.onloadend=function(){var F=A.result;F=T?F:F.replace(/^data:[^;]*;/,"data:attachment/file;"),y?y.location.href=F:location=F,y=null},A.readAsDataURL(h)}else{var j=l.URL||l.webkitURL,U=j.createObjectURL(h);y?y.location=U:location.href=U,y=null,setTimeout(function(){j.revokeObjectURL(U)},4e4)}});l.saveAs=f.saveAs=f,r.exports=f})})(Uh)),Uh.exports}var rO=tO();/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var pd={};pd.version="0.18.5";var pS=1252,nO=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],gS=function(r){nO.indexOf(r)!=-1&&(pS=r)};function iO(){gS(1252)}var Du=function(r){gS(r)};function sO(){Du(1200),iO()}var Eh=function(e){return String.fromCharCode(e)},G_=function(e){return String.fromCharCode(e)},gd,Po="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ou(r){for(var e="",t=0,n=0,i=0,o=0,l=0,c=0,f=0,h=0;h<r.length;)t=r.charCodeAt(h++),o=t>>2,n=r.charCodeAt(h++),l=(t&3)<<4|n>>4,i=r.charCodeAt(h++),c=(n&15)<<2|i>>6,f=i&63,isNaN(n)?c=f=64:isNaN(i)&&(f=64),e+=Po.charAt(o)+Po.charAt(l)+Po.charAt(c)+Po.charAt(f);return e}function $s(r){var e="",t=0,n=0,i=0,o=0,l=0,c=0,f=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<r.length;)o=Po.indexOf(r.charAt(h++)),l=Po.indexOf(r.charAt(h++)),t=o<<2|l>>4,e+=String.fromCharCode(t),c=Po.indexOf(r.charAt(h++)),n=(l&15)<<4|c>>2,c!==64&&(e+=String.fromCharCode(n)),f=Po.indexOf(r.charAt(h++)),i=(c&3)<<6|f,f!==64&&(e+=String.fromCharCode(i));return e}var kt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),qs=(function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Ba(r){return kt?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function q_(r){return kt?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var Di=function(e){return kt?qs(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function s0(r){if(typeof ArrayBuffer>"u")return Di(r);for(var e=new ArrayBuffer(r.length),t=new Uint8Array(e),n=0;n!=r.length;++n)t[n]=r.charCodeAt(n)&255;return e}function Ju(r){if(Array.isArray(r))return r.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],t=0;t<r.length;++t)e[t]=String.fromCharCode(r[t]);return e.join("")}function oO(r){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(r)}var Xr=kt?function(r){return Buffer.concat(r.map(function(e){return Buffer.isBuffer(e)?e:qs(e)}))}:function(r){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<r.length;++e)t+=r[e].length;var n=new Uint8Array(t),i=0;for(e=0,t=0;e<r.length;t+=i,++e)if(i=r[e].length,r[e]instanceof Uint8Array)n.set(r[e],t);else{if(typeof r[e]=="string")throw"wtf";n.set(new Uint8Array(r[e]),t)}return n}return[].concat.apply([],r.map(function(o){return Array.isArray(o)?o:[].slice.call(o)}))};function aO(r){for(var e=[],t=0,n=r.length+250,i=Ba(r.length+255),o=0;o<r.length;++o){var l=r.charCodeAt(o);if(l<128)i[t++]=l;else if(l<2048)i[t++]=192|l>>6&31,i[t++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var c=r.charCodeAt(++o)&1023;i[t++]=240|l>>8&7,i[t++]=128|l>>2&63,i[t++]=128|c>>6&15|(l&3)<<4,i[t++]=128|c&63}else i[t++]=224|l>>12&15,i[t++]=128|l>>6&63,i[t++]=128|l&63;t>n&&(e.push(i.slice(0,t)),t=0,i=Ba(65535),n=65530)}return e.push(i.slice(0,t)),Xr(e)}var pu=/\u0000/g,Th=/[\u0001-\u0006]/g;function Xl(r){for(var e="",t=r.length-1;t>=0;)e+=r.charAt(t--);return e}function Li(r,e){var t=""+r;return t.length>=e?t:ar("0",e-t.length)+t}function n1(r,e){var t=""+r;return t.length>=e?t:ar(" ",e-t.length)+t}function md(r,e){var t=""+r;return t.length>=e?t:t+ar(" ",e-t.length)}function lO(r,e){var t=""+Math.round(r);return t.length>=e?t:ar("0",e-t.length)+t}function cO(r,e){var t=""+r;return t.length>=e?t:ar("0",e-t.length)+t}var K_=Math.pow(2,32);function Dl(r,e){if(r>K_||r<-K_)return lO(r,e);var t=Math.round(r);return cO(t,e)}function xd(r,e){return e=e||0,r.length>=7+e&&(r.charCodeAt(e)|32)===103&&(r.charCodeAt(e+1)|32)===101&&(r.charCodeAt(e+2)|32)===110&&(r.charCodeAt(e+3)|32)===101&&(r.charCodeAt(e+4)|32)===114&&(r.charCodeAt(e+5)|32)===97&&(r.charCodeAt(e+6)|32)===108}var X_=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],sg=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function uO(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"/ "hh""mm""ss" "',r}var lr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Y_={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},fO={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function yd(r,e,t){for(var n=r<0?-1:1,i=r*n,o=0,l=1,c=0,f=1,h=0,p=0,x=Math.floor(i);h<e&&(x=Math.floor(i),c=x*l+o,p=x*h+f,!(i-x<5e-8));)i=1/(i-x),o=l,l=c,f=h,h=p;if(p>e&&(h>e?(p=f,c=o):(p=h,c=l)),!t)return[0,n*c,p];var y=Math.floor(n*c/p);return[y,n*c-y*p,p]}function Sh(r,e,t){if(r>2958465||r<0)return null;var n=r|0,i=Math.floor(86400*(r-n)),o=0,l=[],c={D:n,T:i,u:86400*(r-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),e&&e.date1904&&(n+=1462),c.u>.9999&&(c.u=0,++i==86400&&(c.T=i=0,++n,++c.D)),n===60)l=t?[1317,10,29]:[1900,2,29],o=3;else if(n===0)l=t?[1317,8,29]:[1900,1,0],o=6;else{n>60&&--n;var f=new Date(1900,0,1);f.setDate(f.getDate()+n-1),l=[f.getFullYear(),f.getMonth()+1,f.getDate()],o=f.getDay(),n<60&&(o=(o+6)%7),t&&(o=yO(f,l))}return c.y=l[0],c.m=l[1],c.d=l[2],c.S=i%60,i=Math.floor(i/60),c.M=i%60,i=Math.floor(i/60),c.H=i,c.q=o,c}var mS=new Date(1899,11,31,0,0,0),hO=mS.getTime(),dO=new Date(1900,2,1,0,0,0);function xS(r,e){var t=r.getTime();return e?t-=1461*24*60*60*1e3:r>=dO&&(t+=1440*60*1e3),(t-(hO+(r.getTimezoneOffset()-mS.getTimezoneOffset())*6e4))/(1440*60*1e3)}function i1(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function pO(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function gO(r){var e=r<0?12:11,t=i1(r.toFixed(12));return t.length<=e||(t=r.toPrecision(10),t.length<=e)?t:r.toExponential(5)}function mO(r){var e=i1(r.toFixed(11));return e.length>(r<0?12:11)||e==="0"||e==="-0"?r.toPrecision(6):e}function xO(r){var e=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),t;return e>=-4&&e<=-1?t=r.toPrecision(10+e):Math.abs(e)<=9?t=gO(r):e===10?t=r.toFixed(10).substr(0,12):t=mO(r),i1(pO(t.toUpperCase()))}function Hg(r,e){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):xO(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return Go(14,xS(r,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+r)}function yO(r,e){e[0]-=581;var t=r.getDay();return r<60&&(t=(t+6)%7),t}function vO(r,e,t,n){var i="",o=0,l=0,c=t.y,f,h=0;switch(r){case 98:c=t.y+543;case 121:switch(e.length){case 1:case 2:f=c%100,h=2;break;default:f=c%1e4,h=4;break}break;case 109:switch(e.length){case 1:case 2:f=t.m,h=e.length;break;case 3:return sg[t.m-1][1];case 5:return sg[t.m-1][0];default:return sg[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:f=t.d,h=e.length;break;case 3:return X_[t.q][0];default:return X_[t.q][1]}break;case 104:switch(e.length){case 1:case 2:f=1+(t.H+11)%12,h=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:f=t.H,h=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:f=t.M,h=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?Li(t.S,e.length):(n>=2?l=n===3?1e3:100:l=n===1?10:1,o=Math.round(l*(t.S+t.u)),o>=60*l&&(o=0),e==="s"?o===0?"0":""+o/l:(i=Li(o,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":f=t.D*24+t.H;break;case"[m]":case"[mm]":f=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":f=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}h=e.length===3?1:2;break;case 101:f=c,h=1;break}var p=h>0?Li(f,h):"";return p}function No(r){var e=3;if(r.length<=e)return r;for(var t=r.length%e,n=r.substr(0,t);t!=r.length;t+=e)n+=(n.length>0?",":"")+r.substr(t,e);return n}var yS=/%/g;function _O(r,e,t){var n=e.replace(yS,""),i=e.length-n.length;return Ms(r,n,t*Math.pow(10,2*i))+ar("%",i)}function wO(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Ms(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function vS(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+vS(r,-e);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var o=Math.floor(Math.log(e)*Math.LOG10E)%i;if(o<0&&(o+=i),t=(e/Math.pow(10,o)).toPrecision(n+1+(i+o)%i),t.indexOf("e")===-1){var l=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(l-t.length+o):t+="E+"+(l-o);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,f,h,p){return f+h+p.substr(0,(i+o)%i)+"."+p.substr(o)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var _S=/# (\?+)( ?)\/( ?)(\d+)/;function EO(r,e,t){var n=parseInt(r[4],10),i=Math.round(e*n),o=Math.floor(i/n),l=i-o*n,c=n;return t+(o===0?"":""+o)+" "+(l===0?ar(" ",r[1].length+1+r[4].length):n1(l,r[1].length)+r[2]+"/"+r[3]+Li(c,r[4].length))}function TO(r,e,t){return t+(e===0?"":""+e)+ar(" ",r[1].length+2+r[4].length)}var wS=/^#*0*\.([0#]+)/,ES=/\).*[0#]/,TS=/\(###\) ###\\?-####/;function mn(r){for(var e="",t,n=0;n!=r.length;++n)switch(t=r.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function Q_(r,e){var t=Math.pow(10,e);return""+Math.round(r*t)/t}function J_(r,e){var t=r-Math.floor(r),n=Math.pow(10,e);return e<(""+Math.round(t*n)).length?0:Math.round(t*n)}function SO(r,e){return e<(""+Math.round((r-Math.floor(r))*Math.pow(10,e))).length?1:0}function AO(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function ai(r,e,t){if(r.charCodeAt(0)===40&&!e.match(ES)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?ai("n",n,t):"("+ai("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return wO(r,e,t);if(e.indexOf("%")!==-1)return _O(r,e,t);if(e.indexOf("E")!==-1)return vS(e,t);if(e.charCodeAt(0)===36)return"$"+ai(r,e.substr(e.charAt(1)==" "?2:1),t);var i,o,l,c,f=Math.abs(t),h=t<0?"-":"";if(e.match(/^00+$/))return h+Dl(f,e.length);if(e.match(/^[#?]+$/))return i=Dl(t,0),i==="0"&&(i=""),i.length>e.length?i:mn(e.substr(0,e.length-i.length))+i;if(o=e.match(_S))return EO(o,f,h);if(e.match(/^#+0+$/))return h+Dl(f,e.length-e.indexOf("0"));if(o=e.match(wS))return i=Q_(t,o[1].length).replace(/^([^\.]+)$/,"$1."+mn(o[1])).replace(/\.$/,"."+mn(o[1])).replace(/\.(\d*)$/,function(S,T){return"."+T+ar("0",mn(o[1]).length-T.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),o=e.match(/^(0*)\.(#*)$/))return h+Q_(f,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=e.match(/^#{1,3},##0(\.?)$/))return h+No(Dl(f,0));if(o=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+ai(r,e,-t):No(""+(Math.floor(t)+SO(t,o[1].length)))+"."+Li(J_(t,o[1].length),o[1].length);if(o=e.match(/^#,#*,#0/))return ai(r,e.replace(/^#,#*,/,""),t);if(o=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Xl(ai(r,e.replace(/[\\-]/g,""),t)),l=0,Xl(Xl(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return l<i.length?i.charAt(l++):S==="0"?"0":""}));if(e.match(TS))return i=ai(r,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var p="";if(o=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(o[4].length,7),c=yd(f,Math.pow(10,l)-1,!1),i=""+h,p=Ms("n",o[1],c[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),i+=p+o[2]+"/"+o[3],p=md(c[2],l),p.length<o[4].length&&(p=mn(o[4].substr(o[4].length-p.length))+p),i+=p,i;if(o=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(o[1].length,o[4].length),7),c=yd(f,Math.pow(10,l)-1,!0),h+(c[0]||(c[1]?"":"0"))+" "+(c[1]?n1(c[1],l)+o[2]+"/"+o[3]+md(c[2],l):ar(" ",2*l+1+o[2].length+o[3].length));if(o=e.match(/^[#0?]+$/))return i=Dl(t,0),e.length<=i.length?i:mn(e.substr(0,e.length-i.length))+i;if(o=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var x=e.indexOf(".")-l,y=e.length-i.length-x;return mn(e.substr(0,x)+i+e.substr(e.length-y))}if(o=e.match(/^00,000\.([#0]*0)$/))return l=J_(t,o[1].length),t<0?"-"+ai(r,e,-t):No(AO(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?Li(0,3-S.length):"")+S})+"."+Li(l,o[1].length);switch(e){case"###,##0.00":return ai(r,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var w=No(Dl(f,0));return w!=="0"?h+w:"";case"###,###.00":return ai(r,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return ai(r,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function IO(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Ms(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function CO(r,e,t){var n=e.replace(yS,""),i=e.length-n.length;return Ms(r,n,t*Math.pow(10,2*i))+ar("%",i)}function SS(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+SS(r,-e);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var o=Math.floor(Math.log(e)*Math.LOG10E)%i;if(o<0&&(o+=i),t=(e/Math.pow(10,o)).toPrecision(n+1+(i+o)%i),!t.match(/[Ee]/)){var l=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(l-t.length+o):t+="E+"+(l-o),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,f,h,p){return f+h+p.substr(0,(i+o)%i)+"."+p.substr(o)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function rs(r,e,t){if(r.charCodeAt(0)===40&&!e.match(ES)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?rs("n",n,t):"("+rs("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return IO(r,e,t);if(e.indexOf("%")!==-1)return CO(r,e,t);if(e.indexOf("E")!==-1)return SS(e,t);if(e.charCodeAt(0)===36)return"$"+rs(r,e.substr(e.charAt(1)==" "?2:1),t);var i,o,l,c,f=Math.abs(t),h=t<0?"-":"";if(e.match(/^00+$/))return h+Li(f,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:mn(e.substr(0,e.length-i.length))+i;if(o=e.match(_S))return TO(o,f,h);if(e.match(/^#+0+$/))return h+Li(f,e.length-e.indexOf("0"));if(o=e.match(wS))return i=(""+t).replace(/^([^\.]+)$/,"$1."+mn(o[1])).replace(/\.$/,"."+mn(o[1])),i=i.replace(/\.(\d*)$/,function(S,T){return"."+T+ar("0",mn(o[1]).length-T.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),o=e.match(/^(0*)\.(#*)$/))return h+(""+f).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=e.match(/^#{1,3},##0(\.?)$/))return h+No(""+f);if(o=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+rs(r,e,-t):No(""+t)+"."+ar("0",o[1].length);if(o=e.match(/^#,#*,#0/))return rs(r,e.replace(/^#,#*,/,""),t);if(o=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Xl(rs(r,e.replace(/[\\-]/g,""),t)),l=0,Xl(Xl(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return l<i.length?i.charAt(l++):S==="0"?"0":""}));if(e.match(TS))return i=rs(r,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var p="";if(o=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(o[4].length,7),c=yd(f,Math.pow(10,l)-1,!1),i=""+h,p=Ms("n",o[1],c[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),i+=p+o[2]+"/"+o[3],p=md(c[2],l),p.length<o[4].length&&(p=mn(o[4].substr(o[4].length-p.length))+p),i+=p,i;if(o=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(o[1].length,o[4].length),7),c=yd(f,Math.pow(10,l)-1,!0),h+(c[0]||(c[1]?"":"0"))+" "+(c[1]?n1(c[1],l)+o[2]+"/"+o[3]+md(c[2],l):ar(" ",2*l+1+o[2].length+o[3].length));if(o=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:mn(e.substr(0,e.length-i.length))+i;if(o=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var x=e.indexOf(".")-l,y=e.length-i.length-x;return mn(e.substr(0,x)+i+e.substr(e.length-y))}if(o=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+rs(r,e,-t):No(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?Li(0,3-S.length):"")+S})+"."+Li(0,o[1].length);switch(e){case"###,###":case"##,###":case"#,###":var w=No(""+f);return w!=="0"?h+w:"";default:if(e.match(/\.[0#?]*$/))return rs(r,e.slice(0,e.lastIndexOf(".")),t)+mn(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Ms(r,e,t){return(t|0)===t?rs(r,e,t):ai(r,e,t)}function RO(r){for(var e=[],t=!1,n=0,i=0;n<r.length;++n)switch(r.charCodeAt(n)){case 34:t=!t;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=r.substr(i,n-i),i=n+1}if(e[e.length]=r.substr(i),t===!0)throw new Error("Format |"+r+"| unterminated string ");return e}var AS=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function IS(r){for(var e=0,t="",n="";e<r.length;)switch(t=r.charAt(e)){case"G":xd(r,e)&&(e+=6),e++;break;case'"':for(;r.charCodeAt(++e)!==34&&e<r.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(r.charAt(e+1)==="1"||r.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(r.substr(e,3).toUpperCase()==="A/P"||r.substr(e,5).toUpperCase()==="AM/PM"||r.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=t;r.charAt(e++)!=="]"&&e<r.length;)n+=r.charAt(e);if(n.match(AS))return!0;break;case".":case"0":case"#":for(;e<r.length&&("0#?.,E+-%".indexOf(t=r.charAt(++e))>-1||t=="\\"&&r.charAt(e+1)=="-"&&"0#".indexOf(r.charAt(e+2))>-1););break;case"?":for(;r.charAt(++e)===t;);break;case"*":++e,(r.charAt(e)==" "||r.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<r.length&&"0123456789".indexOf(r.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function kO(r,e,t,n){for(var i=[],o="",l=0,c="",f="t",h,p,x,y="H";l<r.length;)switch(c=r.charAt(l)){case"G":if(!xd(r,l))throw new Error("unrecognized character "+c+" in "+r);i[i.length]={t:"G",v:"General"},l+=7;break;case'"':for(o="";(x=r.charCodeAt(++l))!==34&&l<r.length;)o+=String.fromCharCode(x);i[i.length]={t:"t",v:o},++l;break;case"\\":var w=r.charAt(++l),S=w==="("||w===")"?w:"t";i[i.length]={t:S,v:w},++l;break;case"_":i[i.length]={t:"t",v:" "},l+=2;break;case"@":i[i.length]={t:"T",v:e},++l;break;case"B":case"b":if(r.charAt(l+1)==="1"||r.charAt(l+1)==="2"){if(h==null&&(h=Sh(e,t,r.charAt(l+1)==="2"),h==null))return"";i[i.length]={t:"X",v:r.substr(l,2)},f=c,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||h==null&&(h=Sh(e,t),h==null))return"";for(o=c;++l<r.length&&r.charAt(l).toLowerCase()===c;)o+=c;c==="m"&&f.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=y),i[i.length]={t:c,v:o},f=c;break;case"A":case"a":case"":var T={t:c,v:c};if(h==null&&(h=Sh(e,t)),r.substr(l,3).toUpperCase()==="A/P"?(h!=null&&(T.v=h.H>=12?"P":"A"),T.t="T",y="h",l+=3):r.substr(l,5).toUpperCase()==="AM/PM"?(h!=null&&(T.v=h.H>=12?"PM":"AM"),T.t="T",l+=5,y="h"):r.substr(l,5).toUpperCase()==="/"?(h!=null&&(T.v=h.H>=12?"":""),T.t="T",l+=5,y="h"):(T.t="t",++l),h==null&&T.t==="T")return"";i[i.length]=T,f=c;break;case"[":for(o=c;r.charAt(l++)!=="]"&&l<r.length;)o+=r.charAt(l);if(o.slice(-1)!=="]")throw'unterminated "[" block: |'+o+"|";if(o.match(AS)){if(h==null&&(h=Sh(e,t),h==null))return"";i[i.length]={t:"Z",v:o.toLowerCase()},f=o.charAt(1)}else o.indexOf("$")>-1&&(o=(o.match(/\$([^-\[\]]*)/)||[])[1]||"$",IS(r)||(i[i.length]={t:"t",v:o}));break;case".":if(h!=null){for(o=c;++l<r.length&&(c=r.charAt(l))==="0";)o+=c;i[i.length]={t:"s",v:o};break}case"0":case"#":for(o=c;++l<r.length&&"0#?.,E+-%".indexOf(c=r.charAt(l))>-1;)o+=c;i[i.length]={t:"n",v:o};break;case"?":for(o=c;r.charAt(++l)===c;)o+=c;i[i.length]={t:c,v:o},f=c;break;case"*":++l,(r.charAt(l)==" "||r.charAt(l)=="*")&&++l;break;case"(":case")":i[i.length]={t:n===1?"t":c,v:c},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(o=c;l<r.length&&"0123456789".indexOf(r.charAt(++l))>-1;)o+=r.charAt(l);i[i.length]={t:"D",v:o};break;case" ":i[i.length]={t:c,v:c},++l;break;case"$":i[i.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+r);i[i.length]={t:"t",v:c},++l;break}var A=0,j=0,U;for(l=i.length-1,f="t";l>=0;--l)switch(i[l].t){case"h":case"H":i[l].t=y,f="h",A<1&&(A=1);break;case"s":(U=i[l].v.match(/\.0+$/))&&(j=Math.max(j,U[0].length-1)),A<3&&(A=3);case"d":case"y":case"M":case"e":f=i[l].t;break;case"m":f==="s"&&(i[l].t="M",A<2&&(A=2));break;case"X":break;case"Z":A<1&&i[l].v.match(/[Hh]/)&&(A=1),A<2&&i[l].v.match(/[Mm]/)&&(A=2),A<3&&i[l].v.match(/[Ss]/)&&(A=3)}switch(A){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var F="",Q;for(l=0;l<i.length;++l)switch(i[l].t){case"t":case"T":case" ":case"D":break;case"X":i[l].v="",i[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[l].v=vO(i[l].t.charCodeAt(0),i[l].v,h,j),i[l].t="t";break;case"n":case"?":for(Q=l+1;i[Q]!=null&&((c=i[Q].t)==="?"||c==="D"||(c===" "||c==="t")&&i[Q+1]!=null&&(i[Q+1].t==="?"||i[Q+1].t==="t"&&i[Q+1].v==="/")||i[l].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(i[Q].v==="/"||i[Q].v===" "&&i[Q+1]!=null&&i[Q+1].t=="?"));)i[l].v+=i[Q].v,i[Q]={v:"",t:";"},++Q;F+=i[l].v,l=Q-1;break;case"G":i[l].t="t",i[l].v=Hg(e,t);break}var ne="",he,k;if(F.length>0){F.charCodeAt(0)==40?(he=e<0&&F.charCodeAt(0)===45?-e:e,k=Ms("n",F,he)):(he=e<0&&n>1?-e:e,k=Ms("n",F,he),he<0&&i[0]&&i[0].t=="t"&&(k=k.substr(1),i[0].v="-"+i[0].v)),Q=k.length-1;var R=i.length;for(l=0;l<i.length;++l)if(i[l]!=null&&i[l].t!="t"&&i[l].v.indexOf(".")>-1){R=l;break}var C=i.length;if(R===i.length&&k.indexOf("E")===-1){for(l=i.length-1;l>=0;--l)i[l]==null||"n?".indexOf(i[l].t)===-1||(Q>=i[l].v.length-1?(Q-=i[l].v.length,i[l].v=k.substr(Q+1,i[l].v.length)):Q<0?i[l].v="":(i[l].v=k.substr(0,Q+1),Q=-1),i[l].t="t",C=l);Q>=0&&C<i.length&&(i[C].v=k.substr(0,Q+1)+i[C].v)}else if(R!==i.length&&k.indexOf("E")===-1){for(Q=k.indexOf(".")-1,l=R;l>=0;--l)if(!(i[l]==null||"n?".indexOf(i[l].t)===-1)){for(p=i[l].v.indexOf(".")>-1&&l===R?i[l].v.indexOf(".")-1:i[l].v.length-1,ne=i[l].v.substr(p+1);p>=0;--p)Q>=0&&(i[l].v.charAt(p)==="0"||i[l].v.charAt(p)==="#")&&(ne=k.charAt(Q--)+ne);i[l].v=ne,i[l].t="t",C=l}for(Q>=0&&C<i.length&&(i[C].v=k.substr(0,Q+1)+i[C].v),Q=k.indexOf(".")+1,l=R;l<i.length;++l)if(!(i[l]==null||"n?(".indexOf(i[l].t)===-1&&l!==R)){for(p=i[l].v.indexOf(".")>-1&&l===R?i[l].v.indexOf(".")+1:0,ne=i[l].v.substr(0,p);p<i[l].v.length;++p)Q<k.length&&(ne+=k.charAt(Q++));i[l].v=ne,i[l].t="t",C=l}}}for(l=0;l<i.length;++l)i[l]!=null&&"n?".indexOf(i[l].t)>-1&&(he=n>1&&e<0&&l>0&&i[l-1].v==="-"?-e:e,i[l].v=Ms(i[l].t,i[l].v,he),i[l].t="t");var D="";for(l=0;l!==i.length;++l)i[l]!=null&&(D+=i[l].v);return D}var Z_=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function e2(r,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(r==t)return!0;break;case">":if(r>t)return!0;break;case"<":if(r<t)return!0;break;case"<>":if(r!=t)return!0;break;case">=":if(r>=t)return!0;break;case"<=":if(r<=t)return!0;break}return!1}function bO(r,e){var t=RO(r),n=t.length,i=t[n-1].indexOf("@");if(n<4&&i>-1&&--n,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var o=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[n,o];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var l=t[0].match(Z_),c=t[1].match(Z_);return e2(e,l)?[n,t[0]]:e2(e,c)?[n,t[1]]:[n,t[l!=null&&c!=null?2:1]]}return[n,o]}function Go(r,e,t){t==null&&(t={});var n="";switch(typeof r){case"string":r=="m/d/yy"&&t.dateNF?n=t.dateNF:n=r;break;case"number":r==14&&t.dateNF?n=t.dateNF:n=(t.table!=null?t.table:lr)[r],n==null&&(n=t.table&&t.table[Y_[r]]||lr[Y_[r]]),n==null&&(n=fO[r]||"General");break}if(xd(n,0))return Hg(e,t);e instanceof Date&&(e=xS(e,t.date1904));var i=bO(n,e);if(xd(i[1]))return Hg(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return kO(i[1],e,t,i[0])}function CS(r,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(lr[t]==null){e<0&&(e=t);continue}if(lr[t]==r){e=t;break}}e<0&&(e=391)}return lr[e]=r,e}function o0(r){for(var e=0;e!=392;++e)r[e]!==void 0&&CS(r[e],e)}function a0(){lr=uO()}var RS=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function PO(r){var e=typeof r=="number"?lr[r]:r;return e=e.replace(RS,"(\\d+)"),new RegExp("^"+e+"$")}function NO(r,e,t){var n=-1,i=-1,o=-1,l=-1,c=-1,f=-1;(e.match(RS)||[]).forEach(function(x,y){var w=parseInt(t[y+1],10);switch(x.toLowerCase().charAt(0)){case"y":n=w;break;case"d":o=w;break;case"h":l=w;break;case"s":f=w;break;case"m":l>=0?c=w:i=w;break}}),f>=0&&c==-1&&i>=0&&(c=i,i=-1);var h=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var p=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2);return l==-1&&c==-1&&f==-1?h:n==-1&&i==-1&&o==-1?p:h+"T"+p}var DO=(function(){var r={};r.version="1.2.0";function e(){for(var k=0,R=new Array(256),C=0;C!=256;++C)k=C,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,R[C]=k;return typeof Int32Array<"u"?new Int32Array(R):R}var t=e();function n(k){var R=0,C=0,D=0,L=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(D=0;D!=256;++D)L[D]=k[D];for(D=0;D!=256;++D)for(C=k[D],R=256+D;R<4096;R+=256)C=L[R]=C>>>8^k[C&255];var V=[];for(D=1;D!=16;++D)V[D-1]=typeof Int32Array<"u"?L.subarray(D*256,D*256+256):L.slice(D*256,D*256+256);return V}var i=n(t),o=i[0],l=i[1],c=i[2],f=i[3],h=i[4],p=i[5],x=i[6],y=i[7],w=i[8],S=i[9],T=i[10],A=i[11],j=i[12],U=i[13],F=i[14];function Q(k,R){for(var C=R^-1,D=0,L=k.length;D<L;)C=C>>>8^t[(C^k.charCodeAt(D++))&255];return~C}function ne(k,R){for(var C=R^-1,D=k.length-15,L=0;L<D;)C=F[k[L++]^C&255]^U[k[L++]^C>>8&255]^j[k[L++]^C>>16&255]^A[k[L++]^C>>>24]^T[k[L++]]^S[k[L++]]^w[k[L++]]^y[k[L++]]^x[k[L++]]^p[k[L++]]^h[k[L++]]^f[k[L++]]^c[k[L++]]^l[k[L++]]^o[k[L++]]^t[k[L++]];for(D+=15;L<D;)C=C>>>8^t[(C^k[L++])&255];return~C}function he(k,R){for(var C=R^-1,D=0,L=k.length,V=0,O=0;D<L;)V=k.charCodeAt(D++),V<128?C=C>>>8^t[(C^V)&255]:V<2048?(C=C>>>8^t[(C^(192|V>>6&31))&255],C=C>>>8^t[(C^(128|V&63))&255]):V>=55296&&V<57344?(V=(V&1023)+64,O=k.charCodeAt(D++)&1023,C=C>>>8^t[(C^(240|V>>8&7))&255],C=C>>>8^t[(C^(128|V>>2&63))&255],C=C>>>8^t[(C^(128|O>>6&15|(V&3)<<4))&255],C=C>>>8^t[(C^(128|O&63))&255]):(C=C>>>8^t[(C^(224|V>>12&15))&255],C=C>>>8^t[(C^(128|V>>6&63))&255],C=C>>>8^t[(C^(128|V&63))&255]);return~C}return r.table=t,r.bstr=Q,r.buf=ne,r.str=he,r})(),Vt=(function(){var e={};e.version="1.2.1";function t(P,W){for(var B=P.split("/"),z=W.split("/"),H=0,G=0,ae=Math.min(B.length,z.length);H<ae;++H){if(G=B[H].length-z[H].length)return G;if(B[H]!=z[H])return B[H]<z[H]?-1:1}return B.length-z.length}function n(P){if(P.charAt(P.length-1)=="/")return P.slice(0,-1).indexOf("/")===-1?P:n(P.slice(0,-1));var W=P.lastIndexOf("/");return W===-1?P:P.slice(0,W+1)}function i(P){if(P.charAt(P.length-1)=="/")return i(P.slice(0,-1));var W=P.lastIndexOf("/");return W===-1?P:P.slice(W+1)}function o(P,W){typeof W=="string"&&(W=new Date(W));var B=W.getHours();B=B<<6|W.getMinutes(),B=B<<5|W.getSeconds()>>>1,P.write_shift(2,B);var z=W.getFullYear()-1980;z=z<<4|W.getMonth()+1,z=z<<5|W.getDate(),P.write_shift(2,z)}function l(P){var W=P.read_shift(2)&65535,B=P.read_shift(2)&65535,z=new Date,H=B&31;B>>>=5;var G=B&15;B>>>=4,z.setMilliseconds(0),z.setFullYear(B+1980),z.setMonth(G-1),z.setDate(H);var ae=W&31;W>>>=5;var xe=W&63;return W>>>=6,z.setHours(W),z.setMinutes(xe),z.setSeconds(ae<<1),z}function c(P){Wn(P,0);for(var W={},B=0;P.l<=P.length-4;){var z=P.read_shift(2),H=P.read_shift(2),G=P.l+H,ae={};switch(z){case 21589:B=P.read_shift(1),B&1&&(ae.mtime=P.read_shift(4)),H>5&&(B&2&&(ae.atime=P.read_shift(4)),B&4&&(ae.ctime=P.read_shift(4))),ae.mtime&&(ae.mt=new Date(ae.mtime*1e3));break}P.l=G,W[z]=ae}return W}var f;function h(){return f||(f={})}function p(P,W){if(P[0]==80&&P[1]==75)return ms(P,W);if((P[0]|32)==109&&(P[1]|32)==105)return sa(P,W);if(P.length<512)throw new Error("CFB file size "+P.length+" < 512");var B=3,z=512,H=0,G=0,ae=0,xe=0,le=0,ue=[],fe=P.slice(0,512);Wn(fe,0);var be=x(fe);switch(B=be[0],B){case 3:z=512;break;case 4:z=4096;break;case 0:if(be[1]==0)return ms(P,W);default:throw new Error("Major Version: Expected 3 or 4 saw "+B)}z!==512&&(fe=P.slice(0,z),Wn(fe,28));var je=P.slice(0,z);y(fe,B);var We=fe.read_shift(4,"i");if(B===3&&We!==0)throw new Error("# Directory Sectors: Expected 0 saw "+We);fe.l+=4,ae=fe.read_shift(4,"i"),fe.l+=4,fe.chk("00100000","Mini Stream Cutoff Size: "),xe=fe.read_shift(4,"i"),H=fe.read_shift(4,"i"),le=fe.read_shift(4,"i"),G=fe.read_shift(4,"i");for(var Oe=-1,Pe=0;Pe<109&&(Oe=fe.read_shift(4,"i"),!(Oe<0));++Pe)ue[Pe]=Oe;var st=w(P,z);A(le,G,st,z,ue);var Rt=U(st,ae,ue,z);Rt[ae].name="!Directory",H>0&&xe!==O&&(Rt[xe].name="!MiniFAT"),Rt[ue[0]].name="!FAT",Rt.fat_addrs=ue,Rt.ssz=z;var St={},Nt=[],vi=[],Gi=[];F(ae,Rt,st,Nt,H,St,vi,xe),S(vi,Gi,Nt),Nt.shift();var Fn={FileIndex:vi,FullPaths:Gi};return W&&W.raw&&(Fn.raw={header:je,sectors:st}),Fn}function x(P){if(P[P.l]==80&&P[P.l+1]==75)return[0,0];P.chk(Me,"Header Signature: "),P.l+=16;var W=P.read_shift(2,"u");return[P.read_shift(2,"u"),W]}function y(P,W){var B=9;switch(P.l+=2,B=P.read_shift(2)){case 9:if(W!=3)throw new Error("Sector Shift: Expected 9 saw "+B);break;case 12:if(W!=4)throw new Error("Sector Shift: Expected 12 saw "+B);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+B)}P.chk("0600","Mini Sector Shift: "),P.chk("000000000000","Reserved: ")}function w(P,W){for(var B=Math.ceil(P.length/W)-1,z=[],H=1;H<B;++H)z[H-1]=P.slice(H*W,(H+1)*W);return z[B-1]=P.slice(B*W),z}function S(P,W,B){for(var z=0,H=0,G=0,ae=0,xe=0,le=B.length,ue=[],fe=[];z<le;++z)ue[z]=fe[z]=z,W[z]=B[z];for(;xe<fe.length;++xe)z=fe[xe],H=P[z].L,G=P[z].R,ae=P[z].C,ue[z]===z&&(H!==-1&&ue[H]!==H&&(ue[z]=ue[H]),G!==-1&&ue[G]!==G&&(ue[z]=ue[G])),ae!==-1&&(ue[ae]=z),H!==-1&&z!=ue[z]&&(ue[H]=ue[z],fe.lastIndexOf(H)<xe&&fe.push(H)),G!==-1&&z!=ue[z]&&(ue[G]=ue[z],fe.lastIndexOf(G)<xe&&fe.push(G));for(z=1;z<le;++z)ue[z]===z&&(G!==-1&&ue[G]!==G?ue[z]=ue[G]:H!==-1&&ue[H]!==H&&(ue[z]=ue[H]));for(z=1;z<le;++z)if(P[z].type!==0){if(xe=z,xe!=ue[xe])do xe=ue[xe],W[z]=W[xe]+"/"+W[z];while(xe!==0&&ue[xe]!==-1&&xe!=ue[xe]);ue[z]=-1}for(W[0]+="/",z=1;z<le;++z)P[z].type!==2&&(W[z]+="/")}function T(P,W,B){for(var z=P.start,H=P.size,G=[],ae=z;B&&H>0&&ae>=0;)G.push(W.slice(ae*V,ae*V+V)),H-=V,ae=Aa(B,ae*4);return G.length===0?ye(0):Xr(G).slice(0,P.size)}function A(P,W,B,z,H){var G=O;if(P===O){if(W!==0)throw new Error("DIFAT chain shorter than expected")}else if(P!==-1){var ae=B[P],xe=(z>>>2)-1;if(!ae)return;for(var le=0;le<xe&&(G=Aa(ae,le*4))!==O;++le)H.push(G);A(Aa(ae,z-4),W-1,B,z,H)}}function j(P,W,B,z,H){var G=[],ae=[];H||(H=[]);var xe=z-1,le=0,ue=0;for(le=W;le>=0;){H[le]=!0,G[G.length]=le,ae.push(P[le]);var fe=B[Math.floor(le*4/z)];if(ue=le*4&xe,z<4+ue)throw new Error("FAT boundary crossed: "+le+" 4 "+z);if(!P[fe])break;le=Aa(P[fe],ue)}return{nodes:G,data:l2([ae])}}function U(P,W,B,z){var H=P.length,G=[],ae=[],xe=[],le=[],ue=z-1,fe=0,be=0,je=0,We=0;for(fe=0;fe<H;++fe)if(xe=[],je=fe+W,je>=H&&(je-=H),!ae[je]){le=[];var Oe=[];for(be=je;be>=0;){Oe[be]=!0,ae[be]=!0,xe[xe.length]=be,le.push(P[be]);var Pe=B[Math.floor(be*4/z)];if(We=be*4&ue,z<4+We)throw new Error("FAT boundary crossed: "+be+" 4 "+z);if(!P[Pe]||(be=Aa(P[Pe],We),Oe[be]))break}G[je]={nodes:xe,data:l2([le])}}return G}function F(P,W,B,z,H,G,ae,xe){for(var le=0,ue=z.length?2:0,fe=W[P].data,be=0,je=0,We;be<fe.length;be+=128){var Oe=fe.slice(be,be+128);Wn(Oe,64),je=Oe.read_shift(2),We=c1(Oe,0,je-ue),z.push(We);var Pe={name:We,type:Oe.read_shift(1),color:Oe.read_shift(1),L:Oe.read_shift(4,"i"),R:Oe.read_shift(4,"i"),C:Oe.read_shift(4,"i"),clsid:Oe.read_shift(16),state:Oe.read_shift(4,"i"),start:0,size:0},st=Oe.read_shift(2)+Oe.read_shift(2)+Oe.read_shift(2)+Oe.read_shift(2);st!==0&&(Pe.ct=Q(Oe,Oe.l-8));var Rt=Oe.read_shift(2)+Oe.read_shift(2)+Oe.read_shift(2)+Oe.read_shift(2);Rt!==0&&(Pe.mt=Q(Oe,Oe.l-8)),Pe.start=Oe.read_shift(4,"i"),Pe.size=Oe.read_shift(4,"i"),Pe.size<0&&Pe.start<0&&(Pe.size=Pe.type=0,Pe.start=O,Pe.name=""),Pe.type===5?(le=Pe.start,H>0&&le!==O&&(W[le].name="!StreamData")):Pe.size>=4096?(Pe.storage="fat",W[Pe.start]===void 0&&(W[Pe.start]=j(B,Pe.start,W.fat_addrs,W.ssz)),W[Pe.start].name=Pe.name,Pe.content=W[Pe.start].data.slice(0,Pe.size)):(Pe.storage="minifat",Pe.size<0?Pe.size=0:le!==O&&Pe.start!==O&&W[le]&&(Pe.content=T(Pe,W[le].data,(W[xe]||{}).data))),Pe.content&&Wn(Pe.content,0),G[We]=Pe,ae.push(Pe)}}function Q(P,W){return new Date((Hn(P,W+4)/1e7*Math.pow(2,32)+Hn(P,W)/1e7-11644473600)*1e3)}function ne(P,W){return h(),p(f.readFileSync(P),W)}function he(P,W){var B=W&&W.type;switch(B||kt&&Buffer.isBuffer(P)&&(B="buffer"),B||"base64"){case"file":return ne(P,W);case"base64":return p(Di($s(P)),W);case"binary":return p(Di(P),W)}return p(P,W)}function k(P,W){var B=W||{},z=B.root||"Root Entry";if(P.FullPaths||(P.FullPaths=[]),P.FileIndex||(P.FileIndex=[]),P.FullPaths.length!==P.FileIndex.length)throw new Error("inconsistent CFB structure");P.FullPaths.length===0&&(P.FullPaths[0]=z+"/",P.FileIndex[0]={name:z,type:5}),B.CLSID&&(P.FileIndex[0].clsid=B.CLSID),R(P)}function R(P){var W="Sh33tJ5";if(!Vt.find(P,"/"+W)){var B=ye(4);B[0]=55,B[1]=B[3]=50,B[2]=54,P.FileIndex.push({name:W,type:2,content:B,size:4,L:69,R:69,C:69}),P.FullPaths.push(P.FullPaths[0]+W),C(P)}}function C(P,W){k(P);for(var B=!1,z=!1,H=P.FullPaths.length-1;H>=0;--H){var G=P.FileIndex[H];switch(G.type){case 0:z?B=!0:(P.FileIndex.pop(),P.FullPaths.pop());break;case 1:case 2:case 5:z=!0,isNaN(G.R*G.L*G.C)&&(B=!0),G.R>-1&&G.L>-1&&G.R==G.L&&(B=!0);break;default:B=!0;break}}if(!(!B&&!W)){var ae=new Date(1987,1,19),xe=0,le=Object.create?Object.create(null):{},ue=[];for(H=0;H<P.FullPaths.length;++H)le[P.FullPaths[H]]=!0,P.FileIndex[H].type!==0&&ue.push([P.FullPaths[H],P.FileIndex[H]]);for(H=0;H<ue.length;++H){var fe=n(ue[H][0]);z=le[fe],z||(ue.push([fe,{name:i(fe).replace("/",""),type:1,clsid:De,ct:ae,mt:ae,content:null}]),le[fe]=!0)}for(ue.sort(function(We,Oe){return t(We[0],Oe[0])}),P.FullPaths=[],P.FileIndex=[],H=0;H<ue.length;++H)P.FullPaths[H]=ue[H][0],P.FileIndex[H]=ue[H][1];for(H=0;H<ue.length;++H){var be=P.FileIndex[H],je=P.FullPaths[H];if(be.name=i(je).replace("/",""),be.L=be.R=be.C=-(be.color=1),be.size=be.content?be.content.length:0,be.start=0,be.clsid=be.clsid||De,H===0)be.C=ue.length>1?1:-1,be.size=0,be.type=5;else if(je.slice(-1)=="/"){for(xe=H+1;xe<ue.length&&n(P.FullPaths[xe])!=je;++xe);for(be.C=xe>=ue.length?-1:xe,xe=H+1;xe<ue.length&&n(P.FullPaths[xe])!=n(je);++xe);be.R=xe>=ue.length?-1:xe,be.type=1}else n(P.FullPaths[H+1]||"")==n(je)&&(be.R=H+1),be.type=2}}}function D(P,W){var B=W||{};if(B.fileType=="mad")return tr(P,B);switch(C(P),B.fileType){case"zip":return Qn(P,B)}var z=(function(We){for(var Oe=0,Pe=0,st=0;st<We.FileIndex.length;++st){var Rt=We.FileIndex[st];if(Rt.content){var St=Rt.content.length;St>0&&(St<4096?Oe+=St+63>>6:Pe+=St+511>>9)}}for(var Nt=We.FullPaths.length+3>>2,vi=Oe+7>>3,Gi=Oe+127>>7,Fn=vi+Pe+Nt+Gi,cr=Fn+127>>7,Zs=cr<=109?0:Math.ceil((cr-109)/127);Fn+cr+Zs+127>>7>cr;)Zs=++cr<=109?0:Math.ceil((cr-109)/127);var $t=[1,Zs,cr,Gi,Nt,Pe,Oe,0];return We.FileIndex[0].size=Oe<<6,$t[7]=(We.FileIndex[0].start=$t[0]+$t[1]+$t[2]+$t[3]+$t[4]+$t[5])+($t[6]+7>>3),$t})(P),H=ye(z[7]<<9),G=0,ae=0;{for(G=0;G<8;++G)H.write_shift(1,ee[G]);for(G=0;G<8;++G)H.write_shift(2,0);for(H.write_shift(2,62),H.write_shift(2,3),H.write_shift(2,65534),H.write_shift(2,9),H.write_shift(2,6),G=0;G<3;++G)H.write_shift(2,0);for(H.write_shift(4,0),H.write_shift(4,z[2]),H.write_shift(4,z[0]+z[1]+z[2]+z[3]-1),H.write_shift(4,0),H.write_shift(4,4096),H.write_shift(4,z[3]?z[0]+z[1]+z[2]-1:O),H.write_shift(4,z[3]),H.write_shift(-4,z[1]?z[0]-1:O),H.write_shift(4,z[1]),G=0;G<109;++G)H.write_shift(-4,G<z[2]?z[1]+G:-1)}if(z[1])for(ae=0;ae<z[1];++ae){for(;G<236+ae*127;++G)H.write_shift(-4,G<z[2]?z[1]+G:-1);H.write_shift(-4,ae===z[1]-1?O:ae+1)}var xe=function(We){for(ae+=We;G<ae-1;++G)H.write_shift(-4,G+1);We&&(++G,H.write_shift(-4,O))};for(ae=G=0,ae+=z[1];G<ae;++G)H.write_shift(-4,Ce.DIFSECT);for(ae+=z[2];G<ae;++G)H.write_shift(-4,Ce.FATSECT);xe(z[3]),xe(z[4]);for(var le=0,ue=0,fe=P.FileIndex[0];le<P.FileIndex.length;++le)fe=P.FileIndex[le],fe.content&&(ue=fe.content.length,!(ue<4096)&&(fe.start=ae,xe(ue+511>>9)));for(xe(z[6]+7>>3);H.l&511;)H.write_shift(-4,Ce.ENDOFCHAIN);for(ae=G=0,le=0;le<P.FileIndex.length;++le)fe=P.FileIndex[le],fe.content&&(ue=fe.content.length,!(!ue||ue>=4096)&&(fe.start=ae,xe(ue+63>>6)));for(;H.l&511;)H.write_shift(-4,Ce.ENDOFCHAIN);for(G=0;G<z[4]<<2;++G){var be=P.FullPaths[G];if(!be||be.length===0){for(le=0;le<17;++le)H.write_shift(4,0);for(le=0;le<3;++le)H.write_shift(4,-1);for(le=0;le<12;++le)H.write_shift(4,0);continue}fe=P.FileIndex[G],G===0&&(fe.start=fe.size?fe.start-1:O);var je=G===0&&B.root||fe.name;if(ue=2*(je.length+1),H.write_shift(64,je,"utf16le"),H.write_shift(2,ue),H.write_shift(1,fe.type),H.write_shift(1,fe.color),H.write_shift(-4,fe.L),H.write_shift(-4,fe.R),H.write_shift(-4,fe.C),fe.clsid)H.write_shift(16,fe.clsid,"hex");else for(le=0;le<4;++le)H.write_shift(4,0);H.write_shift(4,fe.state||0),H.write_shift(4,0),H.write_shift(4,0),H.write_shift(4,0),H.write_shift(4,0),H.write_shift(4,fe.start),H.write_shift(4,fe.size),H.write_shift(4,0)}for(G=1;G<P.FileIndex.length;++G)if(fe=P.FileIndex[G],fe.size>=4096)if(H.l=fe.start+1<<9,kt&&Buffer.isBuffer(fe.content))fe.content.copy(H,H.l,0,fe.size),H.l+=fe.size+511&-512;else{for(le=0;le<fe.size;++le)H.write_shift(1,fe.content[le]);for(;le&511;++le)H.write_shift(1,0)}for(G=1;G<P.FileIndex.length;++G)if(fe=P.FileIndex[G],fe.size>0&&fe.size<4096)if(kt&&Buffer.isBuffer(fe.content))fe.content.copy(H,H.l,0,fe.size),H.l+=fe.size+63&-64;else{for(le=0;le<fe.size;++le)H.write_shift(1,fe.content[le]);for(;le&63;++le)H.write_shift(1,0)}if(kt)H.l=H.length;else for(;H.l<H.length;)H.write_shift(1,0);return H}function L(P,W){var B=P.FullPaths.map(function(le){return le.toUpperCase()}),z=B.map(function(le){var ue=le.split("/");return ue[ue.length-(le.slice(-1)=="/"?2:1)]}),H=!1;W.charCodeAt(0)===47?(H=!0,W=B[0].slice(0,-1)+W):H=W.indexOf("/")!==-1;var G=W.toUpperCase(),ae=H===!0?B.indexOf(G):z.indexOf(G);if(ae!==-1)return P.FileIndex[ae];var xe=!G.match(Th);for(G=G.replace(pu,""),xe&&(G=G.replace(Th,"!")),ae=0;ae<B.length;++ae)if((xe?B[ae].replace(Th,"!"):B[ae]).replace(pu,"")==G||(xe?z[ae].replace(Th,"!"):z[ae]).replace(pu,"")==G)return P.FileIndex[ae];return null}var V=64,O=-2,Me="d0cf11e0a1b11ae1",ee=[208,207,17,224,161,177,26,225],De="00000000000000000000000000000000",Ce={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:O,FREESECT:-1,HEADER_SIGNATURE:Me,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:De,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function pe(P,W,B){h();var z=D(P,B);f.writeFileSync(W,z)}function Ee(P){for(var W=new Array(P.length),B=0;B<P.length;++B)W[B]=String.fromCharCode(P[B]);return W.join("")}function Ae(P,W){var B=D(P,W);switch(W&&W.type||"buffer"){case"file":return h(),f.writeFileSync(W.filename,B),B;case"binary":return typeof B=="string"?B:Ee(B);case"base64":return Ou(typeof B=="string"?B:Ee(B));case"buffer":if(kt)return Buffer.isBuffer(B)?B:qs(B);case"array":return typeof B=="string"?Di(B):B}return B}var J;function N(P){try{var W=P.InflateRaw,B=new W;if(B._processChunk(new Uint8Array([3,0]),B._finishFlushFlag),B.bytesRead)J=P;else throw new Error("zlib does not expose bytesRead")}catch(z){console.error("cannot use native zlib: "+(z.message||z))}}function q(P,W){if(!J)return Hi(P,W);var B=J.InflateRaw,z=new B,H=z._processChunk(P.slice(P.l),z._finishFlushFlag);return P.l+=z.bytesRead,H}function K(P){return J?J.deflateRawSync(P):mi(P)}var Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],_e=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ke(P){var W=(P<<1|P<<11)&139536|(P<<5|P<<15)&558144;return(W>>16|W>>8|W)&255}for(var Te=typeof Uint8Array<"u",me=Te?new Uint8Array(256):[],Qe=0;Qe<256;++Qe)me[Qe]=ke(Qe);function Ke(P,W){var B=me[P&255];return W<=8?B>>>8-W:(B=B<<8|me[P>>8&255],W<=16?B>>>16-W:(B=B<<8|me[P>>16&255],B>>>24-W))}function dt(P,W){var B=W&7,z=W>>>3;return(P[z]|(B<=6?0:P[z+1]<<8))>>>B&3}function Ze(P,W){var B=W&7,z=W>>>3;return(P[z]|(B<=5?0:P[z+1]<<8))>>>B&7}function it(P,W){var B=W&7,z=W>>>3;return(P[z]|(B<=4?0:P[z+1]<<8))>>>B&15}function et(P,W){var B=W&7,z=W>>>3;return(P[z]|(B<=3?0:P[z+1]<<8))>>>B&31}function Ue(P,W){var B=W&7,z=W>>>3;return(P[z]|(B<=1?0:P[z+1]<<8))>>>B&127}function mt(P,W,B){var z=W&7,H=W>>>3,G=(1<<B)-1,ae=P[H]>>>z;return B<8-z||(ae|=P[H+1]<<8-z,B<16-z)||(ae|=P[H+2]<<16-z,B<24-z)||(ae|=P[H+3]<<24-z),ae&G}function ft(P,W,B){var z=W&7,H=W>>>3;return z<=5?P[H]|=(B&7)<<z:(P[H]|=B<<z&255,P[H+1]=(B&7)>>8-z),W+3}function jt(P,W,B){var z=W&7,H=W>>>3;return B=(B&1)<<z,P[H]|=B,W+1}function Jt(P,W,B){var z=W&7,H=W>>>3;return B<<=z,P[H]|=B&255,B>>>=8,P[H+1]=B,W+8}function bt(P,W,B){var z=W&7,H=W>>>3;return B<<=z,P[H]|=B&255,B>>>=8,P[H+1]=B&255,P[H+2]=B>>>8,W+16}function fn(P,W){var B=P.length,z=2*B>W?2*B:W+5,H=0;if(B>=W)return P;if(kt){var G=q_(z);if(P.copy)P.copy(G);else for(;H<P.length;++H)G[H]=P[H];return G}else if(Te){var ae=new Uint8Array(z);if(ae.set)ae.set(P);else for(;H<B;++H)ae[H]=P[H];return ae}return P.length=z,P}function Br(P){for(var W=new Array(P),B=0;B<P;++B)W[B]=0;return W}function zi(P,W,B){var z=1,H=0,G=0,ae=0,xe=0,le=P.length,ue=Te?new Uint16Array(32):Br(32);for(G=0;G<32;++G)ue[G]=0;for(G=le;G<B;++G)P[G]=0;le=P.length;var fe=Te?new Uint16Array(le):Br(le);for(G=0;G<le;++G)ue[H=P[G]]++,z<H&&(z=H),fe[G]=0;for(ue[0]=0,G=1;G<=z;++G)ue[G+16]=xe=xe+ue[G-1]<<1;for(G=0;G<le;++G)xe=P[G],xe!=0&&(fe[G]=ue[xe+16]++);var be=0;for(G=0;G<le;++G)if(be=P[G],be!=0)for(xe=Ke(fe[G],z)>>z-be,ae=(1<<z+4-be)-1;ae>=0;--ae)W[xe|ae<<be]=be&15|G<<4;return z}var Zt=Te?new Uint16Array(512):Br(512),er=Te?new Uint16Array(32):Br(32);if(!Te){for(var Vr=0;Vr<512;++Vr)Zt[Vr]=0;for(Vr=0;Vr<32;++Vr)er[Vr]=0}(function(){for(var P=[],W=0;W<32;W++)P.push(5);zi(P,er,32);var B=[];for(W=0;W<=143;W++)B.push(8);for(;W<=255;W++)B.push(9);for(;W<=279;W++)B.push(7);for(;W<=287;W++)B.push(8);zi(B,Zt,288)})();var ea=(function(){for(var W=Te?new Uint8Array(32768):[],B=0,z=0;B<_e.length-1;++B)for(;z<_e[B+1];++z)W[z]=B;for(;z<32768;++z)W[z]=29;var H=Te?new Uint8Array(259):[];for(B=0,z=0;B<re.length-1;++B)for(;z<re[B+1];++z)H[z]=B;function G(xe,le){for(var ue=0;ue<xe.length;){var fe=Math.min(65535,xe.length-ue),be=ue+fe==xe.length;for(le.write_shift(1,+be),le.write_shift(2,fe),le.write_shift(2,~fe&65535);fe-- >0;)le[le.l++]=xe[ue++]}return le.l}function ae(xe,le){for(var ue=0,fe=0,be=Te?new Uint16Array(32768):[];fe<xe.length;){var je=Math.min(65535,xe.length-fe);if(je<10){for(ue=ft(le,ue,+(fe+je==xe.length)),ue&7&&(ue+=8-(ue&7)),le.l=ue/8|0,le.write_shift(2,je),le.write_shift(2,~je&65535);je-- >0;)le[le.l++]=xe[fe++];ue=le.l*8;continue}ue=ft(le,ue,+(fe+je==xe.length)+2);for(var We=0;je-- >0;){var Oe=xe[fe];We=(We<<5^Oe)&32767;var Pe=-1,st=0;if((Pe=be[We])&&(Pe|=fe&-32768,Pe>fe&&(Pe-=32768),Pe<fe))for(;xe[Pe+st]==xe[fe+st]&&st<250;)++st;if(st>2){Oe=H[st],Oe<=22?ue=Jt(le,ue,me[Oe+1]>>1)-1:(Jt(le,ue,3),ue+=5,Jt(le,ue,me[Oe-23]>>5),ue+=3);var Rt=Oe<8?0:Oe-4>>2;Rt>0&&(bt(le,ue,st-re[Oe]),ue+=Rt),Oe=W[fe-Pe],ue=Jt(le,ue,me[Oe]>>3),ue-=3;var St=Oe<4?0:Oe-2>>1;St>0&&(bt(le,ue,fe-Pe-_e[Oe]),ue+=St);for(var Nt=0;Nt<st;++Nt)be[We]=fe&32767,We=(We<<5^xe[fe])&32767,++fe;je-=st-1}else Oe<=143?Oe=Oe+48:ue=jt(le,ue,1),ue=Jt(le,ue,me[Oe]),be[We]=fe&32767,++fe}ue=Jt(le,ue,0)-1}return le.l=(ue+7)/8|0,le.l}return function(le,ue){return le.length<8?G(le,ue):ae(le,ue)}})();function mi(P){var W=ye(50+Math.floor(P.length*1.1)),B=ea(P,W);return W.slice(0,B)}var Wi=Te?new Uint16Array(32768):Br(32768),$i=Te?new Uint16Array(32768):Br(32768),Ks=Te?new Uint16Array(128):Br(128),Xs=1,Ys=1;function ta(P,W){var B=et(P,W)+257;W+=5;var z=et(P,W)+1;W+=5;var H=it(P,W)+4;W+=4;for(var G=0,ae=Te?new Uint8Array(19):Br(19),xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],le=1,ue=Te?new Uint8Array(8):Br(8),fe=Te?new Uint8Array(8):Br(8),be=ae.length,je=0;je<H;++je)ae[Y[je]]=G=Ze(P,W),le<G&&(le=G),ue[G]++,W+=3;var We=0;for(ue[0]=0,je=1;je<=le;++je)fe[je]=We=We+ue[je-1]<<1;for(je=0;je<be;++je)(We=ae[je])!=0&&(xe[je]=fe[We]++);var Oe=0;for(je=0;je<be;++je)if(Oe=ae[je],Oe!=0){We=me[xe[je]]>>8-Oe;for(var Pe=(1<<7-Oe)-1;Pe>=0;--Pe)Ks[We|Pe<<Oe]=Oe&7|je<<3}var st=[];for(le=1;st.length<B+z;)switch(We=Ks[Ue(P,W)],W+=We&7,We>>>=3){case 16:for(G=3+dt(P,W),W+=2,We=st[st.length-1];G-- >0;)st.push(We);break;case 17:for(G=3+Ze(P,W),W+=3;G-- >0;)st.push(0);break;case 18:for(G=11+Ue(P,W),W+=7;G-- >0;)st.push(0);break;default:st.push(We),le<We&&(le=We);break}var Rt=st.slice(0,B),St=st.slice(B);for(je=B;je<286;++je)Rt[je]=0;for(je=z;je<30;++je)St[je]=0;return Xs=zi(Rt,Wi,286),Ys=zi(St,$i,30),W}function ra(P,W){if(P[0]==3&&!(P[1]&3))return[Ba(W),2];for(var B=0,z=0,H=q_(W||1<<18),G=0,ae=H.length>>>0,xe=0,le=0;(z&1)==0;){if(z=Ze(P,B),B+=3,z>>>1)z>>1==1?(xe=9,le=5):(B=ta(P,B),xe=Xs,le=Ys);else{B&7&&(B+=8-(B&7));var ue=P[B>>>3]|P[(B>>>3)+1]<<8;if(B+=32,ue>0)for(!W&&ae<G+ue&&(H=fn(H,G+ue),ae=H.length);ue-- >0;)H[G++]=P[B>>>3],B+=8;continue}for(;;){!W&&ae<G+32767&&(H=fn(H,G+32767),ae=H.length);var fe=mt(P,B,xe),be=z>>>1==1?Zt[fe]:Wi[fe];if(B+=be&15,be>>>=4,(be>>>8&255)===0)H[G++]=be;else{if(be==256)break;be-=257;var je=be<8?0:be-4>>2;je>5&&(je=0);var We=G+re[be];je>0&&(We+=mt(P,B,je),B+=je),fe=mt(P,B,le),be=z>>>1==1?er[fe]:$i[fe],B+=be&15,be>>>=4;var Oe=be<4?0:be-2>>1,Pe=_e[be];for(Oe>0&&(Pe+=mt(P,B,Oe),B+=Oe),!W&&ae<We&&(H=fn(H,We+100),ae=H.length);G<We;)H[G]=H[G-Pe],++G}}}return W?[H,B+7>>>3]:[H.slice(0,G),B+7>>>3]}function Hi(P,W){var B=P.slice(P.l||0),z=ra(B,W);return P.l+=z[1],z[0]}function gs(P,W){if(P)typeof console<"u"&&console.error(W);else throw new Error(W)}function ms(P,W){var B=P;Wn(B,0);var z=[],H=[],G={FileIndex:z,FullPaths:H};k(G,{root:W.root});for(var ae=B.length-4;(B[ae]!=80||B[ae+1]!=75||B[ae+2]!=5||B[ae+3]!=6)&&ae>=0;)--ae;B.l=ae+4,B.l+=4;var xe=B.read_shift(2);B.l+=6;var le=B.read_shift(4);for(B.l=le,ae=0;ae<xe;++ae){B.l+=20;var ue=B.read_shift(4),fe=B.read_shift(4),be=B.read_shift(2),je=B.read_shift(2),We=B.read_shift(2);B.l+=8;var Oe=B.read_shift(4),Pe=c(B.slice(B.l+be,B.l+be+je));B.l+=be+je+We;var st=B.l;B.l=Oe+4,vn(B,ue,fe,G,Pe),B.l=st}return G}function vn(P,W,B,z,H){P.l+=2;var G=P.read_shift(2),ae=P.read_shift(2),xe=l(P);if(G&8257)throw new Error("Unsupported ZIP encryption");for(var le=P.read_shift(4),ue=P.read_shift(4),fe=P.read_shift(4),be=P.read_shift(2),je=P.read_shift(2),We="",Oe=0;Oe<be;++Oe)We+=String.fromCharCode(P[P.l++]);if(je){var Pe=c(P.slice(P.l,P.l+je));(Pe[21589]||{}).mt&&(xe=Pe[21589].mt),((H||{})[21589]||{}).mt&&(xe=H[21589].mt)}P.l+=je;var st=P.slice(P.l,P.l+ue);switch(ae){case 8:st=q(P,fe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ae)}var Rt=!1;G&8&&(le=P.read_shift(4),le==134695760&&(le=P.read_shift(4),Rt=!0),ue=P.read_shift(4),fe=P.read_shift(4)),ue!=W&&gs(Rt,"Bad compressed size: "+W+" != "+ue),fe!=B&&gs(Rt,"Bad uncompressed size: "+B+" != "+fe),hn(z,We,st,{unsafe:!0,mt:xe})}function Qn(P,W){var B=W||{},z=[],H=[],G=ye(1),ae=B.compression?8:0,xe=0,le=0,ue=0,fe=0,be=0,je=P.FullPaths[0],We=je,Oe=P.FileIndex[0],Pe=[],st=0;for(le=1;le<P.FullPaths.length;++le)if(We=P.FullPaths[le].slice(je.length),Oe=P.FileIndex[le],!(!Oe.size||!Oe.content||We=="Sh33tJ5")){var Rt=fe,St=ye(We.length);for(ue=0;ue<We.length;++ue)St.write_shift(1,We.charCodeAt(ue)&127);St=St.slice(0,St.l),Pe[be]=DO.buf(Oe.content,0);var Nt=Oe.content;ae==8&&(Nt=K(Nt)),G=ye(30),G.write_shift(4,67324752),G.write_shift(2,20),G.write_shift(2,xe),G.write_shift(2,ae),Oe.mt?o(G,Oe.mt):G.write_shift(4,0),G.write_shift(-4,Pe[be]),G.write_shift(4,Nt.length),G.write_shift(4,Oe.content.length),G.write_shift(2,St.length),G.write_shift(2,0),fe+=G.length,z.push(G),fe+=St.length,z.push(St),fe+=Nt.length,z.push(Nt),G=ye(46),G.write_shift(4,33639248),G.write_shift(2,0),G.write_shift(2,20),G.write_shift(2,xe),G.write_shift(2,ae),G.write_shift(4,0),G.write_shift(-4,Pe[be]),G.write_shift(4,Nt.length),G.write_shift(4,Oe.content.length),G.write_shift(2,St.length),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(4,0),G.write_shift(4,Rt),st+=G.l,H.push(G),st+=St.length,H.push(St),++be}return G=ye(22),G.write_shift(4,101010256),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(2,be),G.write_shift(2,be),G.write_shift(4,st),G.write_shift(4,fe),G.write_shift(2,0),Xr([Xr(z),Xr(H),G])}var xi={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Jn(P,W){if(P.ctype)return P.ctype;var B=P.name||"",z=B.match(/\.([^\.]+)$/);return z&&xi[z[1]]||W&&(z=(B=W).match(/[\.\\]([^\.\\])+$/),z&&xi[z[1]])?xi[z[1]]:"application/octet-stream"}function na(P){for(var W=Ou(P),B=[],z=0;z<W.length;z+=76)B.push(W.slice(z,z+76));return B.join(`\r
`)+`\r
`}function xs(P){var W=P.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ue){var fe=ue.charCodeAt(0).toString(16).toUpperCase();return"="+(fe.length==1?"0"+fe:fe)});W=W.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),W.charAt(0)==`
`&&(W="=0D"+W.slice(1)),W=W.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var B=[],z=W.split(`\r
`),H=0;H<z.length;++H){var G=z[H];if(G.length==0){B.push("");continue}for(var ae=0;ae<G.length;){var xe=76,le=G.slice(ae,ae+xe);le.charAt(xe-1)=="="?xe--:le.charAt(xe-2)=="="?xe-=2:le.charAt(xe-3)=="="&&(xe-=3),le=G.slice(ae,ae+xe),ae+=xe,ae<G.length&&(le+="="),B.push(le)}}return B.join(`\r
`)}function ia(P){for(var W=[],B=0;B<P.length;++B){for(var z=P[B];B<=P.length&&z.charAt(z.length-1)=="=";)z=z.slice(0,z.length-1)+P[++B];W.push(z)}for(var H=0;H<W.length;++H)W[H]=W[H].replace(/[=][0-9A-Fa-f]{2}/g,function(G){return String.fromCharCode(parseInt(G.slice(1),16))});return Di(W.join(`\r
`))}function yi(P,W,B){for(var z="",H="",G="",ae,xe=0;xe<10;++xe){var le=W[xe];if(!le||le.match(/^\s*$/))break;var ue=le.match(/^(.*?):\s*([^\s].*)$/);if(ue)switch(ue[1].toLowerCase()){case"content-location":z=ue[2].trim();break;case"content-type":G=ue[2].trim();break;case"content-transfer-encoding":H=ue[2].trim();break}}switch(++xe,H.toLowerCase()){case"base64":ae=Di($s(W.slice(xe).join("")));break;case"quoted-printable":ae=ia(W.slice(xe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+H)}var fe=hn(P,z.slice(B.length),ae,{unsafe:!0});G&&(fe.ctype=G)}function sa(P,W){if(Ee(P.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var B=W&&W.root||"",z=(kt&&Buffer.isBuffer(P)?P.toString("binary"):Ee(P)).split(`\r
`),H=0,G="";for(H=0;H<z.length;++H)if(G=z[H],!!/^Content-Location:/i.test(G)&&(G=G.slice(G.indexOf("file")),B||(B=G.slice(0,G.lastIndexOf("/")+1)),G.slice(0,B.length)!=B))for(;B.length>0&&(B=B.slice(0,B.length-1),B=B.slice(0,B.lastIndexOf("/")+1),G.slice(0,B.length)!=B););var ae=(z[1]||"").match(/boundary="(.*?)"/);if(!ae)throw new Error("MAD cannot find boundary");var xe="--"+(ae[1]||""),le=[],ue=[],fe={FileIndex:le,FullPaths:ue};k(fe);var be,je=0;for(H=0;H<z.length;++H){var We=z[H];We!==xe&&We!==xe+"--"||(je++&&yi(fe,z.slice(be,H),B),be=H)}return fe}function tr(P,W){var B=W||{},z=B.boundary||"SheetJS";z="------="+z;for(var H=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+z.slice(2)+'"',"","",""],G=P.FullPaths[0],ae=G,xe=P.FileIndex[0],le=1;le<P.FullPaths.length;++le)if(ae=P.FullPaths[le].slice(G.length),xe=P.FileIndex[le],!(!xe.size||!xe.content||ae=="Sh33tJ5")){ae=ae.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(st){return"_x"+st.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(st){return"_u"+st.charCodeAt(0).toString(16)+"_"});for(var ue=xe.content,fe=kt&&Buffer.isBuffer(ue)?ue.toString("binary"):Ee(ue),be=0,je=Math.min(1024,fe.length),We=0,Oe=0;Oe<=je;++Oe)(We=fe.charCodeAt(Oe))>=32&&We<128&&++be;var Pe=be>=je*4/5;H.push(z),H.push("Content-Location: "+(B.root||"file:///C:/SheetJS/")+ae),H.push("Content-Transfer-Encoding: "+(Pe?"quoted-printable":"base64")),H.push("Content-Type: "+Jn(xe,ae)),H.push(""),H.push(Pe?xs(fe):na(fe))}return H.push(z+`--\r
`),H.join(`\r
`)}function Qs(P){var W={};return k(W,P),W}function hn(P,W,B,z){var H=z&&z.unsafe;H||k(P);var G=!H&&Vt.find(P,W);if(!G){var ae=P.FullPaths[0];W.slice(0,ae.length)==ae?ae=W:(ae.slice(-1)!="/"&&(ae+="/"),ae=(ae+W).replace("//","/")),G={name:i(W),type:2},P.FileIndex.push(G),P.FullPaths.push(ae),H||Vt.utils.cfb_gc(P)}return G.content=B,G.size=B?B.length:0,z&&(z.CLSID&&(G.clsid=z.CLSID),z.mt&&(G.mt=z.mt),z.ct&&(G.ct=z.ct)),G}function ys(P,W){k(P);var B=Vt.find(P,W);if(B){for(var z=0;z<P.FileIndex.length;++z)if(P.FileIndex[z]==B)return P.FileIndex.splice(z,1),P.FullPaths.splice(z,1),!0}return!1}function vs(P,W,B){k(P);var z=Vt.find(P,W);if(z){for(var H=0;H<P.FileIndex.length;++H)if(P.FileIndex[H]==z)return P.FileIndex[H].name=i(B),P.FullPaths[H]=B,!0}return!1}function Js(P){C(P,!0)}return e.find=L,e.read=he,e.parse=p,e.write=Ae,e.writeFile=pe,e.utils={cfb_new:Qs,cfb_add:hn,cfb_del:ys,cfb_mov:vs,cfb_gc:Js,ReadShift:mu,CheckField:GS,prep_blob:Wn,bconcat:Xr,use_zlib:N,_deflateRaw:mi,_inflateRaw:Hi,consts:Ce},e})();function OO(r){return typeof r=="string"?s0(r):Array.isArray(r)?oO(r):r}function Zu(r,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=s0(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(r,e)}var n=t=="utf8"?Lu(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,r);if(typeof Blob<"u"){var i=new Blob([OO(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,r);if(typeof saveAs<"u")return saveAs(i,r);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),chrome.downloads.download({url:o,filename:r,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=r,l.href=o,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),o}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(r);return c.open("w"),c.encoding="binary",Array.isArray(e)&&(e=Ju(e)),c.write(e),c.close(),e}catch(f){if(!f.message||!f.message.match(/onstruct/))throw f}throw new Error("cannot save file "+r)}function Zr(r){for(var e=Object.keys(r),t=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(r,e[n])&&t.push(e[n]);return t}function t2(r,e){for(var t=[],n=Zr(r),i=0;i!==n.length;++i)t[r[n[i]][e]]==null&&(t[r[n[i]][e]]=n[i]);return t}function s1(r){for(var e=[],t=Zr(r),n=0;n!==t.length;++n)e[r[t[n]]]=t[n];return e}function l0(r){for(var e=[],t=Zr(r),n=0;n!==t.length;++n)e[r[t[n]]]=parseInt(t[n],10);return e}function FO(r){for(var e=[],t=Zr(r),n=0;n!==t.length;++n)e[r[t[n]]]==null&&(e[r[t[n]]]=[]),e[r[t[n]]].push(t[n]);return e}var vd=new Date(1899,11,30,0,0,0);function Dn(r,e){var t=r.getTime(),n=vd.getTime()+(r.getTimezoneOffset()-vd.getTimezoneOffset())*6e4;return(t-n)/(1440*60*1e3)}var kS=new Date,LO=vd.getTime()+(kS.getTimezoneOffset()-vd.getTimezoneOffset())*6e4,r2=kS.getTimezoneOffset();function bS(r){var e=new Date;return e.setTime(r*24*60*60*1e3+LO),e.getTimezoneOffset()!==r2&&e.setTime(e.getTime()+(e.getTimezoneOffset()-r2)*6e4),e}var n2=new Date("2017-02-19T19:06:09.000Z"),PS=isNaN(n2.getFullYear())?new Date("2/19/17"):n2,MO=PS.getFullYear()==2017;function yn(r,e){var t=new Date(r);if(MO)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(r instanceof Date)return r;if(PS.getFullYear()==1917&&!isNaN(t.getFullYear())){var n=t.getFullYear();return r.indexOf(""+n)>-1||t.setFullYear(t.getFullYear()+100),t}var i=r.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return r.indexOf("Z")>-1&&(o=new Date(o.getTime()-o.getTimezoneOffset()*60*1e3)),o}function c0(r,e){if(kt&&Buffer.isBuffer(r))return r.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[]/g,function(o){return t[o]||o})}catch{}for(var n=[],i=0;i!=r.length;++i)n.push(String.fromCharCode(r[i]));return n.join("")}function On(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=On(r[t]));return e}function ar(r,e){for(var t="";t.length<e;)t+=r;return t}function js(r){var e=Number(r);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(r))return e;var t=1,n=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,o){return t=-t,o}),!isNaN(e=Number(n)))?e/t:e}var jO=["january","february","march","april","may","june","july","august","september","october","november","december"];function Fu(r){var e=new Date(r),t=new Date(NaN),n=e.getYear(),i=e.getMonth(),o=e.getDate();if(isNaN(o))return t;var l=r.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&jO.indexOf(l)==-1)return t}else if(l.match(/[a-z]/))return t;return n<0||n>8099?t:(i>0||o>1)&&n!=101?e:r.match(/[^-0-9:,\/\\]/)?t:e}function ht(r,e,t){if(r.FullPaths){if(typeof t=="string"){var n;return kt?n=qs(t):n=aO(t),Vt.utils.cfb_add(r,e,n)}Vt.utils.cfb_add(r,e,t)}else r.file(e,t)}function o1(){return Vt.utils.cfb_new()}var Sr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,BO={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},a1=s1(BO),l1=/[&<>'"]/g,VO=/[\u0000-\u0008\u000b-\u001f]/g;function Lt(r){var e=r+"";return e.replace(l1,function(t){return a1[t]}).replace(VO,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function i2(r){return Lt(r).replace(/ /g,"_x0020_")}var NS=/[\u0000-\u001f]/g;function UO(r){var e=r+"";return e.replace(l1,function(t){return a1[t]}).replace(/\n/g,"<br/>").replace(NS,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function zO(r){var e=r+"";return e.replace(l1,function(t){return a1[t]}).replace(NS,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function WO(r){return r.replace(/(\r\n|[\r\n])/g,"&#10;")}function $O(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function og(r){for(var e="",t=0,n=0,i=0,o=0,l=0,c=0;t<r.length;){if(n=r.charCodeAt(t++),n<128){e+=String.fromCharCode(n);continue}if(i=r.charCodeAt(t++),n>191&&n<224){l=(n&31)<<6,l|=i&63,e+=String.fromCharCode(l);continue}if(o=r.charCodeAt(t++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|o&63);continue}l=r.charCodeAt(t++),c=((n&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536,e+=String.fromCharCode(55296+(c>>>10&1023)),e+=String.fromCharCode(56320+(c&1023))}return e}function s2(r){var e=Ba(2*r.length),t,n,i=1,o=0,l=0,c;for(n=0;n<r.length;n+=i)i=1,(c=r.charCodeAt(n))<128?t=c:c<224?(t=(c&31)*64+(r.charCodeAt(n+1)&63),i=2):c<240?(t=(c&15)*4096+(r.charCodeAt(n+1)&63)*64+(r.charCodeAt(n+2)&63),i=3):(i=4,t=(c&7)*262144+(r.charCodeAt(n+1)&63)*4096+(r.charCodeAt(n+2)&63)*64+(r.charCodeAt(n+3)&63),t-=65536,l=55296+(t>>>10&1023),t=56320+(t&1023)),l!==0&&(e[o++]=l&255,e[o++]=l>>>8,l=0),e[o++]=t%256,e[o++]=t>>>8;return e.slice(0,o).toString("ucs2")}function o2(r){return qs(r,"binary").toString("utf8")}var Ah="foo bar baz",gu=kt&&(o2(Ah)==og(Ah)&&o2||s2(Ah)==og(Ah)&&s2)||og,Lu=kt?function(r){return qs(r,"utf8").toString("binary")}:function(r){for(var e=[],t=0,n=0,i=0;t<r.length;)switch(n=r.charCodeAt(t++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=r.charCodeAt(t++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},HO=(function(){var r=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<r.length;++i)n=n.replace(r[i][0],r[i][1]);return n}})(),DS=/(^\s|\s$|\n)/;function Yr(r,e){return"<"+r+(e.match(DS)?' xml:space="preserve"':"")+">"+e+"</"+r+">"}function Mu(r){return Zr(r).map(function(e){return" "+e+'="'+r[e]+'"'}).join("")}function Le(r,e,t){return"<"+r+(t!=null?Mu(t):"")+(e!=null?(e.match(DS)?' xml:space="preserve"':"")+">"+e+"</"+r:"/")+">"}function Gg(r,e){try{return r.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function GO(r,e){switch(typeof r){case"string":var t=Le("vt:lpwstr",Lt(r));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return Le((r|0)==r?"vt:i4":"vt:r8",Lt(String(r)));case"boolean":return Le("vt:bool",r?"true":"false")}if(r instanceof Date)return Le("vt:filetime",Gg(r));throw new Error("Unable to serialize "+r)}var Lr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},yc=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],$n={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function qO(r,e){for(var t=1-2*(r[e+7]>>>7),n=((r[e+7]&127)<<4)+(r[e+6]>>>4&15),i=r[e+6]&15,o=5;o>=0;--o)i=i*256+r[e+o];return n==2047?i==0?t*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),t*Math.pow(2,n-52)*i)}function KO(r,e,t){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,o=0,l=n?-e:e;isFinite(l)?l==0?i=o=0:(i=Math.floor(Math.log(l)/Math.LN2),o=l*Math.pow(2,52-i),i<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?i=-1022:(o-=Math.pow(2,52),i+=1023)):(i=2047,o=isNaN(e)?26985:0);for(var c=0;c<=5;++c,o/=256)r[t+c]=o&255;r[t+6]=(i&15)<<4|o&15,r[t+7]=i>>4|n}var a2=function(r){for(var e=[],t=10240,n=0;n<r[0].length;++n)if(r[0][n])for(var i=0,o=r[0][n].length;i<o;i+=t)e.push.apply(e,r[0][n].slice(i,i+t));return e},l2=kt?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(e){return Buffer.isBuffer(e)?e:qs(e)})):a2(r)}:a2,c2=function(r,e,t){for(var n=[],i=e;i<t;i+=2)n.push(String.fromCharCode(ou(r,i)));return n.join("").replace(pu,"")},c1=kt?function(r,e,t){return Buffer.isBuffer(r)?r.toString("utf16le",e,t).replace(pu,""):c2(r,e,t)}:c2,u2=function(r,e,t){for(var n=[],i=e;i<e+t;++i)n.push(("0"+r[i].toString(16)).slice(-2));return n.join("")},OS=kt?function(r,e,t){return Buffer.isBuffer(r)?r.toString("hex",e,e+t):u2(r,e,t)}:u2,f2=function(r,e,t){for(var n=[],i=e;i<t;i++)n.push(String.fromCharCode(Vl(r,i)));return n.join("")},ef=kt?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):f2(e,t,n)}:f2,FS=function(r,e){var t=Hn(r,e);return t>0?ef(r,e+4,e+4+t-1):""},LS=FS,MS=function(r,e){var t=Hn(r,e);return t>0?ef(r,e+4,e+4+t-1):""},jS=MS,BS=function(r,e){var t=2*Hn(r,e);return t>0?ef(r,e+4,e+4+t-1):""},VS=BS,US=function(e,t){var n=Hn(e,t);return n>0?c1(e,t+4,t+4+n):""},zS=US,WS=function(r,e){var t=Hn(r,e);return t>0?ef(r,e+4,e+4+t):""},$S=WS,HS=function(r,e){return qO(r,e)},_d=HS,u1=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};kt&&(LS=function(e,t){if(!Buffer.isBuffer(e))return FS(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},jS=function(e,t){if(!Buffer.isBuffer(e))return MS(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},VS=function(e,t){if(!Buffer.isBuffer(e))return BS(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},zS=function(e,t){if(!Buffer.isBuffer(e))return US(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},$S=function(e,t){if(!Buffer.isBuffer(e))return WS(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},_d=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):HS(e,t)},u1=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Vl=function(r,e){return r[e]},ou=function(r,e){return r[e+1]*256+r[e]},XO=function(r,e){var t=r[e+1]*256+r[e];return t<32768?t:(65535-t+1)*-1},Hn=function(r,e){return r[e+3]*(1<<24)+(r[e+2]<<16)+(r[e+1]<<8)+r[e]},Aa=function(r,e){return r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]},YO=function(r,e){return r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]};function mu(r,e){var t="",n,i,o=[],l,c,f,h;switch(e){case"dbcs":if(h=this.l,kt&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*r).toString("utf16le");else for(f=0;f<r;++f)t+=String.fromCharCode(ou(this,h)),h+=2;r*=2;break;case"utf8":t=ef(this,this.l,this.l+r);break;case"utf16le":r*=2,t=c1(this,this.l,this.l+r);break;case"wstr":return mu.call(this,r,"dbcs");case"lpstr-ansi":t=LS(this,this.l),r=4+Hn(this,this.l);break;case"lpstr-cp":t=jS(this,this.l),r=4+Hn(this,this.l);break;case"lpwstr":t=VS(this,this.l),r=4+2*Hn(this,this.l);break;case"lpp4":r=4+Hn(this,this.l),t=zS(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+Hn(this,this.l),t=$S(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,t="";(l=Vl(this,this.l+r++))!==0;)o.push(Eh(l));t=o.join("");break;case"_wstr":for(r=0,t="";(l=ou(this,this.l+r))!==0;)o.push(Eh(l)),r+=2;r+=2,t=o.join("");break;case"dbcs-cont":for(t="",h=this.l,f=0;f<r;++f){if(this.lens&&this.lens.indexOf(h)!==-1)return l=Vl(this,h),this.l=h+1,c=mu.call(this,r-f,l?"dbcs-cont":"sbcs-cont"),o.join("")+c;o.push(Eh(ou(this,h))),h+=2}t=o.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(t="",h=this.l,f=0;f!=r;++f){if(this.lens&&this.lens.indexOf(h)!==-1)return l=Vl(this,h),this.l=h+1,c=mu.call(this,r-f,l?"dbcs-cont":"sbcs-cont"),o.join("")+c;o.push(Eh(Vl(this,h))),h+=1}t=o.join("");break;default:switch(r){case 1:return n=Vl(this,this.l),this.l++,n;case 2:return n=(e==="i"?XO:ou)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(r>0?Aa:YO)(this,this.l),this.l+=4,n):(i=Hn(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return r==8?i=_d(this,this.l):i=_d([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;r=8;case 16:t=OS(this,this.l,r);break}}return this.l+=r,t}var QO=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255,r[t+2]=e>>>16&255,r[t+3]=e>>>24&255},JO=function(r,e,t){r[t]=e&255,r[t+1]=e>>8&255,r[t+2]=e>>16&255,r[t+3]=e>>24&255},ZO=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255};function e8(r,e,t){var n=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)ZO(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(t==="hex"){for(;i<r;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var o=Math.min(this.l+r,this.length);for(i=0;i<Math.min(e.length,r);++i){var l=e.charCodeAt(i);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(r){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,QO(this,e,this.l);break;case 8:if(n=8,t==="f"){KO(this,e,this.l);break}case 16:break;case-4:n=4,JO(this,e,this.l);break}return this.l+=n,this}function GS(r,e){var t=OS(this,this.l,r.length>>1);if(t!==r)throw new Error(e+"Expected "+r+" saw "+t);this.l+=r.length>>1}function Wn(r,e){r.l=e,r.read_shift=mu,r.chk=GS,r.write_shift=e8}function ds(r,e){r.l+=e}function ye(r){var e=Ba(r);return Wn(e,0),e}function Nn(){var r=[],e=kt?256:2048,t=function(h){var p=ye(h);return Wn(p,0),p},n=t(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&r.push(n),n=null)},o=function(h){return n&&h<n.length-n.l?n:(i(),n=t(Math.max(h+1,e)))},l=function(){return i(),Xr(r)},c=function(h){i(),n=h,n.l==null&&(n.l=n.length),o(e)};return{next:o,push:c,end:l,_bufs:r}}function Se(r,e,t,n){var i=+e,o;if(!isNaN(i)){n||(n=q9[i].p||(t||[]).length||0),o=1+(i>=128?1:0)+1,n>=128&&++o,n>=16384&&++o,n>=2097152&&++o;var l=r.next(o);i<=127?l.write_shift(1,i):(l.write_shift(1,(i&127)+128),l.write_shift(1,i>>7));for(var c=0;c!=4;++c)if(n>=128)l.write_shift(1,(n&127)+128),n>>=7;else{l.write_shift(1,n);break}n>0&&u1(t)&&r.push(t)}}function xu(r,e,t){var n=On(r);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!t||t.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function h2(r,e,t){var n=On(r);return n.s=xu(n.s,e.s,t),n.e=xu(n.e,e.s,t),n}function yu(r,e){if(r.cRel&&r.c<0)for(r=On(r);r.c<0;)r.c+=e>8?16384:256;if(r.rRel&&r.r<0)for(r=On(r);r.r<0;)r.r+=e>8?1048576:e>5?65536:16384;var t=Mt(r);return!r.cRel&&r.cRel!=null&&(t=n8(t)),!r.rRel&&r.rRel!=null&&(t=t8(t)),t}function ag(r,e){return r.s.r==0&&!r.s.rRel&&r.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+ln(r.s.c)+":"+(r.e.cRel?"":"$")+ln(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(e.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+Qr(r.s.r)+":"+(r.e.rRel?"":"$")+Qr(r.e.r):yu(r.s,e.biff)+":"+yu(r.e,e.biff)}function f1(r){return parseInt(r8(r),10)-1}function Qr(r){return""+(r+1)}function t8(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function r8(r){return r.replace(/\$(\d+)$/,"$1")}function h1(r){for(var e=i8(r),t=0,n=0;n!==e.length;++n)t=26*t+e.charCodeAt(n)-64;return t-1}function ln(r){if(r<0)throw new Error("invalid column "+r);var e="";for(++r;r;r=Math.floor((r-1)/26))e=String.fromCharCode((r-1)%26+65)+e;return e}function n8(r){return r.replace(/^([A-Z])/,"$$$1")}function i8(r){return r.replace(/^\$([A-Z])/,"$1")}function s8(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Mr(r){for(var e=0,t=0,n=0;n<r.length;++n){var i=r.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function Mt(r){for(var e=r.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(r.r+1)}function Yn(r){var e=r.indexOf(":");return e==-1?{s:Mr(r),e:Mr(r)}:{s:Mr(r.slice(0,e)),e:Mr(r.slice(e+1))}}function Er(r,e){return typeof e>"u"||typeof e=="number"?Er(r.s,r.e):(typeof r!="string"&&(r=Mt(r)),typeof e!="string"&&(e=Mt(e)),r==e?r:r+":"+e)}function Kt(r){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,n=0,i=0,o=r.length;for(t=0;n<o&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)t=26*t+i;for(e.s.c=--t,t=0;n<o&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)t=10*t+i;if(e.s.r=--t,n===o||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,t=0;n!=o&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)t=26*t+i;for(e.e.c=--t,t=0;n!=o&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)t=10*t+i;return e.e.r=--t,e}function d2(r,e){var t=r.t=="d"&&e instanceof Date;if(r.z!=null)try{return r.w=Go(r.z,t?Dn(e):e)}catch{}try{return r.w=Go((r.XF||{}).numFmtId||(t?14:0),t?Dn(e):e)}catch{return""+e}}function Hs(r,e,t){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&t&&t.dateNF&&(r.z=t.dateNF),r.t=="e"?tf[r.v]||r.v:e==null?d2(r,r.v):d2(r,e))}function Xa(r,e){var t=e&&e.sheet?e.sheet:"Sheet1",n={};return n[t]=r,{SheetNames:[t],Sheets:n}}function qS(r,e,t){var n=t||{},i=r?Array.isArray(r):n.dense,o=r||(i?[]:{}),l=0,c=0;if(o&&n.origin!=null){if(typeof n.origin=="number")l=n.origin;else{var f=typeof n.origin=="string"?Mr(n.origin):n.origin;l=f.r,c=f.c}o["!ref"]||(o["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var p=Kt(o["!ref"]);h.s.c=p.s.c,h.s.r=p.s.r,h.e.c=Math.max(h.e.c,p.e.c),h.e.r=Math.max(h.e.r,p.e.r),l==-1&&(h.e.r=l=p.e.r+1)}for(var x=0;x!=e.length;++x)if(e[x]){if(!Array.isArray(e[x]))throw new Error("aoa_to_sheet expects an array of arrays");for(var y=0;y!=e[x].length;++y)if(!(typeof e[x][y]>"u")){var w={v:e[x][y]},S=l+x,T=c+y;if(h.s.r>S&&(h.s.r=S),h.s.c>T&&(h.s.c=T),h.e.r<S&&(h.e.r=S),h.e.c<T&&(h.e.c=T),e[x][y]&&typeof e[x][y]=="object"&&!Array.isArray(e[x][y])&&!(e[x][y]instanceof Date))w=e[x][y];else if(Array.isArray(w.v)&&(w.f=e[x][y][1],w.v=w.v[0]),w.v===null)if(w.f)w.t="n";else if(n.nullError)w.t="e",w.v=0;else if(n.sheetStubs)w.t="z";else continue;else typeof w.v=="number"?w.t="n":typeof w.v=="boolean"?w.t="b":w.v instanceof Date?(w.z=n.dateNF||lr[14],n.cellDates?(w.t="d",w.w=Go(w.z,Dn(w.v))):(w.t="n",w.v=Dn(w.v),w.w=Go(w.z,w.v))):w.t="s";if(i)o[S]||(o[S]=[]),o[S][T]&&o[S][T].z&&(w.z=o[S][T].z),o[S][T]=w;else{var A=Mt({c:T,r:S});o[A]&&o[A].z&&(w.z=o[A].z),o[A]=w}}}return h.s.c<1e7&&(o["!ref"]=Er(h)),o}function vc(r,e){return qS(null,r,e)}function o8(r){return r.read_shift(4,"i")}function ji(r,e){return e||(e=ye(4)),e.write_shift(4,r),e}function cn(r){var e=r.read_shift(4);return e===0?"":r.read_shift(e,"dbcs")}function jr(r,e){var t=!1;return e==null&&(t=!0,e=ye(4+2*r.length)),e.write_shift(4,r.length),r.length>0&&e.write_shift(0,r,"dbcs"),t?e.slice(0,e.l):e}function a8(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function l8(r,e){return e||(e=ye(4)),e.write_shift(2,0),e.write_shift(2,0),e}function d1(r,e){var t=r.l,n=r.read_shift(1),i=cn(r),o=[],l={t:i,h:i};if((n&1)!==0){for(var c=r.read_shift(4),f=0;f!=c;++f)o.push(a8(r));l.r=o}else l.r=[{ich:0,ifnt:0}];return r.l=t+e,l}function c8(r,e){var t=!1;return e==null&&(t=!0,e=ye(15+4*r.t.length)),e.write_shift(1,0),jr(r.t,e),t?e.slice(0,e.l):e}var u8=d1;function f8(r,e){var t=!1;return e==null&&(t=!0,e=ye(23+4*r.t.length)),e.write_shift(1,1),jr(r.t,e),e.write_shift(4,1),l8({},e),t?e.slice(0,e.l):e}function gi(r){var e=r.read_shift(4),t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:e,iStyleRef:t}}function Ya(r,e){return e==null&&(e=ye(8)),e.write_shift(-4,r.c),e.write_shift(3,r.iStyleRef||r.s),e.write_shift(1,0),e}function Qa(r){var e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:e}}function Ja(r,e){return e==null&&(e=ye(4)),e.write_shift(3,r.iStyleRef||r.s),e.write_shift(1,0),e}var h8=cn,KS=jr;function p1(r){var e=r.read_shift(4);return e===0||e===4294967295?"":r.read_shift(e,"dbcs")}function wd(r,e){var t=!1;return e==null&&(t=!0,e=ye(127)),e.write_shift(4,r.length>0?r.length:4294967295),r.length>0&&e.write_shift(0,r,"dbcs"),t?e.slice(0,e.l):e}var d8=cn,qg=p1,g1=wd;function XS(r){var e=r.slice(r.l,r.l+4),t=e[0]&1,n=e[0]&2;r.l+=4;var i=n===0?_d([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Aa(e,0)>>2;return t?i/100:i}function YS(r,e){e==null&&(e=ye(4));var t=0,n=0,i=r*100;if(r==(r|0)&&r>=-536870912&&r<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,t=1),n)e.write_shift(-4,((t?i:r)<<2)+(t+2));else throw new Error("unsupported RkNumber "+r)}function QS(r){var e={s:{},e:{}};return e.s.r=r.read_shift(4),e.e.r=r.read_shift(4),e.s.c=r.read_shift(4),e.e.c=r.read_shift(4),e}function p8(r,e){return e||(e=ye(16)),e.write_shift(4,r.s.r),e.write_shift(4,r.e.r),e.write_shift(4,r.s.c),e.write_shift(4,r.e.c),e}var Za=QS,_c=p8;function wc(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function Va(r,e){return(e||ye(8)).write_shift(8,r,"f")}function g8(r){var e={},t=r.read_shift(1),n=t>>>1,i=r.read_shift(1),o=r.read_shift(2,"i"),l=r.read_shift(1),c=r.read_shift(1),f=r.read_shift(1);switch(r.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var h=S8[i];h&&(e.rgb=S2(h));break;case 2:e.rgb=S2([l,c,f]);break;case 3:e.theme=i;break}return o!=0&&(e.tint=o>0?o/32767:o/32768),e}function Ed(r,e){if(e||(e=ye(8)),!r||r.auto)return e.write_shift(4,0),e.write_shift(4,0),e;r.index!=null?(e.write_shift(1,2),e.write_shift(1,r.index)):r.theme!=null?(e.write_shift(1,6),e.write_shift(1,r.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=r.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!r.rgb||r.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=r.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function m8(r){var e=r.read_shift(1);r.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function x8(r,e){e||(e=ye(2));var t=(r.italic?2:0)|(r.strike?8:0)|(r.outline?16:0)|(r.shadow?32:0)|(r.condense?64:0)|(r.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var JS=2,zn=3,Ih=11,Td=19,Ch=64,y8=65,v8=71,_8=4108,w8=4126,Gr=80,p2={1:{n:"CodePage",t:JS},2:{n:"Category",t:Gr},3:{n:"PresentationFormat",t:Gr},4:{n:"ByteCount",t:zn},5:{n:"LineCount",t:zn},6:{n:"ParagraphCount",t:zn},7:{n:"SlideCount",t:zn},8:{n:"NoteCount",t:zn},9:{n:"HiddenCount",t:zn},10:{n:"MultimediaClipCount",t:zn},11:{n:"ScaleCrop",t:Ih},12:{n:"HeadingPairs",t:_8},13:{n:"TitlesOfParts",t:w8},14:{n:"Manager",t:Gr},15:{n:"Company",t:Gr},16:{n:"LinksUpToDate",t:Ih},17:{n:"CharacterCount",t:zn},19:{n:"SharedDoc",t:Ih},22:{n:"HyperlinksChanged",t:Ih},23:{n:"AppVersion",t:zn,p:"version"},24:{n:"DigSig",t:y8},26:{n:"ContentType",t:Gr},27:{n:"ContentStatus",t:Gr},28:{n:"Language",t:Gr},29:{n:"Version",t:Gr},255:{},2147483648:{n:"Locale",t:Td},2147483651:{n:"Behavior",t:Td},1919054434:{}},g2={1:{n:"CodePage",t:JS},2:{n:"Title",t:Gr},3:{n:"Subject",t:Gr},4:{n:"Author",t:Gr},5:{n:"Keywords",t:Gr},6:{n:"Comments",t:Gr},7:{n:"Template",t:Gr},8:{n:"LastAuthor",t:Gr},9:{n:"RevNumber",t:Gr},10:{n:"EditTime",t:Ch},11:{n:"LastPrinted",t:Ch},12:{n:"CreatedDate",t:Ch},13:{n:"ModifiedDate",t:Ch},14:{n:"PageCount",t:zn},15:{n:"WordCount",t:zn},16:{n:"CharCount",t:zn},17:{n:"Thumbnail",t:v8},18:{n:"Application",t:Gr},19:{n:"DocSecurity",t:zn},255:{},2147483648:{n:"Locale",t:Td},2147483651:{n:"Behavior",t:Td},1919054434:{}};function E8(r){return r.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var T8=E8([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),S8=On(T8),tf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},A8={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Rh={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function ZS(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function eA(r,e){var t=FO(A8),n=[],i;n[n.length]=Sr,n[n.length]=Le("Types",null,{xmlns:Lr.CT,"xmlns:xsd":Lr.xsd,"xmlns:xsi":Lr.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(f){return Le("Default",null,{Extension:f[0],ContentType:f[1]})}));var o=function(f){r[f]&&r[f].length>0&&(i=r[f][0],n[n.length]=Le("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Rh[f][e.bookType]||Rh[f].xlsx}))},l=function(f){(r[f]||[]).forEach(function(h){n[n.length]=Le("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:Rh[f][e.bookType]||Rh[f].xlsx})})},c=function(f){(r[f]||[]).forEach(function(h){n[n.length]=Le("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:t[f][0]})})};return o("workbooks"),l("sheets"),l("charts"),c("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),l("metadata"),c("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var It={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function tA(r){var e=r.lastIndexOf("/");return r.slice(0,e+1)+"_rels/"+r.slice(e+1)+".rels"}function Yl(r){var e=[Sr,Le("Relationships",null,{xmlns:Lr.RELS})];return Zr(r["!id"]).forEach(function(t){e[e.length]=Le("Relationship",null,r["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Ft(r,e,t,n,i,o){if(i||(i={}),r["!id"]||(r["!id"]={}),r["!idx"]||(r["!idx"]=1),e<0)for(e=r["!idx"];r["!id"]["rId"+e];++e);if(r["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=t,[It.HLINK,It.XPATH,It.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),r["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return r["!id"][i.Id]=i,r[("/"+i.Target).replace("//","/")]=i,e}function I8(r){var e=[Sr];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<r.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+r[t][0]+'" manifest:media-type="'+r[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function m2(r,e,t){return['  <rdf:Description rdf:about="'+r+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function C8(r,e){return['  <rdf:Description rdf:about="'+r+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function R8(r){var e=[Sr];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=r.length;++t)e.push(m2(r[t][0],r[t][1])),e.push(C8("",r[t][0]));return e.push(m2("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function rA(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+pd.version+"</meta:generator></office:meta></office:document-meta>"}var ba=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function lg(r,e,t,n,i){i[r]!=null||e==null||e===""||(i[r]=e,e=Lt(e),n[n.length]=t?Le(r,e,t):Yr(r,e))}function nA(r,e){var t=e||{},n=[Sr,Le("cp:coreProperties",null,{"xmlns:cp":Lr.CORE_PROPS,"xmlns:dc":Lr.dc,"xmlns:dcterms":Lr.dcterms,"xmlns:dcmitype":Lr.dcmitype,"xmlns:xsi":Lr.xsi})],i={};if(!r&&!t.Props)return n.join("");r&&(r.CreatedDate!=null&&lg("dcterms:created",typeof r.CreatedDate=="string"?r.CreatedDate:Gg(r.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),r.ModifiedDate!=null&&lg("dcterms:modified",typeof r.ModifiedDate=="string"?r.ModifiedDate:Gg(r.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var o=0;o!=ba.length;++o){var l=ba[o],c=t.Props&&t.Props[l[1]]!=null?t.Props[l[1]]:r?r[l[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&lg(l[0],c,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Ql=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],iA=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function sA(r){var e=[],t=Le;return r||(r={}),r.Application="SheetJS",e[e.length]=Sr,e[e.length]=Le("Properties",null,{xmlns:Lr.EXT_PROPS,"xmlns:vt":Lr.vt}),Ql.forEach(function(n){if(r[n[1]]!==void 0){var i;switch(n[2]){case"string":i=Lt(String(r[n[1]]));break;case"bool":i=r[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=t(n[0],i))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(r.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",r.SheetNames.map(function(n){return"<vt:lpstr>"+Lt(n)+"</vt:lpstr>"}).join(""),{size:r.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function oA(r){var e=[Sr,Le("Properties",null,{xmlns:Lr.CUST_PROPS,"xmlns:vt":Lr.vt})];if(!r)return e.join("");var t=1;return Zr(r).forEach(function(i){++t,e[e.length]=Le("property",GO(r[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:Lt(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var x2={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function k8(r,e){var t=[];return Zr(x2).map(function(n){for(var i=0;i<ba.length;++i)if(ba[i][1]==n)return ba[i];for(i=0;i<Ql.length;++i)if(Ql[i][1]==n)return Ql[i];throw n}).forEach(function(n){if(r[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:r[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),t.push(Yr(x2[n[1]]||n[1],i))}}),Le("DocumentProperties",t.join(""),{xmlns:$n.o})}function b8(r,e){var t=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return r&&Zr(r).forEach(function(o){if(Object.prototype.hasOwnProperty.call(r,o)){for(var l=0;l<ba.length;++l)if(o==ba[l][1])return;for(l=0;l<Ql.length;++l)if(o==Ql[l][1])return;for(l=0;l<t.length;++l)if(o==t[l])return;var c=r[o],f="string";typeof c=="number"?(f="float",c=String(c)):c===!0||c===!1?(f="boolean",c=c?"1":"0"):c=String(c),i.push(Le(i2(o),c,{"dt:dt":f}))}}),e&&Zr(e).forEach(function(o){if(Object.prototype.hasOwnProperty.call(e,o)&&!(r&&Object.prototype.hasOwnProperty.call(r,o))){var l=e[o],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l instanceof Date?(c="dateTime.tz",l=l.toISOString()):l=String(l),i.push(Le(i2(o),l,{"dt:dt":c}))}}),"<"+n+' xmlns="'+$n.o+'">'+i.join("")+"</"+n+">"}function P8(r){var e=typeof r=="string"?new Date(Date.parse(r)):r,t=e.getTime()/1e3+11644473600,n=t%Math.pow(2,32),i=(t-n)/Math.pow(2,32);n*=1e7,i*=1e7;var o=n/Math.pow(2,32)|0;o>0&&(n=n%Math.pow(2,32),i+=o);var l=ye(8);return l.write_shift(4,n),l.write_shift(4,i),l}function y2(r,e){var t=ye(4),n=ye(4);switch(t.write_shift(4,r==80?31:r),r){case 3:n.write_shift(-4,e);break;case 5:n=ye(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=P8(e);break;case 31:case 80:for(n=ye(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+r+" "+e)}return Xr([t,n])}var aA=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function N8(r){switch(typeof r){case"boolean":return 11;case"number":return(r|0)==r?3:5;case"string":return 31;case"object":if(r instanceof Date)return 64;break}return-1}function v2(r,e,t){var n=ye(8),i=[],o=[],l=8,c=0,f=ye(8),h=ye(8);if(f.write_shift(4,2),f.write_shift(4,1200),h.write_shift(4,1),o.push(f),i.push(h),l+=8+f.length,!e){h=ye(8),h.write_shift(4,0),i.unshift(h);var p=[ye(4)];for(p[0].write_shift(4,r.length),c=0;c<r.length;++c){var x=r[c][0];for(f=ye(8+2*(x.length+1)+(x.length%2?0:2)),f.write_shift(4,c+2),f.write_shift(4,x.length+1),f.write_shift(0,x,"dbcs");f.l!=f.length;)f.write_shift(1,0);p.push(f)}f=Xr(p),o.unshift(f),l+=8+f.length}for(c=0;c<r.length;++c)if(!(e&&!e[r[c][0]])&&!(aA.indexOf(r[c][0])>-1||iA.indexOf(r[c][0])>-1)&&r[c][1]!=null){var y=r[c][1],w=0;if(e){w=+e[r[c][0]];var S=t[w];if(S.p=="version"&&typeof y=="string"){var T=y.split(".");y=(+T[0]<<16)+(+T[1]||0)}f=y2(S.t,y)}else{var A=N8(y);A==-1&&(A=31,y=String(y)),f=y2(A,y)}o.push(f),h=ye(8),h.write_shift(4,e?w:2+c),i.push(h),l+=8+f.length}var j=8*(o.length+1);for(c=0;c<o.length;++c)i[c].write_shift(4,j),j+=o[c].length;return n.write_shift(4,l),n.write_shift(4,o.length),Xr([n].concat(i).concat(o))}function _2(r,e,t,n,i,o){var l=ye(i?68:48),c=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,Vt.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,i?2:1),l.write_shift(16,e,"hex"),l.write_shift(4,i?68:48);var f=v2(r,t,n);if(c.push(f),i){var h=v2(i,null,null);l.write_shift(16,o,"hex"),l.write_shift(4,68+f.length),c.push(h)}return Xr(c)}function D8(r,e){e||(e=ye(r));for(var t=0;t<r;++t)e.write_shift(1,0);return e}function O8(r,e){return r.read_shift(e)===1}function xn(r,e){return e||(e=ye(2)),e.write_shift(2,+!!r),e}function lA(r){return r.read_shift(2,"u")}function li(r,e){return e||(e=ye(2)),e.write_shift(2,r),e}function cA(r,e,t){return t||(t=ye(2)),t.write_shift(1,e=="e"?+r:+!!r),t.write_shift(1,e=="e"?1:0),t}function uA(r,e,t){var n=r.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var o=r.read_shift(1);o&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var l=n?r.read_shift(n,i):"";return l}function F8(r){var e=r.t||"",t=ye(3);t.write_shift(2,e.length),t.write_shift(1,1);var n=ye(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[t,n];return Xr(i)}function L8(r,e,t){var n;if(t){if(t.biff>=2&&t.biff<=5)return r.read_shift(e,"cpstr");if(t.biff>=12)return r.read_shift(e,"dbcs-cont")}var i=r.read_shift(1);return i===0?n=r.read_shift(e,"sbcs-cont"):n=r.read_shift(e,"dbcs-cont"),n}function M8(r,e,t){var n=r.read_shift(t&&t.biff==2?1:2);return n===0?(r.l++,""):L8(r,n,t)}function j8(r,e,t){if(t.biff>5)return M8(r,e,t);var n=r.read_shift(1);return n===0?(r.l++,""):r.read_shift(n,t.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function fA(r,e,t){return t||(t=ye(3+2*r.length)),t.write_shift(2,r.length),t.write_shift(1,1),t.write_shift(31,r,"utf16le"),t}function w2(r,e){e||(e=ye(6+r.length*2)),e.write_shift(4,1+r.length);for(var t=0;t<r.length;++t)e.write_shift(2,r.charCodeAt(t));return e.write_shift(2,0),e}function B8(r){var e=ye(512),t=0,n=r.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),o=i>-1?31:23;switch(n.charAt(0)){case"#":o=28;break;case".":o&=-3;break}e.write_shift(4,2),e.write_shift(4,o);var l=[8,6815827,6619237,4849780,83];for(t=0;t<l.length;++t)e.write_shift(4,l[t]);if(o==28)n=n.slice(1),w2(n,e);else if(o&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<l.length;++t)e.write_shift(1,parseInt(l[t],16));var c=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(c.length+1)),t=0;t<c.length;++t)e.write_shift(2,c.charCodeAt(t));e.write_shift(2,0),o&8&&w2(i>-1?n.slice(i+1):"",e)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<l.length;++t)e.write_shift(1,parseInt(l[t],16));for(var f=0;n.slice(f*3,f*3+3)=="../"||n.slice(f*3,f*3+3)=="..\\";)++f;for(e.write_shift(2,f),e.write_shift(4,n.length-3*f+1),t=0;t<n.length-3*f;++t)e.write_shift(1,n.charCodeAt(t+3*f)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function Ua(r,e,t,n){return n||(n=ye(6)),n.write_shift(2,r),n.write_shift(2,e),n.write_shift(2,t||0),n}function V8(r,e,t){var n=t.biff>8?4:2,i=r.read_shift(n),o=r.read_shift(n,"i"),l=r.read_shift(n,"i");return[i,o,l]}function U8(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),i=r.read_shift(2);return{s:{c:n,r:e},e:{c:i,r:t}}}function hA(r,e){return e||(e=ye(8)),e.write_shift(2,r.s.r),e.write_shift(2,r.e.r),e.write_shift(2,r.s.c),e.write_shift(2,r.e.c),e}function m1(r,e,t){var n=1536,i=16;switch(t.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var o=ye(i);return o.write_shift(2,n),o.write_shift(2,e),i>4&&o.write_shift(2,29282),i>6&&o.write_shift(2,1997),i>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function z8(r,e){var t=!e||e.biff==8,n=ye(t?112:54);for(n.write_shift(e.biff==8?2:1,7),t&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(t?0:536870912));n.l<n.length;)n.write_shift(1,t?0:32);return n}function W8(r,e){var t=!e||e.biff>=8?2:1,n=ye(8+t*r.name.length);n.write_shift(4,r.pos),n.write_shift(1,r.hs||0),n.write_shift(1,r.dt),n.write_shift(1,r.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(t*r.name.length,r.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function $8(r,e){var t=ye(8);t.write_shift(4,r.Count),t.write_shift(4,r.Unique);for(var n=[],i=0;i<r.length;++i)n[i]=F8(r[i]);var o=Xr([t].concat(n));return o.parts=[t.length].concat(n.map(function(l){return l.length})),o}function H8(){var r=ye(18);return r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,29280),r.write_shift(2,17600),r.write_shift(2,56),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,1),r.write_shift(2,500),r}function G8(r){var e=ye(18),t=1718;return r&&r.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function q8(r,e){var t=r.name||"Arial",n=e&&e.biff==5,i=n?15+t.length:16+2*t.length,o=ye(i);return o.write_shift(2,r.sz*20),o.write_shift(4,0),o.write_shift(2,400),o.write_shift(4,0),o.write_shift(2,0),o.write_shift(1,t.length),n||o.write_shift(1,1),o.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le"),o}function K8(r,e,t,n){var i=ye(10);return Ua(r,e,n,i),i.write_shift(4,t),i}function X8(r,e,t,n,i){var o=!i||i.biff==8,l=ye(8+ +o+(1+o)*t.length);return Ua(r,e,n,l),l.write_shift(2,t.length),o&&l.write_shift(1,1),l.write_shift((1+o)*t.length,t,o?"utf16le":"sbcs"),l}function Y8(r,e,t,n){var i=t&&t.biff==5;n||(n=ye(i?3+e.length:5+2*e.length)),n.write_shift(2,r),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var o=n.length>n.l?n.slice(0,n.l):n;return o.l==null&&(o.l=o.length),o}function Q8(r,e){var t=e.biff==8||!e.biff?4:2,n=ye(2*t+6);return n.write_shift(t,r.s.r),n.write_shift(t,r.e.r+1),n.write_shift(2,r.s.c),n.write_shift(2,r.e.c+1),n.write_shift(2,0),n}function E2(r,e,t,n){var i=t&&t.biff==5;n||(n=ye(i?16:20)),n.write_shift(2,0),r.style?(n.write_shift(2,r.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,r.numFmtId||0),n.write_shift(2,e<<4));var o=0;return r.numFmtId>0&&i&&(o|=1024),n.write_shift(4,o),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function J8(r){var e=ye(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function Z8(r,e,t,n,i,o){var l=ye(8);return Ua(r,e,n,l),cA(t,o,l),l}function eF(r,e,t,n){var i=ye(14);return Ua(r,e,n,i),Va(t,i),i}function tF(r,e,t){if(t.biff<8)return rF(r,e,t);for(var n=[],i=r.l+e,o=r.read_shift(t.biff>8?4:2);o--!==0;)n.push(V8(r,t.biff>8?12:6,t));if(r.l!=i)throw new Error("Bad ExternSheet: "+r.l+" != "+i);return n}function rF(r,e,t){r[r.l+1]==3&&r[r.l]++;var n=uA(r,e,t);return n.charCodeAt(0)==3?n.slice(1):n}function nF(r){var e=ye(2+r.length*8);e.write_shift(2,r.length);for(var t=0;t<r.length;++t)hA(r[t],e);return e}function iF(r){var e=ye(24),t=Mr(r[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return Xr([e,B8(r[1])])}function sF(r){var e=r[1].Tooltip,t=ye(10+2*(e.length+1));t.write_shift(2,2048);var n=Mr(r[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var i=0;i<e.length;++i)t.write_shift(2,e.charCodeAt(i));return t.write_shift(2,0),t}function oF(r){return r||(r=ye(4)),r.write_shift(2,1),r.write_shift(2,1),r}function aF(r,e,t){if(!t.cellStyles)return ds(r,e);var n=t&&t.biff>=12?4:2,i=r.read_shift(n),o=r.read_shift(n),l=r.read_shift(n),c=r.read_shift(n),f=r.read_shift(2);n==2&&(r.l+=2);var h={s:i,e:o,w:l,ixfe:c,flags:f};return(t.biff>=5||!t.biff)&&(h.level=f>>8&7),h}function lF(r,e){var t=ye(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,r.width*256),t.write_shift(2,0);var n=0;return r.hidden&&(n|=1),t.write_shift(1,n),n=r.level||0,t.write_shift(1,n),t.write_shift(2,0),t}function cF(r){for(var e=ye(2*r),t=0;t<r;++t)e.write_shift(2,t+1);return e}function uF(r,e,t){var n=ye(15);return nf(n,r,e),n.write_shift(8,t,"f"),n}function fF(r,e,t){var n=ye(9);return nf(n,r,e),n.write_shift(2,t),n}var hF=(function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=s1({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(c,f){var h=[],p=Ba(1);switch(f.type){case"base64":p=Di($s(c));break;case"binary":p=Di(c);break;case"buffer":case"array":p=c;break}Wn(p,0);var x=p.read_shift(1),y=!!(x&136),w=!1,S=!1;switch(x){case 2:break;case 3:break;case 48:w=!0,y=!0;break;case 49:w=!0,y=!0;break;case 131:break;case 139:break;case 140:S=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+x.toString(16))}var T=0,A=521;x==2&&(T=p.read_shift(2)),p.l+=3,x!=2&&(T=p.read_shift(4)),T>1048576&&(T=1e6),x!=2&&(A=p.read_shift(2));var j=p.read_shift(2),U=f.codepage||1252;x!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(U=r[p[p.l]]),p.l+=1,p.l+=2),S&&(p.l+=36);for(var F=[],Q={},ne=Math.min(p.length,x==2?521:A-10-(w?264:0)),he=S?32:11;p.l<ne&&p[p.l]!=13;)switch(Q={},Q.name=gd.utils.decode(U,p.slice(p.l,p.l+he)).replace(/[\u0000\r\n].*$/g,""),p.l+=he,Q.type=String.fromCharCode(p.read_shift(1)),x!=2&&!S&&(Q.offset=p.read_shift(4)),Q.len=p.read_shift(1),x==2&&(Q.offset=p.read_shift(2)),Q.dec=p.read_shift(1),Q.name.length&&F.push(Q),x!=2&&(p.l+=S?13:14),Q.type){case"B":(!w||Q.len!=8)&&f.WTF&&console.log("Skipping "+Q.name+":"+Q.type);break;case"G":case"P":f.WTF&&console.log("Skipping "+Q.name+":"+Q.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+Q.type)}if(p[p.l]!==13&&(p.l=A-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=A;var k=0,R=0;for(h[0]=[],R=0;R!=F.length;++R)h[0][R]=F[R].name;for(;T-- >0;){if(p[p.l]===42){p.l+=j;continue}for(++p.l,h[++k]=[],R=0,R=0;R!=F.length;++R){var C=p.slice(p.l,p.l+F[R].len);p.l+=F[R].len,Wn(C,0);var D=gd.utils.decode(U,C);switch(F[R].type){case"C":D.trim().length&&(h[k][R]=D.replace(/\s+$/,""));break;case"D":D.length===8?h[k][R]=new Date(+D.slice(0,4),+D.slice(4,6)-1,+D.slice(6,8)):h[k][R]=D;break;case"F":h[k][R]=parseFloat(D.trim());break;case"+":case"I":h[k][R]=S?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(D.trim().toUpperCase()){case"Y":case"T":h[k][R]=!0;break;case"N":case"F":h[k][R]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+D+"|")}break;case"M":if(!y)throw new Error("DBF Unexpected MEMO for type "+x.toString(16));h[k][R]="##MEMO##"+(S?parseInt(D.trim(),10):C.read_shift(4));break;case"N":D=D.replace(/\u0000/g,"").trim(),D&&D!="."&&(h[k][R]=+D||0);break;case"@":h[k][R]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":h[k][R]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":h[k][R]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[k][R]=-C.read_shift(-8,"f");break;case"B":if(w&&F[R].len==8){h[k][R]=C.read_shift(8,"f");break}case"G":case"P":C.l+=F[R].len;break;case"0":if(F[R].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+F[R].type)}}}if(x!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return f&&f.sheetRows&&(h=h.slice(0,f.sheetRows)),f.DBF=F,h}function n(c,f){var h=f||{};h.dateNF||(h.dateNF="yyyymmdd");var p=vc(t(c,h),h);return p["!cols"]=h.DBF.map(function(x){return{wch:x.len,DBF:x}}),delete h.DBF,p}function i(c,f){try{return Xa(n(c,f),f)}catch(h){if(f&&f.WTF)throw h}return{SheetNames:[],Sheets:{}}}var o={B:8,C:250,L:1,D:8,"?":0,"":0};function l(c,f){var h=f||{};if(+h.codepage>=0&&Du(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var p=Nn(),x=Rd(c,{header:1,raw:!0,cellDates:!0}),y=x[0],w=x.slice(1),S=c["!cols"]||[],T=0,A=0,j=0,U=1;for(T=0;T<y.length;++T){if(((S[T]||{}).DBF||{}).name){y[T]=S[T].DBF.name,++j;continue}if(y[T]!=null){if(++j,typeof y[T]=="number"&&(y[T]=y[T].toString(10)),typeof y[T]!="string")throw new Error("DBF Invalid column name "+y[T]+" |"+typeof y[T]+"|");if(y.indexOf(y[T])!==T){for(A=0;A<1024;++A)if(y.indexOf(y[T]+"_"+A)==-1){y[T]+="_"+A;break}}}}var F=Kt(c["!ref"]),Q=[],ne=[],he=[];for(T=0;T<=F.e.c-F.s.c;++T){var k="",R="",C=0,D=[];for(A=0;A<w.length;++A)w[A][T]!=null&&D.push(w[A][T]);if(D.length==0||y[T]==null){Q[T]="?";continue}for(A=0;A<D.length;++A){switch(typeof D[A]){case"number":R="B";break;case"string":R="C";break;case"boolean":R="L";break;case"object":R=D[A]instanceof Date?"D":"C";break;default:R="C"}C=Math.max(C,String(D[A]).length),k=k&&k!=R?"C":R}C>250&&(C=250),R=((S[T]||{}).DBF||{}).type,R=="C"&&S[T].DBF.len>C&&(C=S[T].DBF.len),k=="B"&&R=="N"&&(k="N",he[T]=S[T].DBF.dec,C=S[T].DBF.len),ne[T]=k=="C"||R=="N"?C:o[k]||0,U+=ne[T],Q[T]=k}var L=p.next(32);for(L.write_shift(4,318902576),L.write_shift(4,w.length),L.write_shift(2,296+32*j),L.write_shift(2,U),T=0;T<4;++T)L.write_shift(4,0);for(L.write_shift(4,0|(+e[pS]||3)<<8),T=0,A=0;T<y.length;++T)if(y[T]!=null){var V=p.next(32),O=(y[T].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);V.write_shift(1,O,"sbcs"),V.write_shift(1,Q[T]=="?"?"C":Q[T],"sbcs"),V.write_shift(4,A),V.write_shift(1,ne[T]||o[Q[T]]||0),V.write_shift(1,he[T]||0),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(1,0),V.write_shift(4,0),V.write_shift(4,0),A+=ne[T]||o[Q[T]]||0}var Me=p.next(264);for(Me.write_shift(4,13),T=0;T<65;++T)Me.write_shift(4,0);for(T=0;T<w.length;++T){var ee=p.next(U);for(ee.write_shift(1,0),A=0;A<y.length;++A)if(y[A]!=null)switch(Q[A]){case"L":ee.write_shift(1,w[T][A]==null?63:w[T][A]?84:70);break;case"B":ee.write_shift(8,w[T][A]||0,"f");break;case"N":var De="0";for(typeof w[T][A]=="number"&&(De=w[T][A].toFixed(he[A]||0)),j=0;j<ne[A]-De.length;++j)ee.write_shift(1,32);ee.write_shift(1,De,"sbcs");break;case"D":w[T][A]?(ee.write_shift(4,("0000"+w[T][A].getFullYear()).slice(-4),"sbcs"),ee.write_shift(2,("00"+(w[T][A].getMonth()+1)).slice(-2),"sbcs"),ee.write_shift(2,("00"+w[T][A].getDate()).slice(-2),"sbcs")):ee.write_shift(8,"00000000","sbcs");break;case"C":var Ce=String(w[T][A]!=null?w[T][A]:"").slice(0,ne[A]);for(ee.write_shift(1,Ce,"sbcs"),j=0;j<ne[A]-Ce.length;++j)ee.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:i,to_sheet:n,from_sheet:l}})(),dF=(function(){var r={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Zr(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(y,w){var S=r[w];return typeof S=="number"?G_(S):S},n=function(y,w,S){var T=w.charCodeAt(0)-32<<4|S.charCodeAt(0)-48;return T==59?y:G_(T)};r["|"]=254;function i(y,w){switch(w.type){case"base64":return o($s(y),w);case"binary":return o(y,w);case"buffer":return o(kt&&Buffer.isBuffer(y)?y.toString("binary"):Ju(y),w);case"array":return o(c0(y),w)}throw new Error("Unrecognized type "+w.type)}function o(y,w){var S=y.split(/[\n\r]+/),T=-1,A=-1,j=0,U=0,F=[],Q=[],ne=null,he={},k=[],R=[],C=[],D=0,L;for(+w.codepage>=0&&Du(+w.codepage);j!==S.length;++j){D=0;var V=S[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,t),O=V.replace(/;;/g,"\0").split(";").map(function(Y){return Y.replace(/\u0000/g,";")}),Me=O[0],ee;if(V.length>0)switch(Me){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":O[1].charAt(0)=="P"&&Q.push(V.slice(3).replace(/;;/g,";"));break;case"C":var De=!1,Ce=!1,pe=!1,Ee=!1,Ae=-1,J=-1;for(U=1;U<O.length;++U)switch(O[U].charAt(0)){case"A":break;case"X":A=parseInt(O[U].slice(1))-1,Ce=!0;break;case"Y":for(T=parseInt(O[U].slice(1))-1,Ce||(A=0),L=F.length;L<=T;++L)F[L]=[];break;case"K":ee=O[U].slice(1),ee.charAt(0)==='"'?ee=ee.slice(1,ee.length-1):ee==="TRUE"?ee=!0:ee==="FALSE"?ee=!1:isNaN(js(ee))?isNaN(Fu(ee).getDate())||(ee=yn(ee)):(ee=js(ee),ne!==null&&IS(ne)&&(ee=bS(ee))),De=!0;break;case"E":Ee=!0;var N=fL(O[U].slice(1),{r:T,c:A});F[T][A]=[F[T][A],N];break;case"S":pe=!0,F[T][A]=[F[T][A],"S5S"];break;case"G":break;case"R":Ae=parseInt(O[U].slice(1))-1;break;case"C":J=parseInt(O[U].slice(1))-1;break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+V)}if(De&&(F[T][A]&&F[T][A].length==2?F[T][A][0]=ee:F[T][A]=ee,ne=null),pe){if(Ee)throw new Error("SYLK shared formula cannot have own formula");var q=Ae>-1&&F[Ae][J];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");F[T][A][1]=hL(q[1],{r:T-Ae,c:A-J})}break;case"F":var K=0;for(U=1;U<O.length;++U)switch(O[U].charAt(0)){case"X":A=parseInt(O[U].slice(1))-1,++K;break;case"Y":for(T=parseInt(O[U].slice(1))-1,L=F.length;L<=T;++L)F[L]=[];break;case"M":D=parseInt(O[U].slice(1))/20;break;case"F":break;case"G":break;case"P":ne=Q[parseInt(O[U].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=O[U].slice(1).split(" "),L=parseInt(C[0],10);L<=parseInt(C[1],10);++L)D=parseInt(C[2],10),R[L-1]=D===0?{hidden:!0}:{wch:D},x1(R[L-1]);break;case"C":A=parseInt(O[U].slice(1))-1,R[A]||(R[A]={});break;case"R":T=parseInt(O[U].slice(1))-1,k[T]||(k[T]={}),D>0?(k[T].hpt=D,k[T].hpx=xA(D)):D===0&&(k[T].hidden=!0);break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+V)}K<1&&(ne=null);break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+V)}}return k.length>0&&(he["!rows"]=k),R.length>0&&(he["!cols"]=R),w&&w.sheetRows&&(F=F.slice(0,w.sheetRows)),[F,he]}function l(y,w){var S=i(y,w),T=S[0],A=S[1],j=vc(T,w);return Zr(A).forEach(function(U){j[U]=A[U]}),j}function c(y,w){return Xa(l(y,w),w)}function f(y,w,S,T){var A="C;Y"+(S+1)+";X"+(T+1)+";K";switch(y.t){case"n":A+=y.v||0,y.f&&!y.F&&(A+=";E"+v1(y.f,{r:S,c:T}));break;case"b":A+=y.v?"TRUE":"FALSE";break;case"e":A+=y.w||y.v;break;case"d":A+='"'+(y.w||y.v)+'"';break;case"s":A+='"'+y.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return A}function h(y,w){w.forEach(function(S,T){var A="F;W"+(T+1)+" "+(T+1)+" ";S.hidden?A+="0":(typeof S.width=="number"&&!S.wpx&&(S.wpx=Sd(S.width)),typeof S.wpx=="number"&&!S.wch&&(S.wch=Ad(S.wpx)),typeof S.wch=="number"&&(A+=Math.round(S.wch))),A.charAt(A.length-1)!=" "&&y.push(A)})}function p(y,w){w.forEach(function(S,T){var A="F;";S.hidden?A+="M0;":S.hpt?A+="M"+20*S.hpt+";":S.hpx&&(A+="M"+20*Id(S.hpx)+";"),A.length>2&&y.push(A+"R"+(T+1))})}function x(y,w){var S=["ID;PWXL;N;E"],T=[],A=Kt(y["!ref"]),j,U=Array.isArray(y),F=`\r
`;S.push("P;PGeneral"),S.push("F;P0;DG0G8;M255"),y["!cols"]&&h(S,y["!cols"]),y["!rows"]&&p(S,y["!rows"]),S.push("B;Y"+(A.e.r-A.s.r+1)+";X"+(A.e.c-A.s.c+1)+";D"+[A.s.c,A.s.r,A.e.c,A.e.r].join(" "));for(var Q=A.s.r;Q<=A.e.r;++Q)for(var ne=A.s.c;ne<=A.e.c;++ne){var he=Mt({r:Q,c:ne});j=U?(y[Q]||[])[ne]:y[he],!(!j||j.v==null&&(!j.f||j.F))&&T.push(f(j,y,Q,ne))}return S.join(F)+F+T.join(F)+F+"E"+F}return{to_workbook:c,to_sheet:l,from_sheet:x}})(),pF=(function(){function r(o,l){switch(l.type){case"base64":return e($s(o),l);case"binary":return e(o,l);case"buffer":return e(kt&&Buffer.isBuffer(o)?o.toString("binary"):Ju(o),l);case"array":return e(c0(o),l)}throw new Error("Unrecognized type "+l.type)}function e(o,l){for(var c=o.split(`
`),f=-1,h=-1,p=0,x=[];p!==c.length;++p){if(c[p].trim()==="BOT"){x[++f]=[],h=0;continue}if(!(f<0)){var y=c[p].trim().split(","),w=y[0],S=y[1];++p;for(var T=c[p]||"";(T.match(/["]/g)||[]).length&1&&p<c.length-1;)T+=`
`+c[++p];switch(T=T.trim(),+w){case-1:if(T==="BOT"){x[++f]=[],h=0;continue}else if(T!=="EOD")throw new Error("Unrecognized DIF special command "+T);break;case 0:T==="TRUE"?x[f][h]=!0:T==="FALSE"?x[f][h]=!1:isNaN(js(S))?isNaN(Fu(S).getDate())?x[f][h]=S:x[f][h]=yn(S):x[f][h]=js(S),++h;break;case 1:T=T.slice(1,T.length-1),T=T.replace(/""/g,'"'),T&&T.match(/^=".*"$/)&&(T=T.slice(2,-1)),x[f][h++]=T!==""?T:null;break}if(T==="EOD")break}}return l&&l.sheetRows&&(x=x.slice(0,l.sheetRows)),x}function t(o,l){return vc(r(o,l),l)}function n(o,l){return Xa(t(o,l),l)}var i=(function(){var o=function(f,h,p,x,y){f.push(h),f.push(p+","+x),f.push('"'+y.replace(/"/g,'""')+'"')},l=function(f,h,p,x){f.push(h+","+p),f.push(h==1?'"'+x.replace(/"/g,'""')+'"':x)};return function(f){var h=[],p=Kt(f["!ref"]),x,y=Array.isArray(f);o(h,"TABLE",0,1,"sheetjs"),o(h,"VECTORS",0,p.e.r-p.s.r+1,""),o(h,"TUPLES",0,p.e.c-p.s.c+1,""),o(h,"DATA",0,0,"");for(var w=p.s.r;w<=p.e.r;++w){l(h,-1,0,"BOT");for(var S=p.s.c;S<=p.e.c;++S){var T=Mt({r:w,c:S});if(x=y?(f[w]||[])[S]:f[T],!x){l(h,1,0,"");continue}switch(x.t){case"n":var A=x.w;!A&&x.v!=null&&(A=x.v),A==null?x.f&&!x.F?l(h,1,0,"="+x.f):l(h,1,0,""):l(h,0,A,"V");break;case"b":l(h,0,x.v?1:0,x.v?"TRUE":"FALSE");break;case"s":l(h,1,0,isNaN(x.v)?x.v:'="'+x.v+'"');break;case"d":x.w||(x.w=Go(x.z||lr[14],Dn(yn(x.v)))),l(h,0,x.w,"V");break;default:l(h,1,0,"")}}}l(h,-1,0,"EOD");var j=`\r
`,U=h.join(j);return U}})();return{to_workbook:n,to_sheet:t,from_sheet:i}})(),dA=(function(){function r(x){return x.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(x){return x.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(x,y){for(var w=x.split(`
`),S=-1,T=-1,A=0,j=[];A!==w.length;++A){var U=w[A].trim().split(":");if(U[0]==="cell"){var F=Mr(U[1]);if(j.length<=F.r)for(S=j.length;S<=F.r;++S)j[S]||(j[S]=[]);switch(S=F.r,T=F.c,U[2]){case"t":j[S][T]=r(U[3]);break;case"v":j[S][T]=+U[3];break;case"vtf":var Q=U[U.length-1];case"vtc":switch(U[3]){case"nl":j[S][T]=!!+U[4];break;default:j[S][T]=+U[4];break}U[2]=="vtf"&&(j[S][T]=[j[S][T],Q])}}}return y&&y.sheetRows&&(j=j.slice(0,y.sheetRows)),j}function n(x,y){return vc(t(x,y),y)}function i(x,y){return Xa(n(x,y),y)}var o=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),f="--SocialCalcSpreadsheetControlSave--";function h(x){if(!x||!x["!ref"])return"";for(var y=[],w=[],S,T="",A=Yn(x["!ref"]),j=Array.isArray(x),U=A.s.r;U<=A.e.r;++U)for(var F=A.s.c;F<=A.e.c;++F)if(T=Mt({r:U,c:F}),S=j?(x[U]||[])[F]:x[T],!(!S||S.v==null||S.t==="z")){switch(w=["cell",T,"t"],S.t){case"s":case"str":w.push(e(S.v));break;case"n":S.f?(w[2]="vtf",w[3]="n",w[4]=S.v,w[5]=e(S.f)):(w[2]="v",w[3]=S.v);break;case"b":w[2]="vt"+(S.f?"f":"c"),w[3]="nl",w[4]=S.v?"1":"0",w[5]=e(S.f||(S.v?"TRUE":"FALSE"));break;case"d":var Q=Dn(yn(S.v));w[2]="vtc",w[3]="nd",w[4]=""+Q,w[5]=S.w||Go(S.z||lr[14],Q);break;case"e":continue}y.push(w.join(":"))}return y.push("sheet:c:"+(A.e.c-A.s.c+1)+":r:"+(A.e.r-A.s.r+1)+":tvf:1"),y.push("valueformat:1:text-wiki"),y.join(`
`)}function p(x){return[o,l,c,l,h(x),f].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:p}})(),gF=(function(){function r(p,x,y,w,S){S.raw?x[y][w]=p:p===""||(p==="TRUE"?x[y][w]=!0:p==="FALSE"?x[y][w]=!1:isNaN(js(p))?isNaN(Fu(p).getDate())?x[y][w]=p:x[y][w]=yn(p):x[y][w]=js(p))}function e(p,x){var y=x||{},w=[];if(!p||p.length===0)return w;for(var S=p.split(/[\r\n]/),T=S.length-1;T>=0&&S[T].length===0;)--T;for(var A=10,j=0,U=0;U<=T;++U)j=S[U].indexOf(" "),j==-1?j=S[U].length:j++,A=Math.max(A,j);for(U=0;U<=T;++U){w[U]=[];var F=0;for(r(S[U].slice(0,A).trim(),w,U,F,y),F=1;F<=(S[U].length-A)/10+1;++F)r(S[U].slice(A+(F-1)*10,A+F*10).trim(),w,U,F,y)}return y.sheetRows&&(w=w.slice(0,y.sheetRows)),w}var t={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(p){for(var x={},y=!1,w=0,S=0;w<p.length;++w)(S=p.charCodeAt(w))==34?y=!y:!y&&S in t&&(x[S]=(x[S]||0)+1);S=[];for(w in x)Object.prototype.hasOwnProperty.call(x,w)&&S.push([x[w],w]);if(!S.length){x=n;for(w in x)Object.prototype.hasOwnProperty.call(x,w)&&S.push([x[w],w])}return S.sort(function(T,A){return T[0]-A[0]||n[T[1]]-n[A[1]]}),t[S.pop()[1]]||44}function o(p,x){var y=x||{},w="",S=y.dense?[]:{},T={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(w=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(w=p.charAt(4),p=p.slice(6)):w=i(p.slice(0,1024)):y&&y.FS?w=y.FS:w=i(p.slice(0,1024));var A=0,j=0,U=0,F=0,Q=0,ne=w.charCodeAt(0),he=!1,k=0,R=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var C=y.dateNF!=null?PO(y.dateNF):null;function D(){var L=p.slice(F,Q),V={};if(L.charAt(0)=='"'&&L.charAt(L.length-1)=='"'&&(L=L.slice(1,-1).replace(/""/g,'"')),L.length===0)V.t="z";else if(y.raw)V.t="s",V.v=L;else if(L.trim().length===0)V.t="s",V.v=L;else if(L.charCodeAt(0)==61)L.charCodeAt(1)==34&&L.charCodeAt(L.length-1)==34?(V.t="s",V.v=L.slice(2,-1).replace(/""/g,'"')):dL(L)?(V.t="n",V.f=L.slice(1)):(V.t="s",V.v=L);else if(L=="TRUE")V.t="b",V.v=!0;else if(L=="FALSE")V.t="b",V.v=!1;else if(!isNaN(U=js(L)))V.t="n",y.cellText!==!1&&(V.w=L),V.v=U;else if(!isNaN(Fu(L).getDate())||C&&L.match(C)){V.z=y.dateNF||lr[14];var O=0;C&&L.match(C)&&(L=NO(L,y.dateNF,L.match(C)||[]),O=1),y.cellDates?(V.t="d",V.v=yn(L,O)):(V.t="n",V.v=Dn(yn(L,O))),y.cellText!==!1&&(V.w=Go(V.z,V.v instanceof Date?Dn(V.v):V.v)),y.cellNF||delete V.z}else V.t="s",V.v=L;if(V.t=="z"||(y.dense?(S[A]||(S[A]=[]),S[A][j]=V):S[Mt({c:j,r:A})]=V),F=Q+1,R=p.charCodeAt(F),T.e.c<j&&(T.e.c=j),T.e.r<A&&(T.e.r=A),k==ne)++j;else if(j=0,++A,y.sheetRows&&y.sheetRows<=A)return!0}e:for(;Q<p.length;++Q)switch(k=p.charCodeAt(Q)){case 34:R===34&&(he=!he);break;case ne:case 10:case 13:if(!he&&D())break e;break}return Q-F>0&&D(),S["!ref"]=Er(T),S}function l(p,x){return!(x&&x.PRN)||x.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?o(p,x):vc(e(p,x),x)}function c(p,x){var y="",w=x.type=="string"?[0,0,0,0]:C7(p,x);switch(x.type){case"base64":y=$s(p);break;case"binary":y=p;break;case"buffer":x.codepage==65001?y=p.toString("utf8"):x.codepage&&typeof gd<"u"||(y=kt&&Buffer.isBuffer(p)?p.toString("binary"):Ju(p));break;case"array":y=c0(p);break;case"string":y=p;break;default:throw new Error("Unrecognized type "+x.type)}return w[0]==239&&w[1]==187&&w[2]==191?y=gu(y.slice(3)):x.type!="string"&&x.type!="buffer"&&x.codepage==65001?y=gu(y):x.type=="binary"&&typeof gd<"u",y.slice(0,19)=="socialcalc:version:"?dA.to_sheet(x.type=="string"?y:gu(y),x):l(y,x)}function f(p,x){return Xa(c(p,x),x)}function h(p){for(var x=[],y=Kt(p["!ref"]),w,S=Array.isArray(p),T=y.s.r;T<=y.e.r;++T){for(var A=[],j=y.s.c;j<=y.e.c;++j){var U=Mt({r:T,c:j});if(w=S?(p[T]||[])[j]:p[U],!w||w.v==null){A.push("          ");continue}for(var F=(w.w||(Hs(w),w.w)||"").slice(0,10);F.length<10;)F+=" ";A.push(F+(j===0?" ":""))}x.push(A.join(""))}return x.join(`
`)}return{to_workbook:f,to_sheet:c,from_sheet:h}})(),T2=(function(){function r(N,q,K){if(N){Wn(N,N.l||0);for(var Y=K.Enum||Ae;N.l<N.length;){var re=N.read_shift(2),_e=Y[re]||Y[65535],ke=N.read_shift(2),Te=N.l+ke,me=_e.f&&_e.f(N,ke,K);if(N.l=Te,q(me,_e,re))return}}}function e(N,q){switch(q.type){case"base64":return t(Di($s(N)),q);case"binary":return t(Di(N),q);case"buffer":case"array":return t(N,q)}throw"Unsupported type "+q.type}function t(N,q){if(!N)return N;var K=q||{},Y=K.dense?[]:{},re="Sheet1",_e="",ke=0,Te={},me=[],Qe=[],Ke={s:{r:0,c:0},e:{r:0,c:0}},dt=K.sheetRows||0;if(N[2]==0&&(N[3]==8||N[3]==9)&&N.length>=16&&N[14]==5&&N[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(N[2]==2)K.Enum=Ae,r(N,function(Ue,mt,ft){switch(ft){case 0:K.vers=Ue,Ue>=4096&&(K.qpro=!0);break;case 6:Ke=Ue;break;case 204:Ue&&(_e=Ue);break;case 222:_e=Ue;break;case 15:case 51:K.qpro||(Ue[1].v=Ue[1].v.slice(1));case 13:case 14:case 16:ft==14&&(Ue[2]&112)==112&&(Ue[2]&15)>1&&(Ue[2]&15)<15&&(Ue[1].z=K.dateNF||lr[14],K.cellDates&&(Ue[1].t="d",Ue[1].v=bS(Ue[1].v))),K.qpro&&Ue[3]>ke&&(Y["!ref"]=Er(Ke),Te[re]=Y,me.push(re),Y=K.dense?[]:{},Ke={s:{r:0,c:0},e:{r:0,c:0}},ke=Ue[3],re=_e||"Sheet"+(ke+1),_e="");var jt=K.dense?(Y[Ue[0].r]||[])[Ue[0].c]:Y[Mt(Ue[0])];if(jt){jt.t=Ue[1].t,jt.v=Ue[1].v,Ue[1].z!=null&&(jt.z=Ue[1].z),Ue[1].f!=null&&(jt.f=Ue[1].f);break}K.dense?(Y[Ue[0].r]||(Y[Ue[0].r]=[]),Y[Ue[0].r][Ue[0].c]=Ue[1]):Y[Mt(Ue[0])]=Ue[1];break}},K);else if(N[2]==26||N[2]==14)K.Enum=J,N[2]==14&&(K.qpro=!0,N.l=0),r(N,function(Ue,mt,ft){switch(ft){case 204:re=Ue;break;case 22:Ue[1].v=Ue[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ue[3]>ke&&(Y["!ref"]=Er(Ke),Te[re]=Y,me.push(re),Y=K.dense?[]:{},Ke={s:{r:0,c:0},e:{r:0,c:0}},ke=Ue[3],re="Sheet"+(ke+1)),dt>0&&Ue[0].r>=dt)break;K.dense?(Y[Ue[0].r]||(Y[Ue[0].r]=[]),Y[Ue[0].r][Ue[0].c]=Ue[1]):Y[Mt(Ue[0])]=Ue[1],Ke.e.c<Ue[0].c&&(Ke.e.c=Ue[0].c),Ke.e.r<Ue[0].r&&(Ke.e.r=Ue[0].r);break;case 27:Ue[14e3]&&(Qe[Ue[14e3][0]]=Ue[14e3][1]);break;case 1537:Qe[Ue[0]]=Ue[1],Ue[0]==ke&&(re=Ue[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+N[2]);if(Y["!ref"]=Er(Ke),Te[_e||re]=Y,me.push(_e||re),!Qe.length)return{SheetNames:me,Sheets:Te};for(var Ze={},it=[],et=0;et<Qe.length;++et)Te[me[et]]?(it.push(Qe[et]||me[et]),Ze[Qe[et]]=Te[Qe[et]]||Te[me[et]]):(it.push(Qe[et]),Ze[Qe[et]]={"!ref":"A1"});return{SheetNames:it,Sheets:Ze}}function n(N,q){var K=q||{};if(+K.codepage>=0&&Du(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var Y=Nn(),re=Kt(N["!ref"]),_e=Array.isArray(N),ke=[];Be(Y,0,o(1030)),Be(Y,6,f(re));for(var Te=Math.min(re.e.r,8191),me=re.s.r;me<=Te;++me)for(var Qe=Qr(me),Ke=re.s.c;Ke<=re.e.c;++Ke){me===re.s.r&&(ke[Ke]=ln(Ke));var dt=ke[Ke]+Qe,Ze=_e?(N[me]||[])[Ke]:N[dt];if(!(!Ze||Ze.t=="z"))if(Ze.t=="n")(Ze.v|0)==Ze.v&&Ze.v>=-32768&&Ze.v<=32767?Be(Y,13,w(me,Ke,Ze.v)):Be(Y,14,T(me,Ke,Ze.v));else{var it=Hs(Ze);Be(Y,15,x(me,Ke,it.slice(0,239)))}}return Be(Y,1),Y.end()}function i(N,q){var K=q||{};if(+K.codepage>=0&&Du(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var Y=Nn();Be(Y,0,l(N));for(var re=0,_e=0;re<N.SheetNames.length;++re)(N.Sheets[N.SheetNames[re]]||{})["!ref"]&&Be(Y,27,Ee(N.SheetNames[re],_e++));var ke=0;for(re=0;re<N.SheetNames.length;++re){var Te=N.Sheets[N.SheetNames[re]];if(!(!Te||!Te["!ref"])){for(var me=Kt(Te["!ref"]),Qe=Array.isArray(Te),Ke=[],dt=Math.min(me.e.r,8191),Ze=me.s.r;Ze<=dt;++Ze)for(var it=Qr(Ze),et=me.s.c;et<=me.e.c;++et){Ze===me.s.r&&(Ke[et]=ln(et));var Ue=Ke[et]+it,mt=Qe?(Te[Ze]||[])[et]:Te[Ue];if(!(!mt||mt.t=="z"))if(mt.t=="n")Be(Y,23,D(Ze,et,ke,mt.v));else{var ft=Hs(mt);Be(Y,22,k(Ze,et,ke,ft.slice(0,239)))}}++ke}}return Be(Y,1),Y.end()}function o(N){var q=ye(2);return q.write_shift(2,N),q}function l(N){var q=ye(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var K=0,Y=0,re=0,_e=0;_e<N.SheetNames.length;++_e){var ke=N.SheetNames[_e],Te=N.Sheets[ke];if(!(!Te||!Te["!ref"])){++re;var me=Yn(Te["!ref"]);K<me.e.r&&(K=me.e.r),Y<me.e.c&&(Y=me.e.c)}}return K>8191&&(K=8191),q.write_shift(2,K),q.write_shift(1,re),q.write_shift(1,Y),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}function c(N,q,K){var Y={s:{c:0,r:0},e:{c:0,r:0}};return q==8&&K.qpro?(Y.s.c=N.read_shift(1),N.l++,Y.s.r=N.read_shift(2),Y.e.c=N.read_shift(1),N.l++,Y.e.r=N.read_shift(2),Y):(Y.s.c=N.read_shift(2),Y.s.r=N.read_shift(2),q==12&&K.qpro&&(N.l+=2),Y.e.c=N.read_shift(2),Y.e.r=N.read_shift(2),q==12&&K.qpro&&(N.l+=2),Y.s.c==65535&&(Y.s.c=Y.e.c=Y.s.r=Y.e.r=0),Y)}function f(N){var q=ye(8);return q.write_shift(2,N.s.c),q.write_shift(2,N.s.r),q.write_shift(2,N.e.c),q.write_shift(2,N.e.r),q}function h(N,q,K){var Y=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(Y[0].c=N.read_shift(1),Y[3]=N.read_shift(1),Y[0].r=N.read_shift(2),N.l+=2):(Y[2]=N.read_shift(1),Y[0].c=N.read_shift(2),Y[0].r=N.read_shift(2)),Y}function p(N,q,K){var Y=N.l+q,re=h(N,q,K);if(re[1].t="s",K.vers==20768){N.l++;var _e=N.read_shift(1);return re[1].v=N.read_shift(_e,"utf8"),re}return K.qpro&&N.l++,re[1].v=N.read_shift(Y-N.l,"cstr"),re}function x(N,q,K){var Y=ye(7+K.length);Y.write_shift(1,255),Y.write_shift(2,q),Y.write_shift(2,N),Y.write_shift(1,39);for(var re=0;re<Y.length;++re){var _e=K.charCodeAt(re);Y.write_shift(1,_e>=128?95:_e)}return Y.write_shift(1,0),Y}function y(N,q,K){var Y=h(N,q,K);return Y[1].v=N.read_shift(2,"i"),Y}function w(N,q,K){var Y=ye(7);return Y.write_shift(1,255),Y.write_shift(2,q),Y.write_shift(2,N),Y.write_shift(2,K,"i"),Y}function S(N,q,K){var Y=h(N,q,K);return Y[1].v=N.read_shift(8,"f"),Y}function T(N,q,K){var Y=ye(13);return Y.write_shift(1,255),Y.write_shift(2,q),Y.write_shift(2,N),Y.write_shift(8,K,"f"),Y}function A(N,q,K){var Y=N.l+q,re=h(N,q,K);if(re[1].v=N.read_shift(8,"f"),K.qpro)N.l=Y;else{var _e=N.read_shift(2);Q(N.slice(N.l,N.l+_e),re),N.l+=_e}return re}function j(N,q,K){var Y=q&32768;return q&=-32769,q=(Y?N:0)+(q>=8192?q-16384:q),(Y?"":"$")+(K?ln(q):Qr(q))}var U={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},F=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function Q(N,q){Wn(N,0);for(var K=[],Y=0,re="",_e="",ke="",Te="";N.l<N.length;){var me=N[N.l++];switch(me){case 0:K.push(N.read_shift(8,"f"));break;case 1:_e=j(q[0].c,N.read_shift(2),!0),re=j(q[0].r,N.read_shift(2),!1),K.push(_e+re);break;case 2:{var Qe=j(q[0].c,N.read_shift(2),!0),Ke=j(q[0].r,N.read_shift(2),!1);_e=j(q[0].c,N.read_shift(2),!0),re=j(q[0].r,N.read_shift(2),!1),K.push(Qe+Ke+":"+_e+re)}break;case 3:if(N.l<N.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(N.read_shift(2));break;case 6:{for(var dt="";me=N[N.l++];)dt+=String.fromCharCode(me);K.push('"'+dt.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:Te=K.pop(),ke=K.pop(),K.push(["AND","OR"][me-20]+"("+ke+","+Te+")");break;default:if(me<32&&F[me])Te=K.pop(),ke=K.pop(),K.push(ke+F[me]+Te);else if(U[me]){if(Y=U[me][1],Y==69&&(Y=N[N.l++]),Y>K.length){console.error("WK1 bad formula parse 0x"+me.toString(16)+":|"+K.join("|")+"|");return}var Ze=K.slice(-Y);K.length-=Y,K.push(U[me][0]+"("+Ze.join(",")+")")}else return me<=7?console.error("WK1 invalid opcode "+me.toString(16)):me<=24?console.error("WK1 unsupported op "+me.toString(16)):me<=30?console.error("WK1 invalid opcode "+me.toString(16)):me<=115?console.error("WK1 unsupported function opcode "+me.toString(16)):console.error("WK1 unrecognized opcode "+me.toString(16))}}K.length==1?q[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function ne(N){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=N.read_shift(2),q[3]=N[N.l++],q[0].c=N[N.l++],q}function he(N,q){var K=ne(N);return K[1].t="s",K[1].v=N.read_shift(q-4,"cstr"),K}function k(N,q,K,Y){var re=ye(6+Y.length);re.write_shift(2,N),re.write_shift(1,K),re.write_shift(1,q),re.write_shift(1,39);for(var _e=0;_e<Y.length;++_e){var ke=Y.charCodeAt(_e);re.write_shift(1,ke>=128?95:ke)}return re.write_shift(1,0),re}function R(N,q){var K=ne(N);K[1].v=N.read_shift(2);var Y=K[1].v>>1;if(K[1].v&1)switch(Y&7){case 0:Y=(Y>>3)*5e3;break;case 1:Y=(Y>>3)*500;break;case 2:Y=(Y>>3)/20;break;case 3:Y=(Y>>3)/200;break;case 4:Y=(Y>>3)/2e3;break;case 5:Y=(Y>>3)/2e4;break;case 6:Y=(Y>>3)/16;break;case 7:Y=(Y>>3)/64;break}return K[1].v=Y,K}function C(N,q){var K=ne(N),Y=N.read_shift(4),re=N.read_shift(4),_e=N.read_shift(2);if(_e==65535)return Y===0&&re===3221225472?(K[1].t="e",K[1].v=15):Y===0&&re===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var ke=_e&32768;return _e=(_e&32767)-16446,K[1].v=(1-ke*2)*(re*Math.pow(2,_e+32)+Y*Math.pow(2,_e)),K}function D(N,q,K,Y){var re=ye(14);if(re.write_shift(2,N),re.write_shift(1,K),re.write_shift(1,q),Y==0)return re.write_shift(4,0),re.write_shift(4,0),re.write_shift(2,65535),re;var _e=0,ke=0,Te=0,me=0;return Y<0&&(_e=1,Y=-Y),ke=Math.log2(Y)|0,Y/=Math.pow(2,ke-31),me=Y>>>0,(me&2147483648)==0&&(Y/=2,++ke,me=Y>>>0),Y-=me,me|=2147483648,me>>>=0,Y*=Math.pow(2,32),Te=Y>>>0,re.write_shift(4,Te),re.write_shift(4,me),ke+=16383+(_e?32768:0),re.write_shift(2,ke),re}function L(N,q){var K=C(N);return N.l+=q-14,K}function V(N,q){var K=ne(N),Y=N.read_shift(4);return K[1].v=Y>>6,K}function O(N,q){var K=ne(N),Y=N.read_shift(8,"f");return K[1].v=Y,K}function Me(N,q){var K=O(N);return N.l+=q-10,K}function ee(N,q){return N[N.l+q-1]==0?N.read_shift(q,"cstr"):""}function De(N,q){var K=N[N.l++];K>q-1&&(K=q-1);for(var Y="";Y.length<K;)Y+=String.fromCharCode(N[N.l++]);return Y}function Ce(N,q,K){if(!(!K.qpro||q<21)){var Y=N.read_shift(1);N.l+=17,N.l+=1,N.l+=2;var re=N.read_shift(q-21,"cstr");return[Y,re]}}function pe(N,q){for(var K={},Y=N.l+q;N.l<Y;){var re=N.read_shift(2);if(re==14e3){for(K[re]=[0,""],K[re][0]=N.read_shift(2);N[N.l];)K[re][1]+=String.fromCharCode(N[N.l]),N.l++;N.l++}}return K}function Ee(N,q){var K=ye(5+N.length);K.write_shift(2,14e3),K.write_shift(2,q);for(var Y=0;Y<N.length;++Y){var re=N.charCodeAt(Y);K[K.l++]=re>127?95:re}return K[K.l++]=0,K}var Ae={0:{n:"BOF",f:lA},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:y},14:{n:"NUMBER",f:S},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:A},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ee},222:{n:"SHEETNAMELP",f:De},65535:{n:""}},J={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:he},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:R},25:{n:"FORMULA19",f:L},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:pe},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:V},38:{n:"??"},39:{n:"NUMBER27",f:O},40:{n:"FORMULA28",f:Me},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ee},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Ce},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}})(),mF=/^\s|\s$|[\t\n\r]/;function pA(r,e){if(!e.bookSST)return"";var t=[Sr];t[t.length]=Le("sst",null,{xmlns:yc[0],count:r.Count,uniqueCount:r.Unique});for(var n=0;n!=r.length;++n)if(r[n]!=null){var i=r[n],o="<si>";i.r?o+=i.r:(o+="<t",i.t||(i.t=""),i.t.match(mF)&&(o+=' xml:space="preserve"'),o+=">"+Lt(i.t)+"</t>"),o+="</si>",t[t.length]=o}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function xF(r){return[r.read_shift(4),r.read_shift(4)]}function yF(r,e){return e||(e=ye(8)),e.write_shift(4,r.Count),e.write_shift(4,r.Unique),e}var vF=c8;function _F(r){var e=Nn();Se(e,159,yF(r));for(var t=0;t<r.length;++t)Se(e,19,vF(r[t]));return Se(e,160),e.end()}function wF(r){for(var e=[],t=r.split(""),n=0;n<t.length;++n)e[n]=t[n].charCodeAt(0);return e}function gA(r){var e=0,t,n=wF(r),i=n.length+1,o,l,c,f,h;for(t=Ba(i),t[0]=n.length,o=1;o!=i;++o)t[o]=n[o-1];for(o=i-1;o>=0;--o)l=t[o],c=(e&16384)===0?0:1,f=e<<1&32767,h=c|f,e=h^l;return e^52811}var EF=(function(){function r(i,o){switch(o.type){case"base64":return e($s(i),o);case"binary":return e(i,o);case"buffer":return e(kt&&Buffer.isBuffer(i)?i.toString("binary"):Ju(i),o);case"array":return e(c0(i),o)}throw new Error("Unrecognized type "+o.type)}function e(i,o){var l=o||{},c=l.dense?[]:{},f=i.match(/\\trowd.*?\\row\b/g);if(!f.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:f.length-1}};return f.forEach(function(p,x){Array.isArray(c)&&(c[x]=[]);for(var y=/\\\w+\b/g,w=0,S,T=-1;S=y.exec(p);){switch(S[0]){case"\\cell":var A=p.slice(w,y.lastIndex-S[0].length);if(A[0]==" "&&(A=A.slice(1)),++T,A.length){var j={v:A,t:"s"};Array.isArray(c)?c[x][T]=j:c[Mt({r:x,c:T})]=j}break}w=y.lastIndex}T>h.e.c&&(h.e.c=T)}),c["!ref"]=Er(h),c}function t(i,o){return Xa(r(i,o),o)}function n(i){for(var o=["{\\rtf1\\ansi"],l=Kt(i["!ref"]),c,f=Array.isArray(i),h=l.s.r;h<=l.e.r;++h){o.push("\\trowd\\trautofit1");for(var p=l.s.c;p<=l.e.c;++p)o.push("\\cellx"+(p+1));for(o.push("\\pard\\intbl"),p=l.s.c;p<=l.e.c;++p){var x=Mt({r:h,c:p});c=f?(i[h]||[])[p]:i[x],!(!c||c.v==null&&(!c.f||c.F))&&(o.push(" "+(c.w||(Hs(c),c.w))),o.push("\\cell"))}o.push("\\pard\\intbl\\row")}return o.join("")+"}"}return{to_workbook:t,to_sheet:r,from_sheet:n}})();function S2(r){for(var e=0,t=1;e!=3;++e)t=t*256+(r[e]>255?255:r[e]<0?0:r[e]);return t.toString(16).toUpperCase().slice(1)}var TF=6,Bs=TF;function Sd(r){return Math.floor((r+Math.round(128/Bs)/256)*Bs)}function Ad(r){return Math.floor((r-5)/Bs*100+.5)/100}function Kg(r){return Math.round((r*Bs+5)/Bs*256)/256}function x1(r){r.width?(r.wpx=Sd(r.width),r.wch=Ad(r.wpx),r.MDW=Bs):r.wpx?(r.wch=Ad(r.wpx),r.width=Kg(r.wch),r.MDW=Bs):typeof r.wch=="number"&&(r.width=Kg(r.wch),r.wpx=Sd(r.width),r.MDW=Bs),r.customWidth&&delete r.customWidth}var SF=96,mA=SF;function Id(r){return r*96/mA}function xA(r){return r*mA/96}function AF(r){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var n=t[0];n<=t[1];++n)r[n]!=null&&(e[e.length]=Le("numFmt",null,{numFmtId:n,formatCode:Lt(r[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Le("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function IF(r){var e=[];return e[e.length]=Le("cellXfs",null),r.forEach(function(t){e[e.length]=Le("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Le("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function yA(r,e){var t=[Sr,Le("styleSheet",null,{xmlns:yc[0],"xmlns:vt":Lr.vt})],n;return r.SSF&&(n=AF(r.SSF))!=null&&(t[t.length]=n),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=IF(e.cellXfs))&&(t[t.length]=n),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function CF(r,e){var t=r.read_shift(2),n=cn(r);return[t,n]}function RF(r,e,t){t||(t=ye(6+4*e.length)),t.write_shift(2,r),jr(e,t);var n=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),n}function kF(r,e,t){var n={};n.sz=r.read_shift(2)/20;var i=m8(r);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var o=r.read_shift(2);switch(o===700&&(n.bold=1),r.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var l=r.read_shift(1);l!=0&&(n.underline=l);var c=r.read_shift(1);c>0&&(n.family=c);var f=r.read_shift(1);switch(f>0&&(n.charset=f),r.l++,n.color=g8(r),r.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=cn(r),n}function bF(r,e){e||(e=ye(153)),e.write_shift(2,r.sz*20),x8(r,e),e.write_shift(2,r.bold?700:400);var t=0;r.vertAlign=="superscript"?t=1:r.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,r.underline||0),e.write_shift(1,r.family||0),e.write_shift(1,r.charset||0),e.write_shift(1,0),Ed(r.color,e);var n=0;return n=2,e.write_shift(1,n),jr(r.name,e),e.length>e.l?e.slice(0,e.l):e}var PF=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],cg,NF=ds;function A2(r,e){e||(e=ye(84)),cg||(cg=s1(PF));var t=cg[r.patternType];t==null&&(t=40),e.write_shift(4,t);var n=0;if(t!=40)for(Ed({auto:1},e),Ed({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function DF(r,e){var t=r.l+e,n=r.read_shift(2),i=r.read_shift(2);return r.l=t,{ixfe:n,numFmtId:i}}function vA(r,e,t){t||(t=ye(16)),t.write_shift(2,e||0),t.write_shift(2,r.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var n=0;return t.write_shift(1,n),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function eu(r,e){return e||(e=ye(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var OF=ds;function FF(r,e){return e||(e=ye(51)),e.write_shift(1,0),eu(null,e),eu(null,e),eu(null,e),eu(null,e),eu(null,e),e.length>e.l?e.slice(0,e.l):e}function LF(r,e){return e||(e=ye(52)),e.write_shift(4,r.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),wd(r.name||"",e),e.length>e.l?e.slice(0,e.l):e}function MF(r,e,t){var n=ye(2052);return n.write_shift(4,r),wd(e,n),wd(t,n),n.length>n.l?n.slice(0,n.l):n}function jF(r,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++t}),t!=0&&(Se(r,615,ji(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&Se(r,44,RF(i,e[i]))}),Se(r,616))}}function BF(r){var e=1;Se(r,611,ji(e)),Se(r,43,bF({sz:12,color:{theme:1},name:"Calibri",family:2})),Se(r,612)}function VF(r){var e=2;Se(r,603,ji(e)),Se(r,45,A2({patternType:"none"})),Se(r,45,A2({patternType:"gray125"})),Se(r,604)}function UF(r){var e=1;Se(r,613,ji(e)),Se(r,46,FF()),Se(r,614)}function zF(r){var e=1;Se(r,626,ji(e)),Se(r,47,vA({numFmtId:0},65535)),Se(r,627)}function WF(r,e){Se(r,617,ji(e.length)),e.forEach(function(t){Se(r,47,vA(t,0))}),Se(r,618)}function $F(r){var e=1;Se(r,619,ji(e)),Se(r,48,LF({xfId:0,name:"Normal"})),Se(r,620)}function HF(r){var e=0;Se(r,505,ji(e)),Se(r,506)}function GF(r){var e=0;Se(r,508,MF(e,"TableStyleMedium9","PivotStyleMedium4")),Se(r,509)}function qF(r,e){var t=Nn();return Se(t,278),jF(t,r.SSF),BF(t),VF(t),UF(t),zF(t),WF(t,e.cellXfs),$F(t),HF(t),GF(t),Se(t,279),t.end()}function _A(r,e){if(e&&e.themeXLSX)return e.themeXLSX;if(r&&typeof r.raw=="string")return r.raw;var t=[Sr];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function KF(r,e){return{flags:r.read_shift(4),version:r.read_shift(4),name:cn(r)}}function XF(r){var e=ye(12+2*r.name.length);return e.write_shift(4,r.flags),e.write_shift(4,r.version),jr(r.name,e),e.slice(0,e.l)}function YF(r){for(var e=[],t=r.read_shift(4);t-- >0;)e.push([r.read_shift(4),r.read_shift(4)]);return e}function QF(r){var e=ye(4+8*r.length);e.write_shift(4,r.length);for(var t=0;t<r.length;++t)e.write_shift(4,r[t][0]),e.write_shift(4,r[t][1]);return e}function JF(r,e){var t=ye(8+2*e.length);return t.write_shift(4,r),jr(e,t),t.slice(0,t.l)}function ZF(r){return r.l+=4,r.read_shift(4)!=0}function eL(r,e){var t=ye(8);return t.write_shift(4,r),t.write_shift(4,1),t}function tL(){var r=Nn();return Se(r,332),Se(r,334,ji(1)),Se(r,335,XF({name:"XLDAPR",version:12e4,flags:3496657072})),Se(r,336),Se(r,339,JF(1,"XLDAPR")),Se(r,52),Se(r,35,ji(514)),Se(r,4096,ji(0)),Se(r,4097,li(1)),Se(r,36),Se(r,53),Se(r,340),Se(r,337,eL(1)),Se(r,51,QF([[1,0]])),Se(r,338),Se(r,333),r.end()}function wA(){var r=[Sr];return r.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),r.join("")}function rL(r){var e={};e.i=r.read_shift(4);var t={};t.r=r.read_shift(4),t.c=r.read_shift(4),e.r=Mt(t);var n=r.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var Wl=1024;function EA(r,e){for(var t=[21600,21600],n=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),i=[Le("xml",null,{"xmlns:v":$n.v,"xmlns:o":$n.o,"xmlns:x":$n.x,"xmlns:mv":$n.mv}).replace(/\/>/,">"),Le("o:shapelayout",Le("o:idmap",null,{"v:ext":"edit",data:r}),{"v:ext":"edit"}),Le("v:shapetype",[Le("v:stroke",null,{joinstyle:"miter"}),Le("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:n})];Wl<r*1e3;)Wl+=1e3;return e.forEach(function(o){var l=Mr(o[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var f=c.type=="gradient"?Le("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,h=Le("v:fill",f,c),p={on:"t",obscured:"t"};++Wl,i=i.concat(["<v:shape"+Mu({id:"_x0000_s"+Wl,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(o[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",h,Le("v:shadow",null,p),Le("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Yr("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),Yr("x:AutoFill","False"),Yr("x:Row",String(l.r)),Yr("x:Column",String(l.c)),o[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function TA(r){var e=[Sr,Le("comments",null,{xmlns:yc[0]})],t=[];return e.push("<authors>"),r.forEach(function(n){n[1].forEach(function(i){var o=Lt(i.a);t.indexOf(o)==-1&&(t.push(o),e.push("<author>"+o+"</author>")),i.T&&i.ID&&t.indexOf("tc="+i.ID)==-1&&(t.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),r.forEach(function(n){var i=0,o=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=t.indexOf("tc="+n[1][0].ID):n[1].forEach(function(f){f.a&&(i=t.indexOf(Lt(f.a))),o.push(f.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),o.length<=1)e.push(Yr("t",Lt(o[0]||"")));else{for(var l=`Comment:
    `+o[0]+`
`,c=1;c<o.length;++c)l+=`Reply:
    `+o[c]+`
`;e.push(Yr("t",Lt(l)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function nL(r,e,t){var n=[Sr,Le("ThreadedComments",null,{xmlns:Lr.TCMNT}).replace(/[\/]>/,">")];return r.forEach(function(i){var o="";(i[1]||[]).forEach(function(l,c){if(!l.T){delete l.ID;return}l.a&&e.indexOf(l.a)==-1&&e.push(l.a);var f={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};c==0?o=f.id:f.parentId=o,l.ID=f.id,l.a&&(f.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(l.a)).slice(-12)+"}"),n.push(Le("threadedComment",Yr("text",l.t||""),f))})}),n.push("</ThreadedComments>"),n.join("")}function iL(r){var e=[Sr,Le("personList",null,{xmlns:Lr.TCMNT,"xmlns:x":yc[0]}).replace(/[\/]>/,">")];return r.forEach(function(t,n){e.push(Le("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function sL(r){var e={};e.iauthor=r.read_shift(4);var t=Za(r);return e.rfx=t.s,e.ref=Mt(t.s),r.l+=16,e}function oL(r,e){return e==null&&(e=ye(36)),e.write_shift(4,r[1].iauthor),_c(r[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var aL=cn;function lL(r){return jr(r.slice(0,54))}function cL(r){var e=Nn(),t=[];return Se(e,628),Se(e,630),r.forEach(function(n){n[1].forEach(function(i){t.indexOf(i.a)>-1||(t.push(i.a.slice(0,54)),Se(e,632,lL(i.a)))})}),Se(e,631),Se(e,633),r.forEach(function(n){n[1].forEach(function(i){i.iauthor=t.indexOf(i.a);var o={s:Mr(n[0]),e:Mr(n[0])};Se(e,635,oL([o,i])),i.t&&i.t.length>0&&Se(e,637,f8(i)),Se(e,636),delete i.iauthor})}),Se(e,634),Se(e,629),e.end()}function uL(r,e){e.FullPaths.forEach(function(t,n){if(n!=0){var i=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Vt.utils.cfb_add(r,i,e.FileIndex[n].content)}})}var SA=["xlsb","xlsm","xlam","biff8","xla"],fL=(function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(n,i,o,l){var c=!1,f=!1;o.length==0?f=!0:o.charAt(0)=="["&&(f=!0,o=o.slice(1,-1)),l.length==0?c=!0:l.charAt(0)=="["&&(c=!0,l=l.slice(1,-1));var h=o.length>0?parseInt(o,10)|0:0,p=l.length>0?parseInt(l,10)|0:0;return c?p+=e.c:--p,f?h+=e.r:--h,i+(c?"":"$")+ln(p)+(f?"":"$")+Qr(h)}return function(i,o){return e=o,i.replace(r,t)}})(),y1=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,v1=(function(){return function(e,t){return e.replace(y1,function(n,i,o,l,c,f){var h=h1(l)-(o?0:t.c),p=f1(f)-(c?0:t.r),x=p==0?"":c?p+1:"["+p+"]",y=h==0?"":o?h+1:"["+h+"]";return i+"R"+x+"C"+y})}})();function hL(r,e){return r.replace(y1,function(t,n,i,o,l,c){return n+(i=="$"?i+o:ln(h1(o)+e.c))+(l=="$"?l+c:Qr(f1(c)+e.r))})}function dL(r){return r.length!=1}function xr(r){r.l+=1}function qo(r,e){var t=r.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function AA(r,e,t){var n=2;if(t){if(t.biff>=2&&t.biff<=5)return IA(r);t.biff==12&&(n=4)}var i=r.read_shift(n),o=r.read_shift(n),l=qo(r),c=qo(r);return{s:{r:i,c:l[0],cRel:l[1],rRel:l[2]},e:{r:o,c:c[0],cRel:c[1],rRel:c[2]}}}function IA(r){var e=qo(r),t=qo(r),n=r.read_shift(1),i=r.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function pL(r,e,t){if(t.biff<8)return IA(r);var n=r.read_shift(t.biff==12?4:2),i=r.read_shift(t.biff==12?4:2),o=qo(r),l=qo(r);return{s:{r:n,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function CA(r,e,t){if(t&&t.biff>=2&&t.biff<=5)return gL(r);var n=r.read_shift(t&&t.biff==12?4:2),i=qo(r);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function gL(r){var e=qo(r),t=r.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function mL(r){var e=r.read_shift(2),t=r.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function xL(r,e,t){var n=t&&t.biff?t.biff:8;if(n>=2&&n<=5)return yL(r);var i=r.read_shift(n>=12?4:2),o=r.read_shift(2),l=(o&16384)>>14,c=(o&32768)>>15;if(o&=16383,c==1)for(;i>524287;)i-=1048576;if(l==1)for(;o>8191;)o=o-16384;return{r:i,c:o,cRel:l,rRel:c}}function yL(r){var e=r.read_shift(2),t=r.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:n}}function vL(r,e,t){var n=(r[r.l++]&96)>>5,i=AA(r,t.biff>=2&&t.biff<=5?6:8,t);return[n,i]}function _L(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2,"i"),o=8;if(t)switch(t.biff){case 5:r.l+=12,o=6;break;case 12:o=12;break}var l=AA(r,o,t);return[n,i,l]}function wL(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t&&t.biff>8?12:t.biff<8?6:8,[n]}function EL(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),o=8;if(t)switch(t.biff){case 5:r.l+=12,o=6;break;case 12:o=12;break}return r.l+=o,[n,i]}function TL(r,e,t){var n=(r[r.l++]&96)>>5,i=pL(r,e-1,t);return[n,i]}function SL(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t.biff==2?6:t.biff==12?14:7,[n]}function I2(r){var e=r[r.l+1]&1,t=1;return r.l+=4,[e,t]}function AL(r,e,t){r.l+=2;for(var n=r.read_shift(t&&t.biff==2?1:2),i=[],o=0;o<=n;++o)i.push(r.read_shift(t&&t.biff==2?1:2));return i}function IL(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function CL(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function RL(r){var e=r[r.l+1]&255?1:0;return r.l+=2,[e,r.read_shift(2)]}function kL(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=t&&t.biff==2?3:4,[n]}function RA(r){var e=r.read_shift(1),t=r.read_shift(1);return[e,t]}function bL(r){return r.read_shift(2),RA(r)}function PL(r){return r.read_shift(2),RA(r)}function NL(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=CA(r,0,t);return[n,i]}function DL(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=xL(r,0,t);return[n,i]}function OL(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(2);t&&t.biff==5&&(r.l+=12);var o=CA(r,0,t);return[n,i,o]}function FL(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(t&&t.biff<=3?1:2);return[FM[i],PA[i],n]}function LL(r,e,t){var n=r[r.l++],i=r.read_shift(1),o=t&&t.biff<=3?[n==88?-1:0,r.read_shift(1)]:ML(r);return[i,(o[0]===0?PA:OM)[o[1]]]}function ML(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function jL(r,e,t){r.l+=t&&t.biff==2?3:4}function BL(r,e,t){if(r.l++,t&&t.biff==12)return[r.read_shift(4,"i"),0];var n=r.read_shift(2),i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function VL(r){return r.l++,tf[r.read_shift(1)]}function UL(r){return r.l++,r.read_shift(2)}function zL(r){return r.l++,r.read_shift(1)!==0}function WL(r){return r.l++,wc(r)}function $L(r,e,t){return r.l++,uA(r,e-1,t)}function HL(r,e){var t=[r.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=O8(r,1)?"TRUE":"FALSE",e!=12&&(r.l+=7);break;case 37:case 16:t[1]=tf[r[r.l]],r.l+=e==12?4:8;break;case 0:r.l+=8;break;case 1:t[1]=wc(r);break;case 2:t[1]=j8(r,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function GL(r,e,t){for(var n=r.read_shift(t.biff==12?4:2),i=[],o=0;o!=n;++o)i.push((t.biff==12?Za:U8)(r));return i}function qL(r,e,t){var n=0,i=0;t.biff==12?(n=r.read_shift(4),i=r.read_shift(4)):(i=1+r.read_shift(1),n=1+r.read_shift(2)),t.biff>=2&&t.biff<8&&(--n,--i==0&&(i=256));for(var o=0,l=[];o!=n&&(l[o]=[]);++o)for(var c=0;c!=i;++c)l[o][c]=HL(r,t.biff);return l}function KL(r,e,t){var n=r.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,o=r.read_shift(i);switch(t.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[n,0,o]}function XL(r,e,t){if(t.biff==5)return YL(r);var n=r.read_shift(1)>>>5&3,i=r.read_shift(2),o=r.read_shift(4);return[n,i,o]}function YL(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2,"i");r.l+=8;var n=r.read_shift(2);return r.l+=12,[e,t,n]}function QL(r,e,t){var n=r.read_shift(1)>>>5&3;r.l+=t&&t.biff==2?3:4;var i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function JL(r,e,t){var n=r.read_shift(1)>>>5&3,i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function ZL(r,e,t){var n=r.read_shift(1)>>>5&3;return r.l+=4,t.biff<8&&r.l--,t.biff==12&&(r.l+=2),[n]}function eM(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),o=4;if(t)switch(t.biff){case 5:o=15;break;case 12:o=6;break}return r.l+=o,[n,i]}var tM=ds,rM=ds,nM=ds;function rf(r,e,t){return r.l+=2,[mL(r)]}function _1(r){return r.l+=6,[]}var iM=rf,sM=_1,oM=_1,aM=rf;function kA(r){return r.l+=2,[lA(r),r.read_shift(2)&1]}var lM=rf,cM=kA,uM=_1,fM=rf,hM=rf,dM=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function pM(r){r.l+=2;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),i=r.read_shift(2),o=r.read_shift(2),l=dM[t>>2&31];return{ixti:e,coltype:t&3,rt:l,idx:n,c:i,C:o}}function gM(r){return r.l+=2,[r.read_shift(4)]}function mM(r,e,t){return r.l+=5,r.l+=2,r.l+=t.biff==2?1:4,["PTGSHEET"]}function xM(r,e,t){return r.l+=t.biff==2?4:5,["PTGENDSHEET"]}function yM(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function vM(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function _M(r){return r.l+=4,[0,0]}var C2={1:{n:"PtgExp",f:BL},2:{n:"PtgTbl",f:nM},3:{n:"PtgAdd",f:xr},4:{n:"PtgSub",f:xr},5:{n:"PtgMul",f:xr},6:{n:"PtgDiv",f:xr},7:{n:"PtgPower",f:xr},8:{n:"PtgConcat",f:xr},9:{n:"PtgLt",f:xr},10:{n:"PtgLe",f:xr},11:{n:"PtgEq",f:xr},12:{n:"PtgGe",f:xr},13:{n:"PtgGt",f:xr},14:{n:"PtgNe",f:xr},15:{n:"PtgIsect",f:xr},16:{n:"PtgUnion",f:xr},17:{n:"PtgRange",f:xr},18:{n:"PtgUplus",f:xr},19:{n:"PtgUminus",f:xr},20:{n:"PtgPercent",f:xr},21:{n:"PtgParen",f:xr},22:{n:"PtgMissArg",f:xr},23:{n:"PtgStr",f:$L},26:{n:"PtgSheet",f:mM},27:{n:"PtgEndSheet",f:xM},28:{n:"PtgErr",f:VL},29:{n:"PtgBool",f:zL},30:{n:"PtgInt",f:UL},31:{n:"PtgNum",f:WL},32:{n:"PtgArray",f:SL},33:{n:"PtgFunc",f:FL},34:{n:"PtgFuncVar",f:LL},35:{n:"PtgName",f:KL},36:{n:"PtgRef",f:NL},37:{n:"PtgArea",f:vL},38:{n:"PtgMemArea",f:QL},39:{n:"PtgMemErr",f:tM},40:{n:"PtgMemNoMem",f:rM},41:{n:"PtgMemFunc",f:JL},42:{n:"PtgRefErr",f:ZL},43:{n:"PtgAreaErr",f:wL},44:{n:"PtgRefN",f:DL},45:{n:"PtgAreaN",f:TL},46:{n:"PtgMemAreaN",f:yM},47:{n:"PtgMemNoMemN",f:vM},57:{n:"PtgNameX",f:XL},58:{n:"PtgRef3d",f:OL},59:{n:"PtgArea3d",f:_L},60:{n:"PtgRefErr3d",f:eM},61:{n:"PtgAreaErr3d",f:EL},255:{}},wM={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},EM={1:{n:"PtgElfLel",f:kA},2:{n:"PtgElfRw",f:fM},3:{n:"PtgElfCol",f:iM},6:{n:"PtgElfRwV",f:hM},7:{n:"PtgElfColV",f:aM},10:{n:"PtgElfRadical",f:lM},11:{n:"PtgElfRadicalS",f:uM},13:{n:"PtgElfColS",f:sM},15:{n:"PtgElfColSV",f:oM},16:{n:"PtgElfRadicalLel",f:cM},25:{n:"PtgList",f:pM},29:{n:"PtgSxName",f:gM},255:{}},TM={0:{n:"PtgAttrNoop",f:_M},1:{n:"PtgAttrSemi",f:kL},2:{n:"PtgAttrIf",f:CL},4:{n:"PtgAttrChoose",f:AL},8:{n:"PtgAttrGoto",f:IL},16:{n:"PtgAttrSum",f:jL},32:{n:"PtgAttrBaxcel",f:I2},33:{n:"PtgAttrBaxcel",f:I2},64:{n:"PtgAttrSpace",f:bL},65:{n:"PtgAttrSpaceSemi",f:PL},128:{n:"PtgAttrIfError",f:RL},255:{}};function SM(r,e,t,n){if(n.biff<8)return ds(r,e);for(var i=r.l+e,o=[],l=0;l!==t.length;++l)switch(t[l][0]){case"PtgArray":t[l][1]=qL(r,0,n),o.push(t[l][1]);break;case"PtgMemArea":t[l][2]=GL(r,t[l][1],n),o.push(t[l][2]);break;case"PtgExp":n&&n.biff==12&&(t[l][1][1]=r.read_shift(4),o.push(t[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[l][0]}return e=i-r.l,e!==0&&o.push(ds(r,e)),o}function AM(r,e,t){for(var n=r.l+e,i,o,l=[];n!=r.l;)e=n-r.l,o=r[r.l],i=C2[o]||C2[wM[o]],(o===24||o===25)&&(i=(o===24?EM:TM)[r[r.l+1]]),!i||!i.f?ds(r,e):l.push([i.n,i.f(r,e,t)]);return l}function IM(r){for(var e=[],t=0;t<r.length;++t){for(var n=r[t],i=[],o=0;o<n.length;++o){var l=n[o];if(l)switch(l[0]){case 2:i.push('"'+l[1].replace(/"/g,'""')+'"');break;default:i.push(l[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var CM={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function RM(r,e){if(!r&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function bA(r,e,t){if(!r)return"SH33TJSERR0";if(t.biff>8&&(!r.XTI||!r.XTI[e]))return r.SheetNames[e];if(!r.XTI)return"SH33TJSERR6";var n=r.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":r.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(t.biff>8)switch(r[n[0]][0]){case 357:return i=n[1]==-1?"#REF":r.SheetNames[n[1]],n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 358:return t.SID!=null?r.SheetNames[t.SID]:"SH33TJSSAME"+r[n[0]][0];case 355:default:return"SH33TJSSRC"+r[n[0]][0]}switch(r[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":r.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 14849:return r[n[0]].slice(1).map(function(o){return o.Name}).join(";;");default:return r[n[0]][0][3]?(i=n[1]==-1?"#REF":r[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+r[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function R2(r,e,t){var n=bA(r,e,t);return n=="#REF"?n:RM(n,t)}function lc(r,e,t,n,i){var o=i&&i.biff||8,l={s:{c:0,r:0}},c=[],f,h,p,x=0,y=0,w,S="";if(!r[0]||!r[0][0])return"";for(var T=-1,A="",j=0,U=r[0].length;j<U;++j){var F=r[0][j];switch(F[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(f=c.pop(),h=c.pop(),T>=0){switch(r[0][T][1][0]){case 0:A=ar(" ",r[0][T][1][1]);break;case 1:A=ar("\r",r[0][T][1][1]);break;default:if(A="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][T][1][0])}h=h+A,T=-1}c.push(h+CM[F[0]]+f);break;case"PtgIsect":f=c.pop(),h=c.pop(),c.push(h+" "+f);break;case"PtgUnion":f=c.pop(),h=c.pop(),c.push(h+","+f);break;case"PtgRange":f=c.pop(),h=c.pop(),c.push(h+":"+f);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=xu(F[1][1],l,i),c.push(yu(p,o));break;case"PtgRefN":p=t?xu(F[1][1],t,i):F[1][1],c.push(yu(p,o));break;case"PtgRef3d":x=F[1][1],p=xu(F[1][2],l,i),S=R2(n,x,i),c.push(S+"!"+yu(p,o));break;case"PtgFunc":case"PtgFuncVar":var Q=F[1][0],ne=F[1][1];Q||(Q=0),Q&=127;var he=Q==0?[]:c.slice(-Q);c.length-=Q,ne==="User"&&(ne=he.shift()),c.push(ne+"("+he.join(",")+")");break;case"PtgBool":c.push(F[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(F[1]);break;case"PtgNum":c.push(String(F[1]));break;case"PtgStr":c.push('"'+F[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(F[1]);break;case"PtgAreaN":w=h2(F[1][1],t?{s:t}:l,i),c.push(ag(w,i));break;case"PtgArea":w=h2(F[1][1],l,i),c.push(ag(w,i));break;case"PtgArea3d":x=F[1][1],w=F[1][2],S=R2(n,x,i),c.push(S+"!"+ag(w,i));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":y=F[1][2];var k=(n.names||[])[y-1]||(n[0]||[])[y],R=k?k.Name:"SH33TJSNAME"+String(y);R&&R.slice(0,6)=="_xlfn."&&!i.xlfn&&(R=R.slice(6)),c.push(R);break;case"PtgNameX":var C=F[1][1];y=F[1][2];var D;if(i.biff<=5)C<0&&(C=-C),n[C]&&(D=n[C][y]);else{var L="";if(((n[C]||[])[0]||[])[0]==14849||(((n[C]||[])[0]||[])[0]==1025?n[C][y]&&n[C][y].itab>0&&(L=n.SheetNames[n[C][y].itab-1]+"!"):L=n.SheetNames[y-1]+"!"),n[C]&&n[C][y])L+=n[C][y].Name;else if(n[0]&&n[0][y])L+=n[0][y].Name;else{var V=(bA(n,C,i)||"").split(";;");V[y-1]?L=V[y-1]:L+="SH33TJSERRX"}c.push(L);break}D||(D={Name:"SH33TJSERRY"}),c.push(D.Name);break;case"PtgParen":var O="(",Me=")";if(T>=0){switch(A="",r[0][T][1][0]){case 2:O=ar(" ",r[0][T][1][1])+O;break;case 3:O=ar("\r",r[0][T][1][1])+O;break;case 4:Me=ar(" ",r[0][T][1][1])+Me;break;case 5:Me=ar("\r",r[0][T][1][1])+Me;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][T][1][0])}T=-1}c.push(O+c.pop()+Me);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":p={c:F[1][1],r:F[1][0]};var ee={c:t.c,r:t.r};if(n.sharedf[Mt(p)]){var De=n.sharedf[Mt(p)];c.push(lc(De,l,ee,n,i))}else{var Ce=!1;for(f=0;f!=n.arrayf.length;++f)if(h=n.arrayf[f],!(p.c<h[0].s.c||p.c>h[0].e.c)&&!(p.r<h[0].s.r||p.r>h[0].e.r)){c.push(lc(h[1],l,ee,n,i)),Ce=!0;break}Ce||c.push(F[1])}break;case"PtgArray":c.push("{"+IM(F[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":T=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+F[1].idx+"[#"+F[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(F));default:throw new Error("Unrecognized Formula Token: "+String(F))}var pe=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&T>=0&&pe.indexOf(r[0][j][0])==-1){F=r[0][T];var Ee=!0;switch(F[1][0]){case 4:Ee=!1;case 0:A=ar(" ",F[1][1]);break;case 5:Ee=!1;case 1:A=ar("\r",F[1][1]);break;default:if(A="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+F[1][0])}c.push((Ee?A:"")+c.pop()+(Ee?"":A)),T=-1}}if(c.length>1&&i.WTF)throw new Error("bad formula stack");return c[0]}function kM(r){if(r==null){var e=ye(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof r=="number")return Va(r);return Va(0)}function bM(r,e,t,n,i){var o=Ua(e,t,i),l=kM(r.v),c=ye(6),f=33;c.write_shift(2,f),c.write_shift(4,0);for(var h=ye(r.bf.length),p=0;p<r.bf.length;++p)h[p]=r.bf[p];var x=Xr([o,l,c,h]);return x}function u0(r,e,t){var n=r.read_shift(4),i=AM(r,n,t),o=r.read_shift(4),l=o>0?SM(r,o,i,t):null;return[i,l]}var PM=u0,f0=u0,NM=u0,DM=u0,OM={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},PA={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},FM={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function LM(r){var e="of:="+r.replace(y1,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function MM(r){return r.replace(/\./,"!")}var vu=typeof Map<"u";function w1(r,e,t){var n=0,i=r.length;if(t){if(vu?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var o=vu?t.get(e):t[e];n<o.length;++n)if(r[o[n]].t===e)return r.Count++,o[n]}}else for(;n<i;++n)if(r[n].t===e)return r.Count++,n;return r[i]={t:e},r.Count++,r.Unique++,t&&(vu?(t.has(e)||t.set(e,[]),t.get(e).push(i)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(i))),i}function h0(r,e){var t={min:r+1,max:r+1},n=-1;return e.MDW&&(Bs=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?n=Ad(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(t.width=Kg(n),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function NA(r,e){if(r){var t=[.7,.7,.75,.75,.3,.3];r.left==null&&(r.left=t[0]),r.right==null&&(r.right=t[1]),r.top==null&&(r.top=t[2]),r.bottom==null&&(r.bottom=t[3]),r.header==null&&(r.header=t[4]),r.footer==null&&(r.footer=t[5])}}function Zo(r,e,t){var n=t.revssf[e.z!=null?e.z:"General"],i=60,o=r.length;if(n==null&&t.ssf){for(;i<392;++i)if(t.ssf[i]==null){CS(e.z,i),t.ssf[i]=e.z,t.revssf[e.z]=n=i;break}}for(i=0;i!=o;++i)if(r[i].numFmtId===n)return i;return r[o]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function jM(r,e,t){if(r&&r["!ref"]){var n=Kt(r["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+t+"): "+r["!ref"])}}function BM(r){if(r.length===0)return"";for(var e='<mergeCells count="'+r.length+'">',t=0;t!=r.length;++t)e+='<mergeCell ref="'+Er(r[t])+'"/>';return e+"</mergeCells>"}function VM(r,e,t,n,i){var o=!1,l={},c=null;if(n.bookType!=="xlsx"&&e.vbaraw){var f=e.SheetNames[t];try{e.Workbook&&(f=e.Workbook.Sheets[t].CodeName||f)}catch{}o=!0,l.codeName=Lu(Lt(f))}if(r&&r["!outline"]){var h={summaryBelow:1,summaryRight:1};r["!outline"].above&&(h.summaryBelow=0),r["!outline"].left&&(h.summaryRight=0),c=(c||"")+Le("outlinePr",null,h)}!o&&!c||(i[i.length]=Le("sheetPr",c,l))}var UM=["objects","scenarios","selectLockedCells","selectUnlockedCells"],zM=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function WM(r){var e={sheet:1};return UM.forEach(function(t){r[t]!=null&&r[t]&&(e[t]="1")}),zM.forEach(function(t){r[t]!=null&&!r[t]&&(e[t]="0")}),r.password&&(e.password=gA(r.password).toString(16).toUpperCase()),Le("sheetProtection",null,e)}function $M(r){return NA(r),Le("pageMargins",null,r)}function HM(r,e){for(var t=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(t[t.length]=Le("col",null,h0(i,n)));return t[t.length]="</cols>",t.join("")}function GM(r,e,t,n){var i=typeof r.ref=="string"?r.ref:Er(r.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var o=t.Workbook.Names,l=Yn(i);l.s.r==l.e.r&&(l.e.r=Yn(e["!ref"]).e.r,i=Er(l));for(var c=0;c<o.length;++c){var f=o[c];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==n){f.Ref="'"+t.SheetNames[n]+"'!"+i;break}}return c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+i}),Le("autoFilter",null,{ref:i})}function qM(r,e,t,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Le("sheetViews",Le("sheetView",null,i),{})}function KM(r,e,t,n){if(r.c&&t["!comments"].push([e,r.c]),r.v===void 0&&typeof r.f!="string"||r.t==="z"&&!r.f)return"";var i="",o=r.t,l=r.v;if(r.t!=="z")switch(r.t){case"b":i=r.v?"1":"0";break;case"n":i=""+r.v;break;case"e":i=tf[r.v];break;case"d":n&&n.cellDates?i=yn(r.v,-1).toISOString():(r=On(r),r.t="n",i=""+(r.v=Dn(yn(r.v)))),typeof r.z>"u"&&(r.z=lr[14]);break;default:i=r.v;break}var c=Yr("v",Lt(i)),f={r:e},h=Zo(n.cellXfs,r,n);switch(h!==0&&(f.s=h),r.t){case"n":break;case"d":f.t="d";break;case"b":f.t="b";break;case"e":f.t="e";break;case"z":break;default:if(r.v==null){delete r.t;break}if(r.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){c=Yr("v",""+w1(n.Strings,r.v,n.revStrings)),f.t="s";break}f.t="str";break}if(r.t!=o&&(r.t=o,r.v=l),typeof r.f=="string"&&r.f){var p=r.F&&r.F.slice(0,e.length)==e?{t:"array",ref:r.F}:null;c=Le("f",Lt(r.f),p)+(r.v!=null?c:"")}return r.l&&t["!links"].push([e,r.l]),r.D&&(f.cm=1),Le("c",c,f)}function XM(r,e,t,n){var i=[],o=[],l=Kt(r["!ref"]),c="",f,h="",p=[],x=0,y=0,w=r["!rows"],S=Array.isArray(r),T={r:h},A,j=-1;for(y=l.s.c;y<=l.e.c;++y)p[y]=ln(y);for(x=l.s.r;x<=l.e.r;++x){for(o=[],h=Qr(x),y=l.s.c;y<=l.e.c;++y){f=p[y]+h;var U=S?(r[x]||[])[y]:r[f];U!==void 0&&(c=KM(U,f,r,e))!=null&&o.push(c)}(o.length>0||w&&w[x])&&(T={r:h},w&&w[x]&&(A=w[x],A.hidden&&(T.hidden=1),j=-1,A.hpx?j=Id(A.hpx):A.hpt&&(j=A.hpt),j>-1&&(T.ht=j,T.customHeight=1),A.level&&(T.outlineLevel=A.level)),i[i.length]=Le("row",o.join(""),T))}if(w)for(;x<w.length;++x)w&&w[x]&&(T={r:x+1},A=w[x],A.hidden&&(T.hidden=1),j=-1,A.hpx?j=Id(A.hpx):A.hpt&&(j=A.hpt),j>-1&&(T.ht=j,T.customHeight=1),A.level&&(T.outlineLevel=A.level),i[i.length]=Le("row","",T));return i.join("")}function DA(r,e,t,n){var i=[Sr,Le("worksheet",null,{xmlns:yc[0],"xmlns:r":Lr.r})],o=t.SheetNames[r],l=0,c="",f=t.Sheets[o];f==null&&(f={});var h=f["!ref"]||"A1",p=Kt(h);if(p.e.c>16383||p.e.r>1048575){if(e.WTF)throw new Error("Range "+h+" exceeds format limit A1:XFD1048576");p.e.c=Math.min(p.e.c,16383),p.e.r=Math.min(p.e.c,1048575),h=Er(p)}n||(n={}),f["!comments"]=[];var x=[];VM(f,t,r,e,i),i[i.length]=Le("dimension",null,{ref:h}),i[i.length]=qM(f,e,r,t),e.sheetFormat&&(i[i.length]=Le("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),f["!cols"]!=null&&f["!cols"].length>0&&(i[i.length]=HM(f,f["!cols"])),i[l=i.length]="<sheetData/>",f["!links"]=[],f["!ref"]!=null&&(c=XM(f,e),c.length>0&&(i[i.length]=c)),i.length>l+1&&(i[i.length]="</sheetData>",i[l]=i[l].replace("/>",">")),f["!protect"]&&(i[i.length]=WM(f["!protect"])),f["!autofilter"]!=null&&(i[i.length]=GM(f["!autofilter"],f,t,r)),f["!merges"]!=null&&f["!merges"].length>0&&(i[i.length]=BM(f["!merges"]));var y=-1,w,S=-1;return f["!links"].length>0&&(i[i.length]="<hyperlinks>",f["!links"].forEach(function(T){T[1].Target&&(w={ref:T[0]},T[1].Target.charAt(0)!="#"&&(S=Ft(n,-1,Lt(T[1].Target).replace(/#.*$/,""),It.HLINK),w["r:id"]="rId"+S),(y=T[1].Target.indexOf("#"))>-1&&(w.location=Lt(T[1].Target.slice(y+1))),T[1].Tooltip&&(w.tooltip=Lt(T[1].Tooltip)),i[i.length]=Le("hyperlink",null,w))}),i[i.length]="</hyperlinks>"),delete f["!links"],f["!margins"]!=null&&(i[i.length]=$M(f["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=Yr("ignoredErrors",Le("ignoredError",null,{numberStoredAsText:1,sqref:h}))),x.length>0&&(S=Ft(n,-1,"../drawings/drawing"+(r+1)+".xml",It.DRAW),i[i.length]=Le("drawing",null,{"r:id":"rId"+S}),f["!drawing"]=x),f["!comments"].length>0&&(S=Ft(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",It.VML),i[i.length]=Le("legacyDrawing",null,{"r:id":"rId"+S}),f["!legacy"]=S),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function YM(r,e){var t={},n=r.l+e;t.r=r.read_shift(4),r.l+=4;var i=r.read_shift(2);r.l+=1;var o=r.read_shift(1);return r.l=n,o&7&&(t.level=o&7),o&16&&(t.hidden=!0),o&32&&(t.hpt=i/20),t}function QM(r,e,t){var n=ye(145),i=(t["!rows"]||[])[r]||{};n.write_shift(4,r),n.write_shift(4,0);var o=320;i.hpx?o=Id(i.hpx)*20:i.hpt&&(o=i.hpt*20),n.write_shift(2,o),n.write_shift(1,0);var l=0;i.level&&(l|=i.level),i.hidden&&(l|=16),(i.hpx||i.hpt)&&(l|=32),n.write_shift(1,l),n.write_shift(1,0);var c=0,f=n.l;n.l+=4;for(var h={r,c:0},p=0;p<16;++p)if(!(e.s.c>p+1<<10||e.e.c<p<<10)){for(var x=-1,y=-1,w=p<<10;w<p+1<<10;++w){h.c=w;var S=Array.isArray(t)?(t[h.r]||[])[h.c]:t[Mt(h)];S&&(x<0&&(x=w),y=w)}x<0||(++c,n.write_shift(4,x),n.write_shift(4,y))}var T=n.l;return n.l=f,n.write_shift(4,c),n.l=T,n.length>n.l?n.slice(0,n.l):n}function JM(r,e,t,n){var i=QM(n,t,e);(i.length>17||(e["!rows"]||[])[n])&&Se(r,0,i)}var ZM=Za,ej=_c;function tj(){}function rj(r,e){var t={},n=r[r.l];return++r.l,t.above=!(n&64),t.left=!(n&128),r.l+=18,t.name=h8(r),t}function nj(r,e,t){t==null&&(t=ye(84+4*r.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),t.write_shift(1,n);for(var i=1;i<3;++i)t.write_shift(1,0);return Ed({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),KS(r,t),t.slice(0,t.l)}function ij(r){var e=gi(r);return[e]}function sj(r,e,t){return t==null&&(t=ye(8)),Ya(e,t)}function oj(r){var e=Qa(r);return[e]}function aj(r,e,t){return t==null&&(t=ye(4)),Ja(e,t)}function lj(r){var e=gi(r),t=r.read_shift(1);return[e,t,"b"]}function cj(r,e,t){return t==null&&(t=ye(9)),Ya(e,t),t.write_shift(1,r.v?1:0),t}function uj(r){var e=Qa(r),t=r.read_shift(1);return[e,t,"b"]}function fj(r,e,t){return t==null&&(t=ye(5)),Ja(e,t),t.write_shift(1,r.v?1:0),t}function hj(r){var e=gi(r),t=r.read_shift(1);return[e,t,"e"]}function dj(r,e,t){return t==null&&(t=ye(9)),Ya(e,t),t.write_shift(1,r.v),t}function pj(r){var e=Qa(r),t=r.read_shift(1);return[e,t,"e"]}function gj(r,e,t){return t==null&&(t=ye(8)),Ja(e,t),t.write_shift(1,r.v),t.write_shift(2,0),t.write_shift(1,0),t}function mj(r){var e=gi(r),t=r.read_shift(4);return[e,t,"s"]}function xj(r,e,t){return t==null&&(t=ye(12)),Ya(e,t),t.write_shift(4,e.v),t}function yj(r){var e=Qa(r),t=r.read_shift(4);return[e,t,"s"]}function vj(r,e,t){return t==null&&(t=ye(8)),Ja(e,t),t.write_shift(4,e.v),t}function _j(r){var e=gi(r),t=wc(r);return[e,t,"n"]}function wj(r,e,t){return t==null&&(t=ye(16)),Ya(e,t),Va(r.v,t),t}function Ej(r){var e=Qa(r),t=wc(r);return[e,t,"n"]}function Tj(r,e,t){return t==null&&(t=ye(12)),Ja(e,t),Va(r.v,t),t}function Sj(r){var e=gi(r),t=XS(r);return[e,t,"n"]}function Aj(r,e,t){return t==null&&(t=ye(12)),Ya(e,t),YS(r.v,t),t}function Ij(r){var e=Qa(r),t=XS(r);return[e,t,"n"]}function Cj(r,e,t){return t==null&&(t=ye(8)),Ja(e,t),YS(r.v,t),t}function Rj(r){var e=gi(r),t=d1(r);return[e,t,"is"]}function kj(r){var e=gi(r),t=cn(r);return[e,t,"str"]}function bj(r,e,t){return t==null&&(t=ye(12+4*r.v.length)),Ya(e,t),jr(r.v,t),t.length>t.l?t.slice(0,t.l):t}function Pj(r){var e=Qa(r),t=cn(r);return[e,t,"str"]}function Nj(r,e,t){return t==null&&(t=ye(8+4*r.v.length)),Ja(e,t),jr(r.v,t),t.length>t.l?t.slice(0,t.l):t}function Dj(r,e,t){var n=r.l+e,i=gi(r);i.r=t["!row"];var o=r.read_shift(1),l=[i,o,"b"];if(t.cellFormula){r.l+=2;var c=f0(r,n-r.l,t);l[3]=lc(c,null,i,t.supbooks,t)}else r.l=n;return l}function Oj(r,e,t){var n=r.l+e,i=gi(r);i.r=t["!row"];var o=r.read_shift(1),l=[i,o,"e"];if(t.cellFormula){r.l+=2;var c=f0(r,n-r.l,t);l[3]=lc(c,null,i,t.supbooks,t)}else r.l=n;return l}function Fj(r,e,t){var n=r.l+e,i=gi(r);i.r=t["!row"];var o=wc(r),l=[i,o,"n"];if(t.cellFormula){r.l+=2;var c=f0(r,n-r.l,t);l[3]=lc(c,null,i,t.supbooks,t)}else r.l=n;return l}function Lj(r,e,t){var n=r.l+e,i=gi(r);i.r=t["!row"];var o=cn(r),l=[i,o,"str"];if(t.cellFormula){r.l+=2;var c=f0(r,n-r.l,t);l[3]=lc(c,null,i,t.supbooks,t)}else r.l=n;return l}var Mj=Za,jj=_c;function Bj(r,e){return e==null&&(e=ye(4)),e.write_shift(4,r),e}function Vj(r,e){var t=r.l+e,n=Za(r),i=p1(r),o=cn(r),l=cn(r),c=cn(r);r.l=t;var f={rfx:n,relId:i,loc:o,display:c};return l&&(f.Tooltip=l),f}function Uj(r,e){var t=ye(50+4*(r[1].Target.length+(r[1].Tooltip||"").length));_c({s:Mr(r[0]),e:Mr(r[0])},t),g1("rId"+e,t);var n=r[1].Target.indexOf("#"),i=n==-1?"":r[1].Target.slice(n+1);return jr(i||"",t),jr(r[1].Tooltip||"",t),jr("",t),t.slice(0,t.l)}function zj(){}function Wj(r,e,t){var n=r.l+e,i=QS(r),o=r.read_shift(1),l=[i];if(l[2]=o,t.cellFormula){var c=PM(r,n-r.l,t);l[1]=c}else r.l=n;return l}function $j(r,e,t){var n=r.l+e,i=Za(r),o=[i];if(t.cellFormula){var l=DM(r,n-r.l,t);o[1]=l,r.l=n}else r.l=n;return o}function Hj(r,e,t){t==null&&(t=ye(18));var n=h0(r,e);t.write_shift(-4,r),t.write_shift(-4,r),t.write_shift(4,(n.width||10)*256),t.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),t.write_shift(2,i),t}var OA=["left","right","top","bottom","header","footer"];function Gj(r){var e={};return OA.forEach(function(t){e[t]=wc(r)}),e}function qj(r,e){return e==null&&(e=ye(48)),NA(r),OA.forEach(function(t){Va(r[t],e)}),e}function Kj(r){var e=r.read_shift(2);return r.l+=28,{RTL:e&32}}function Xj(r,e,t){t==null&&(t=ye(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function Yj(r){var e=ye(24);return e.write_shift(4,4),e.write_shift(4,1),_c(r,e),e}function Qj(r,e){return e==null&&(e=ye(66)),e.write_shift(2,r.password?gA(r.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,r[t[0]]!=null&&!r[t[0]]?1:0):e.write_shift(4,r[t[0]]!=null&&r[t[0]]?0:1)}),e}function Jj(){}function Zj(){}function e9(r,e,t,n,i,o,l){if(e.v===void 0)return!1;var c="";switch(e.t){case"b":c=e.v?"1":"0";break;case"d":e=On(e),e.z=e.z||lr[14],e.v=Dn(yn(e.v)),e.t="n";break;case"n":case"e":c=""+e.v;break;default:c=e.v;break}var f={r:t,c:n};switch(f.s=Zo(i.cellXfs,e,i),e.l&&o["!links"].push([Mt(f),e.l]),e.c&&o["!comments"].push([Mt(f),e.c]),e.t){case"s":case"str":return i.bookSST?(c=w1(i.Strings,e.v,i.revStrings),f.t="s",f.v=c,l?Se(r,18,vj(e,f)):Se(r,7,xj(e,f))):(f.t="str",l?Se(r,17,Nj(e,f)):Se(r,6,bj(e,f))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?l?Se(r,13,Cj(e,f)):Se(r,2,Aj(e,f)):l?Se(r,16,Tj(e,f)):Se(r,5,wj(e,f)),!0;case"b":return f.t="b",l?Se(r,15,fj(e,f)):Se(r,4,cj(e,f)),!0;case"e":return f.t="e",l?Se(r,14,gj(e,f)):Se(r,3,dj(e,f)),!0}return l?Se(r,12,aj(e,f)):Se(r,1,sj(e,f)),!0}function t9(r,e,t,n){var i=Kt(e["!ref"]||"A1"),o,l="",c=[];Se(r,145);var f=Array.isArray(e),h=i.e.r;e["!rows"]&&(h=Math.max(i.e.r,e["!rows"].length-1));for(var p=i.s.r;p<=h;++p){l=Qr(p),JM(r,e,i,p);var x=!1;if(p<=i.e.r)for(var y=i.s.c;y<=i.e.c;++y){p===i.s.r&&(c[y]=ln(y)),o=c[y]+l;var w=f?(e[p]||[])[y]:e[o];if(!w){x=!1;continue}x=e9(r,w,p,y,n,e,x)}}Se(r,146)}function r9(r,e){!e||!e["!merges"]||(Se(r,177,Bj(e["!merges"].length)),e["!merges"].forEach(function(t){Se(r,176,jj(t))}),Se(r,178))}function n9(r,e){!e||!e["!cols"]||(Se(r,390),e["!cols"].forEach(function(t,n){t&&Se(r,60,Hj(n,t))}),Se(r,391))}function i9(r,e){!e||!e["!ref"]||(Se(r,648),Se(r,649,Yj(Kt(e["!ref"]))),Se(r,650))}function s9(r,e,t){e["!links"].forEach(function(n){if(n[1].Target){var i=Ft(t,-1,n[1].Target.replace(/#.*$/,""),It.HLINK);Se(r,494,Uj(n,i))}}),delete e["!links"]}function o9(r,e,t,n){if(e["!comments"].length>0){var i=Ft(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",It.VML);Se(r,551,g1("rId"+i)),e["!legacy"]=i}}function a9(r,e,t,n){if(e["!autofilter"]){var i=e["!autofilter"],o=typeof i.ref=="string"?i.ref:Er(i.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var l=t.Workbook.Names,c=Yn(o);c.s.r==c.e.r&&(c.e.r=Yn(e["!ref"]).e.r,o=Er(c));for(var f=0;f<l.length;++f){var h=l[f];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==n){h.Ref="'"+t.SheetNames[n]+"'!"+o;break}}f==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+o}),Se(r,161,_c(Kt(o))),Se(r,162)}}function l9(r,e,t){Se(r,133),Se(r,137,Xj(e,t)),Se(r,138),Se(r,134)}function c9(r,e){e["!protect"]&&Se(r,535,Qj(e["!protect"]))}function u9(r,e,t,n){var i=Nn(),o=t.SheetNames[r],l=t.Sheets[o]||{},c=o;try{t&&t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}var f=Kt(l["!ref"]||"A1");if(f.e.c>16383||f.e.r>1048575){if(e.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],Se(i,129),(t.vbaraw||l["!outline"])&&Se(i,147,nj(c,l["!outline"])),Se(i,148,ej(f)),l9(i,l,t.Workbook),n9(i,l),t9(i,l,r,e),c9(i,l),a9(i,l,t,r),r9(i,l),s9(i,l,n),l["!margins"]&&Se(i,476,qj(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&i9(i,l),o9(i,l,r,n),Se(i,130),i.end()}function f9(r,e){r.l+=10;var t=cn(r);return{name:t}}var h9=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function d9(r){return!r.Workbook||!r.Workbook.WBProps?"false":$O(r.Workbook.WBProps.date1904)?"true":"false"}var p9="][*?/\\".split("");function FA(r,e){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return p9.forEach(function(n){if(r.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function g9(r,e,t){r.forEach(function(n,i){FA(n);for(var o=0;o<i;++o)if(n==r[o])throw new Error("Duplicate Sheet Name: "+n);if(t){var l=e&&e[i]&&e[i].CodeName||n;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function m9(r){if(!r||!r.SheetNames||!r.Sheets)throw new Error("Invalid Workbook");if(!r.SheetNames.length)throw new Error("Workbook is empty");var e=r.Workbook&&r.Workbook.Sheets||[];g9(r.SheetNames,e,!!r.vbaraw);for(var t=0;t<r.SheetNames.length;++t)jM(r.Sheets[r.SheetNames[t]],r.SheetNames[t],t)}function LA(r){var e=[Sr];e[e.length]=Le("workbook",null,{xmlns:yc[0],"xmlns:r":Lr.r});var t=r.Workbook&&(r.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};r.Workbook&&r.Workbook.WBProps&&(h9.forEach(function(c){r.Workbook.WBProps[c[0]]!=null&&r.Workbook.WBProps[c[0]]!=c[1]&&(n[c[0]]=r.Workbook.WBProps[c[0]])}),r.Workbook.WBProps.CodeName&&(n.codeName=r.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=Le("workbookPr",null,n);var i=r.Workbook&&r.Workbook.Sheets||[],o=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",o=0;o!=r.SheetNames.length&&!(!i[o]||!i[o].Hidden);++o);o==r.SheetNames.length&&(o=0),e[e.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",o=0;o!=r.SheetNames.length;++o){var l={name:Lt(r.SheetNames[o].slice(0,31))};if(l.sheetId=""+(o+1),l["r:id"]="rId"+(o+1),i[o])switch(i[o].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}e[e.length]=Le("sheet",null,l)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",r.Workbook&&r.Workbook.Names&&r.Workbook.Names.forEach(function(c){var f={name:c.Name};c.Comment&&(f.comment=c.Comment),c.Sheet!=null&&(f.localSheetId=""+c.Sheet),c.Hidden&&(f.hidden="1"),c.Ref&&(e[e.length]=Le("definedName",Lt(c.Ref),f))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function x9(r,e){var t={};return t.Hidden=r.read_shift(4),t.iTabID=r.read_shift(4),t.strRelID=qg(r),t.name=cn(r),t}function y9(r,e){return e||(e=ye(127)),e.write_shift(4,r.Hidden),e.write_shift(4,r.iTabID),g1(r.strRelID,e),jr(r.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function v9(r,e){var t={},n=r.read_shift(4);t.defaultThemeVersion=r.read_shift(4);var i=e>8?cn(r):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(n&65536),t.backupFile=!!(n&64),t.checkCompatibility=!!(n&4096),t.date1904=!!(n&1),t.filterPrivacy=!!(n&8),t.hidePivotFieldList=!!(n&1024),t.promptedSolutions=!!(n&16),t.publishItems=!!(n&2048),t.refreshAllConnections=!!(n&262144),t.saveExternalLinkValues=!!(n&128),t.showBorderUnselectedTables=!!(n&4),t.showInkAnnotation=!!(n&32),t.showObjects=["all","placeholders","none"][n>>13&3],t.showPivotChartFilter=!!(n&32768),t.updateLinks=["userSet","never","always"][n>>8&3],t}function _9(r,e){e||(e=ye(72));var t=0;return r&&r.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),KS(r&&r.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function w9(r,e,t){var n=r.l+e;r.l+=4,r.l+=1;var i=r.read_shift(4),o=d8(r),l=NM(r,0,t),c=p1(r);r.l=n;var f={Name:o,Ptg:l};return i<268435455&&(f.Sheet=i),c&&(f.Comment=c),f}function E9(r,e){Se(r,143);for(var t=0;t!=e.SheetNames.length;++t){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,i={Hidden:n,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};Se(r,156,y9(i))}Se(r,144)}function T9(r,e){e||(e=ye(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return jr("SheetJS",e),jr(pd.version,e),jr(pd.version,e),jr("7262",e),e.length>e.l?e.slice(0,e.l):e}function S9(r,e){e||(e=ye(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,r),e.write_shift(4,r);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function A9(r,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,n=0,i=-1,o=-1;n<t.length;++n)!t[n]||!t[n].Hidden&&i==-1?i=n:t[n].Hidden==1&&o==-1&&(o=n);o>i||(Se(r,135),Se(r,158,S9(i)),Se(r,136))}}function I9(r,e){var t=Nn();return Se(t,131),Se(t,128,T9()),Se(t,153,_9(r.Workbook&&r.Workbook.WBProps||null)),A9(t,r),E9(t,r),Se(t,132),t.end()}function C9(r,e,t){return(e.slice(-4)===".bin"?I9:LA)(r)}function R9(r,e,t,n,i){return(e.slice(-4)===".bin"?u9:DA)(r,t,n,i)}function k9(r,e,t){return(e.slice(-4)===".bin"?qF:yA)(r,t)}function b9(r,e,t){return(e.slice(-4)===".bin"?_F:pA)(r,t)}function P9(r,e,t){return(e.slice(-4)===".bin"?cL:TA)(r)}function N9(r){return(r.slice(-4)===".bin"?tL:wA)()}function D9(r,e){var t=[];return r.Props&&t.push(k8(r.Props,e)),r.Custprops&&t.push(b8(r.Props,r.Custprops)),t.join("")}function O9(){return""}function F9(r,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var o=[];o.push(Le("NumberFormat",null,{"ss:Format":Lt(lr[n.numFmtId])}));var l={"ss:ID":"s"+(21+i)};t.push(Le("Style",o.join(""),l))}),Le("Styles",t.join(""))}function MA(r){return Le("NamedRange",null,{"ss:Name":r.Name,"ss:RefersTo":"="+v1(r.Ref,{r:0,c:0})})}function L9(r){if(!((r||{}).Workbook||{}).Names)return"";for(var e=r.Workbook.Names,t=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||t.push(MA(i)))}return Le("Names",t.join(""))}function M9(r,e,t,n){if(!r||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,o=[],l=0;l<i.length;++l){var c=i[l];c.Sheet==t&&(c.Name.match(/^_xlfn\./)||o.push(MA(c)))}return o.join("")}function j9(r,e,t,n){if(!r)return"";var i=[];if(r["!margins"]&&(i.push("<PageSetup>"),r["!margins"].header&&i.push(Le("Header",null,{"x:Margin":r["!margins"].header})),r["!margins"].footer&&i.push(Le("Footer",null,{"x:Margin":r["!margins"].footer})),i.push(Le("PageMargins",null,{"x:Bottom":r["!margins"].bottom||"0.75","x:Left":r["!margins"].left||"0.7","x:Right":r["!margins"].right||"0.7","x:Top":r["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[t])if(n.Workbook.Sheets[t].Hidden)i.push(Le("Visible",n.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<t&&!(n.Workbook.Sheets[o]&&!n.Workbook.Sheets[o].Hidden);++o);o==t&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),r["!protect"]&&(i.push(Yr("ProtectContents","True")),r["!protect"].objects&&i.push(Yr("ProtectObjects","True")),r["!protect"].scenarios&&i.push(Yr("ProtectScenarios","True")),r["!protect"].selectLockedCells!=null&&!r["!protect"].selectLockedCells?i.push(Yr("EnableSelection","NoSelection")):r["!protect"].selectUnlockedCells!=null&&!r["!protect"].selectUnlockedCells&&i.push(Yr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){r["!protect"][l[0]]&&i.push("<"+l[1]+"/>")})),i.length==0?"":Le("WorksheetOptions",i.join(""),{xmlns:$n.x})}function B9(r){return r.map(function(e){var t=WO(e.t||""),n=Le("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return Le("Comment",n,{"ss:Author":e.a})}).join("")}function V9(r,e,t,n,i,o,l){if(!r||r.v==null&&r.f==null)return"";var c={};if(r.f&&(c["ss:Formula"]="="+Lt(v1(r.f,l))),r.F&&r.F.slice(0,e.length)==e){var f=Mr(r.F.slice(e.length+1));c["ss:ArrayRange"]="RC:R"+(f.r==l.r?"":"["+(f.r-l.r)+"]")+"C"+(f.c==l.c?"":"["+(f.c-l.c)+"]")}if(r.l&&r.l.Target&&(c["ss:HRef"]=Lt(r.l.Target),r.l.Tooltip&&(c["x:HRefScreenTip"]=Lt(r.l.Tooltip))),t["!merges"])for(var h=t["!merges"],p=0;p!=h.length;++p)h[p].s.c!=l.c||h[p].s.r!=l.r||(h[p].e.c>h[p].s.c&&(c["ss:MergeAcross"]=h[p].e.c-h[p].s.c),h[p].e.r>h[p].s.r&&(c["ss:MergeDown"]=h[p].e.r-h[p].s.r));var x="",y="";switch(r.t){case"z":if(!n.sheetStubs)return"";break;case"n":x="Number",y=String(r.v);break;case"b":x="Boolean",y=r.v?"1":"0";break;case"e":x="Error",y=tf[r.v];break;case"d":x="DateTime",y=new Date(r.v).toISOString(),r.z==null&&(r.z=r.z||lr[14]);break;case"s":x="String",y=zO(r.v||"");break}var w=Zo(n.cellXfs,r,n);c["ss:StyleID"]="s"+(21+w),c["ss:Index"]=l.c+1;var S=r.v!=null?y:"",T=r.t=="z"?"":'<Data ss:Type="'+x+'">'+S+"</Data>";return(r.c||[]).length>0&&(T+=B9(r.c)),Le("Cell",T,c)}function U9(r,e){var t='<Row ss:Index="'+(r+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=xA(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function z9(r,e,t,n){if(!r["!ref"])return"";var i=Kt(r["!ref"]),o=r["!merges"]||[],l=0,c=[];r["!cols"]&&r["!cols"].forEach(function(A,j){x1(A);var U=!!A.width,F=h0(j,A),Q={"ss:Index":j+1};U&&(Q["ss:Width"]=Sd(F.width)),A.hidden&&(Q["ss:Hidden"]="1"),c.push(Le("Column",null,Q))});for(var f=Array.isArray(r),h=i.s.r;h<=i.e.r;++h){for(var p=[U9(h,(r["!rows"]||[])[h])],x=i.s.c;x<=i.e.c;++x){var y=!1;for(l=0;l!=o.length;++l)if(!(o[l].s.c>x)&&!(o[l].s.r>h)&&!(o[l].e.c<x)&&!(o[l].e.r<h)){(o[l].s.c!=x||o[l].s.r!=h)&&(y=!0);break}if(!y){var w={r:h,c:x},S=Mt(w),T=f?(r[h]||[])[x]:r[S];p.push(V9(T,S,r,e,t,n,w))}}p.push("</Row>"),p.length>2&&c.push(p.join(""))}return c.join("")}function W9(r,e,t){var n=[],i=t.SheetNames[r],o=t.Sheets[i],l=o?M9(o,e,r,t):"";return l.length>0&&n.push("<Names>"+l+"</Names>"),l=o?z9(o,e,r,t):"",l.length>0&&n.push("<Table>"+l+"</Table>"),n.push(j9(o,e,r,t)),n.join("")}function $9(r,e){e||(e={}),r.SSF||(r.SSF=On(lr)),r.SSF&&(a0(),o0(r.SSF),e.revssf=l0(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF,e.cellXfs=[],Zo(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(D9(r,e)),t.push(O9()),t.push(""),t.push("");for(var n=0;n<r.SheetNames.length;++n)t.push(Le("Worksheet",W9(n,e,r),{"ss:Name":Lt(r.SheetNames[n])}));return t[2]=F9(r,e),t[3]=L9(r),Sr+Le("Workbook",t.join(""),{xmlns:$n.ss,"xmlns:o":$n.o,"xmlns:x":$n.x,"xmlns:ss":$n.ss,"xmlns:dt":$n.dt,"xmlns:html":$n.html})}var ug={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function H9(r,e){var t=[],n=[],i=[],o=0,l,c=t2(p2,"n"),f=t2(g2,"n");if(r.Props)for(l=Zr(r.Props),o=0;o<l.length;++o)(Object.prototype.hasOwnProperty.call(c,l[o])?t:Object.prototype.hasOwnProperty.call(f,l[o])?n:i).push([l[o],r.Props[l[o]]]);if(r.Custprops)for(l=Zr(r.Custprops),o=0;o<l.length;++o)Object.prototype.hasOwnProperty.call(r.Props||{},l[o])||(Object.prototype.hasOwnProperty.call(c,l[o])?t:Object.prototype.hasOwnProperty.call(f,l[o])?n:i).push([l[o],r.Custprops[l[o]]]);var h=[];for(o=0;o<i.length;++o)aA.indexOf(i[o][0])>-1||iA.indexOf(i[o][0])>-1||i[o][1]!=null&&h.push(i[o]);n.length&&Vt.utils.cfb_add(e,"/SummaryInformation",_2(n,ug.SI,f,g2)),(t.length||h.length)&&Vt.utils.cfb_add(e,"/DocumentSummaryInformation",_2(t,ug.DSI,c,p2,h.length?h:null,ug.UDI))}function G9(r,e){var t=e||{},n=Vt.utils.cfb_new({root:"R"}),i="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":i="/Workbook",t.biff=8;break;case"biff5":i="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return Vt.utils.cfb_add(n,i,jA(r,t)),t.biff==8&&(r.Props||r.Custprops)&&H9(r,n),t.biff==8&&r.vbaraw&&uL(n,Vt.read(r.vbaraw,{type:typeof r.vbaraw=="string"?"binary":"buffer"})),n}var q9={0:{f:YM},1:{f:ij},2:{f:Sj},3:{f:hj},4:{f:lj},5:{f:_j},6:{f:kj},7:{f:mj},8:{f:Lj},9:{f:Fj},10:{f:Dj},11:{f:Oj},12:{f:oj},13:{f:Ij},14:{f:pj},15:{f:uj},16:{f:Ej},17:{f:Pj},18:{f:yj},19:{f:d1},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:w9},40:{},42:{},43:{f:kF},44:{f:CF},45:{f:NF},46:{f:OF},47:{f:DF},48:{},49:{f:o8},50:{},51:{f:YF},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:aF},62:{f:Rj},63:{f:rL},64:{f:Jj},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ds,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Kj},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:rj},148:{f:ZM,p:16},151:{f:zj},152:{},153:{f:v9},154:{},155:{},156:{f:x9},157:{},158:{},159:{T:1,f:xF},160:{T:-1},161:{T:1,f:Za},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Mj},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:KF},336:{T:-1},337:{f:ZF,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:qg},357:{},358:{},359:{},360:{T:1},361:{},362:{f:tF},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Wj},427:{f:$j},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Gj},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:tj},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Vj},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:qg},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:aL},633:{T:1},634:{T:-1},635:{T:1,f:sL},636:{T:-1},637:{f:u8},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:f9},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Zj},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Be(r,e,t,n){var i=e;if(!isNaN(i)){var o=n||(t||[]).length||0,l=r.next(4);l.write_shift(2,i),l.write_shift(2,o),o>0&&u1(t)&&r.push(t)}}function K9(r,e,t,n){var i=(t||[]).length||0;if(i<=8224)return Be(r,e,t,i);var o=e;if(!isNaN(o)){for(var l=t.parts||[],c=0,f=0,h=0;h+(l[c]||8224)<=8224;)h+=l[c]||8224,c++;var p=r.next(4);for(p.write_shift(2,o),p.write_shift(2,h),r.push(t.slice(f,f+h)),f+=h;f<i;){for(p=r.next(4),p.write_shift(2,60),h=0;h+(l[c]||8224)<=8224;)h+=l[c]||8224,c++;p.write_shift(2,h),r.push(t.slice(f,f+h)),f+=h}}}function nf(r,e,t){return r||(r=ye(7)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,0),r.write_shift(1,0),r}function X9(r,e,t,n){var i=ye(9);return nf(i,r,e),cA(t,n||"b",i),i}function Y9(r,e,t){var n=ye(8+2*t.length);return nf(n,r,e),n.write_shift(1,t.length),n.write_shift(t.length,t,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function Q9(r,e,t,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Dn(yn(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?Be(r,2,fF(t,n,i)):Be(r,3,uF(t,n,i));return;case"b":case"e":Be(r,5,X9(t,n,e.v,e.t));return;case"s":case"str":Be(r,4,Y9(t,n,(e.v||"").slice(0,255)));return}Be(r,1,nf(null,t,n))}function J9(r,e,t,n){var i=Array.isArray(e),o=Kt(e["!ref"]||"A1"),l,c="",f=[];if(o.e.c>255||o.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),l=Er(o)}for(var h=o.s.r;h<=o.e.r;++h){c=Qr(h);for(var p=o.s.c;p<=o.e.c;++p){h===o.s.r&&(f[p]=ln(p)),l=f[p]+c;var x=i?(e[h]||[])[p]:e[l];x&&Q9(r,x,h,p)}}}function Z9(r,e){for(var t=e||{},n=Nn(),i=0,o=0;o<r.SheetNames.length;++o)r.SheetNames[o]==t.sheet&&(i=o);if(i==0&&t.sheet&&r.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return Be(n,t.biff==4?1033:t.biff==3?521:9,m1(r,16,t)),J9(n,r.Sheets[r.SheetNames[i]],i,t),Be(n,10),n.end()}function e7(r,e,t){Be(r,49,q8({sz:12,name:"Arial"},t))}function t7(r,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&Be(r,1054,Y8(i,e[i],t))})}function r7(r,e){var t=ye(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),Be(r,2151,t),t=ye(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),hA(Kt(e["!ref"]||"A1"),t),t.write_shift(4,4),Be(r,2152,t)}function n7(r,e){for(var t=0;t<16;++t)Be(r,224,E2({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){Be(r,224,E2(n,0,e))})}function i7(r,e){for(var t=0;t<e["!links"].length;++t){var n=e["!links"][t];Be(r,440,iF(n)),n[1].Tooltip&&Be(r,2048,sF(n))}delete e["!links"]}function s7(r,e){if(e){var t=0;e.forEach(function(n,i){++t<=256&&n&&Be(r,125,lF(h0(i,n),i))})}}function o7(r,e,t,n,i){var o=16+Zo(i.cellXfs,e,i);if(e.v==null&&!e.bf){Be(r,513,Ua(t,n,o));return}if(e.bf)Be(r,6,bM(e,t,n,i,o));else switch(e.t){case"d":case"n":var l=e.t=="d"?Dn(yn(e.v)):e.v;Be(r,515,eF(t,n,l,o));break;case"b":case"e":Be(r,517,Z8(t,n,e.v,o,i,e.t));break;case"s":case"str":if(i.bookSST){var c=w1(i.Strings,e.v,i.revStrings);Be(r,253,K8(t,n,c,o))}else Be(r,516,X8(t,n,(e.v||"").slice(0,255),o,i));break;default:Be(r,513,Ua(t,n,o))}}function a7(r,e,t){var n=Nn(),i=t.SheetNames[r],o=t.Sheets[i]||{},l=(t||{}).Workbook||{},c=(l.Sheets||[])[r]||{},f=Array.isArray(o),h=e.biff==8,p,x="",y=[],w=Kt(o["!ref"]||"A1"),S=h?65536:16384;if(w.e.c>255||w.e.r>=S){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");w.e.c=Math.min(w.e.c,255),w.e.r=Math.min(w.e.c,S-1)}Be(n,2057,m1(t,16,e)),Be(n,13,li(1)),Be(n,12,li(100)),Be(n,15,xn(!0)),Be(n,17,xn(!1)),Be(n,16,Va(.001)),Be(n,95,xn(!0)),Be(n,42,xn(!1)),Be(n,43,xn(!1)),Be(n,130,li(1)),Be(n,128,J8()),Be(n,131,xn(!1)),Be(n,132,xn(!1)),h&&s7(n,o["!cols"]),Be(n,512,Q8(w,e)),h&&(o["!links"]=[]);for(var T=w.s.r;T<=w.e.r;++T){x=Qr(T);for(var A=w.s.c;A<=w.e.c;++A){T===w.s.r&&(y[A]=ln(A)),p=y[A]+x;var j=f?(o[T]||[])[A]:o[p];j&&(o7(n,j,T,A,e),h&&j.l&&o["!links"].push([p,j.l]))}}var U=c.CodeName||c.name||i;return h&&Be(n,574,G8((l.Views||[])[0])),h&&(o["!merges"]||[]).length&&Be(n,229,nF(o["!merges"])),h&&i7(n,o),Be(n,442,fA(U)),h&&r7(n,o),Be(n,10),n.end()}function l7(r,e,t){var n=Nn(),i=(r||{}).Workbook||{},o=i.Sheets||[],l=i.WBProps||{},c=t.biff==8,f=t.biff==5;if(Be(n,2057,m1(r,5,t)),t.bookType=="xla"&&Be(n,135),Be(n,225,c?li(1200):null),Be(n,193,D8(2)),f&&Be(n,191),f&&Be(n,192),Be(n,226),Be(n,92,z8("SheetJS",t)),Be(n,66,li(c?1200:1252)),c&&Be(n,353,li(0)),c&&Be(n,448),Be(n,317,cF(r.SheetNames.length)),c&&r.vbaraw&&Be(n,211),c&&r.vbaraw){var h=l.CodeName||"ThisWorkbook";Be(n,442,fA(h))}Be(n,156,li(17)),Be(n,25,xn(!1)),Be(n,18,xn(!1)),Be(n,19,li(0)),c&&Be(n,431,xn(!1)),c&&Be(n,444,li(0)),Be(n,61,H8()),Be(n,64,xn(!1)),Be(n,141,li(0)),Be(n,34,xn(d9(r)=="true")),Be(n,14,xn(!0)),c&&Be(n,439,xn(!1)),Be(n,218,li(0)),e7(n,r,t),t7(n,r.SSF,t),n7(n,t),c&&Be(n,352,xn(!1));var p=n.end(),x=Nn();c&&Be(x,140,oF()),c&&t.Strings&&K9(x,252,$8(t.Strings)),Be(x,10);var y=x.end(),w=Nn(),S=0,T=0;for(T=0;T<r.SheetNames.length;++T)S+=(c?12:11)+(c?2:1)*r.SheetNames[T].length;var A=p.length+S+y.length;for(T=0;T<r.SheetNames.length;++T){var j=o[T]||{};Be(w,133,W8({pos:A,hs:j.Hidden||0,dt:0,name:r.SheetNames[T]},t)),A+=e[T].length}var U=w.end();if(S!=U.length)throw new Error("BS8 "+S+" != "+U.length);var F=[];return p.length&&F.push(p),U.length&&F.push(U),y.length&&F.push(y),Xr(F)}function c7(r,e){var t=e||{},n=[];r&&!r.SSF&&(r.SSF=On(lr)),r&&r.SSF&&(a0(),o0(r.SSF),t.revssf=l0(r.SSF),t.revssf[r.SSF[65535]]=0,t.ssf=r.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,E1(t),t.cellXfs=[],Zo(t.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={});for(var i=0;i<r.SheetNames.length;++i)n[n.length]=a7(i,t,r);return n.unshift(l7(r,n,t)),Xr(n)}function jA(r,e){for(var t=0;t<=r.SheetNames.length;++t){var n=r.Sheets[r.SheetNames[t]];if(!(!n||!n["!ref"])){var i=Yn(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+r.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var o=e||{};switch(o.biff||2){case 8:case 5:return c7(r,e);case 4:case 3:case 2:return Z9(r,e)}throw new Error("invalid type "+o.bookType+" for BIFF")}function u7(r,e,t,n){for(var i=r["!merges"]||[],o=[],l=e.s.c;l<=e.e.c;++l){for(var c=0,f=0,h=0;h<i.length;++h)if(!(i[h].s.r>t||i[h].s.c>l)&&!(i[h].e.r<t||i[h].e.c<l)){if(i[h].s.r<t||i[h].s.c<l){c=-1;break}c=i[h].e.r-i[h].s.r+1,f=i[h].e.c-i[h].s.c+1;break}if(!(c<0)){var p=Mt({r:t,c:l}),x=n.dense?(r[t]||[])[l]:r[p],y=x&&x.v!=null&&(x.h||UO(x.w||(Hs(x),x.w)||""))||"",w={};c>1&&(w.rowspan=c),f>1&&(w.colspan=f),n.editable?y='<span contenteditable="true">'+y+"</span>":x&&(w["data-t"]=x&&x.t||"z",x.v!=null&&(w["data-v"]=x.v),x.z!=null&&(w["data-z"]=x.z),x.l&&(x.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+x.l.Target+'">'+y+"</a>")),w.id=(n.id||"sjs")+"-"+p,o.push(Le("td",y,w))}}var S="<tr>";return S+o.join("")+"</tr>"}var f7='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',h7="</body></html>";function d7(r,e,t){var n=[];return n.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function BA(r,e){var t=e||{},n=t.header!=null?t.header:f7,i=t.footer!=null?t.footer:h7,o=[n],l=Yn(r["!ref"]);t.dense=Array.isArray(r),o.push(d7(r,l,t));for(var c=l.s.r;c<=l.e.r;++c)o.push(u7(r,l,c,t));return o.push("</table>"+i),o.join("")}function VA(r,e,t){var n=t||{},i=0,o=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var l=typeof n.origin=="string"?Mr(n.origin):n.origin;i=l.r,o=l.c}var c=e.getElementsByTagName("tr"),f=Math.min(n.sheetRows||1e7,c.length),h={s:{r:0,c:0},e:{r:i,c:o}};if(r["!ref"]){var p=Yn(r["!ref"]);h.s.r=Math.min(h.s.r,p.s.r),h.s.c=Math.min(h.s.c,p.s.c),h.e.r=Math.max(h.e.r,p.e.r),h.e.c=Math.max(h.e.c,p.e.c),i==-1&&(h.e.r=i=p.e.r+1)}var x=[],y=0,w=r["!rows"]||(r["!rows"]=[]),S=0,T=0,A=0,j=0,U=0,F=0;for(r["!cols"]||(r["!cols"]=[]);S<c.length&&T<f;++S){var Q=c[S];if(k2(Q)){if(n.display)continue;w[T]={hidden:!0}}var ne=Q.children;for(A=j=0;A<ne.length;++A){var he=ne[A];if(!(n.display&&k2(he))){var k=he.hasAttribute("data-v")?he.getAttribute("data-v"):he.hasAttribute("v")?he.getAttribute("v"):HO(he.innerHTML),R=he.getAttribute("data-z")||he.getAttribute("z");for(y=0;y<x.length;++y){var C=x[y];C.s.c==j+o&&C.s.r<T+i&&T+i<=C.e.r&&(j=C.e.c+1-o,y=-1)}F=+he.getAttribute("colspan")||1,((U=+he.getAttribute("rowspan")||1)>1||F>1)&&x.push({s:{r:T+i,c:j+o},e:{r:T+i+(U||1)-1,c:j+o+(F||1)-1}});var D={t:"s",v:k},L=he.getAttribute("data-t")||he.getAttribute("t")||"";k!=null&&(k.length==0?D.t=L||"z":n.raw||k.trim().length==0||L=="s"||(k==="TRUE"?D={t:"b",v:!0}:k==="FALSE"?D={t:"b",v:!1}:isNaN(js(k))?isNaN(Fu(k).getDate())||(D={t:"d",v:yn(k)},n.cellDates||(D={t:"n",v:Dn(D.v)}),D.z=n.dateNF||lr[14]):D={t:"n",v:js(k)})),D.z===void 0&&R!=null&&(D.z=R);var V="",O=he.getElementsByTagName("A");if(O&&O.length)for(var Me=0;Me<O.length&&!(O[Me].hasAttribute("href")&&(V=O[Me].getAttribute("href"),V.charAt(0)!="#"));++Me);V&&V.charAt(0)!="#"&&(D.l={Target:V}),n.dense?(r[T+i]||(r[T+i]=[]),r[T+i][j+o]=D):r[Mt({c:j+o,r:T+i})]=D,h.e.c<j+o&&(h.e.c=j+o),j+=F}}++T}return x.length&&(r["!merges"]=(r["!merges"]||[]).concat(x)),h.e.r=Math.max(h.e.r,T-1+i),r["!ref"]=Er(h),T>=f&&(r["!fullref"]=Er((h.e.r=c.length-S+T-1+i,h))),r}function UA(r,e){var t=e||{},n=t.dense?[]:{};return VA(n,r,e)}function p7(r,e){return Xa(UA(r,e),e)}function k2(r){var e="",t=g7(r);return t&&(e=t(r).getPropertyValue("display")),e||(e=r.style&&r.style.display),e==="none"}function g7(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var m7=(function(){var r=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Mu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+r+"</office:document-styles>";return function(){return Sr+e}})(),b2=(function(){var r=function(o){return Lt(o).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,n=function(o,l,c){var f=[];f.push('      <table:table table:name="'+Lt(l.SheetNames[c])+`" table:style-name="ta1">
`);var h=0,p=0,x=Yn(o["!ref"]||"A1"),y=o["!merges"]||[],w=0,S=Array.isArray(o);if(o["!cols"])for(p=0;p<=x.e.c;++p)f.push("        <table:table-column"+(o["!cols"][p]?' table:style-name="co'+o["!cols"][p].ods+'"':"")+`></table:table-column>
`);var T="",A=o["!rows"]||[];for(h=0;h<x.s.r;++h)T=A[h]?' table:style-name="ro'+A[h].ods+'"':"",f.push("        <table:table-row"+T+`></table:table-row>
`);for(;h<=x.e.r;++h){for(T=A[h]?' table:style-name="ro'+A[h].ods+'"':"",f.push("        <table:table-row"+T+`>
`),p=0;p<x.s.c;++p)f.push(e);for(;p<=x.e.c;++p){var j=!1,U={},F="";for(w=0;w!=y.length;++w)if(!(y[w].s.c>p)&&!(y[w].s.r>h)&&!(y[w].e.c<p)&&!(y[w].e.r<h)){(y[w].s.c!=p||y[w].s.r!=h)&&(j=!0),U["table:number-columns-spanned"]=y[w].e.c-y[w].s.c+1,U["table:number-rows-spanned"]=y[w].e.r-y[w].s.r+1;break}if(j){f.push(t);continue}var Q=Mt({r:h,c:p}),ne=S?(o[h]||[])[p]:o[Q];if(ne&&ne.f&&(U["table:formula"]=Lt(LM(ne.f)),ne.F&&ne.F.slice(0,Q.length)==Q)){var he=Yn(ne.F);U["table:number-matrix-columns-spanned"]=he.e.c-he.s.c+1,U["table:number-matrix-rows-spanned"]=he.e.r-he.s.r+1}if(!ne){f.push(e);continue}switch(ne.t){case"b":F=ne.v?"TRUE":"FALSE",U["office:value-type"]="boolean",U["office:boolean-value"]=ne.v?"true":"false";break;case"n":F=ne.w||String(ne.v||0),U["office:value-type"]="float",U["office:value"]=ne.v||0;break;case"s":case"str":F=ne.v==null?"":ne.v,U["office:value-type"]="string";break;case"d":F=ne.w||yn(ne.v).toISOString(),U["office:value-type"]="date",U["office:date-value"]=yn(ne.v).toISOString(),U["table:style-name"]="ce1";break;default:f.push(e);continue}var k=r(F);if(ne.l&&ne.l.Target){var R=ne.l.Target;R=R.charAt(0)=="#"?"#"+MM(R.slice(1)):R,R.charAt(0)!="#"&&!R.match(/^\w+:/)&&(R="../"+R),k=Le("text:a",k,{"xlink:href":R.replace(/&/g,"&amp;")})}f.push("          "+Le("table:table-cell",Le("text:p",k,{}),U)+`
`)}f.push(`        </table:table-row>
`)}return f.push(`      </table:table>
`),f.join("")},i=function(o,l){o.push(` <office:automatic-styles>
`),o.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),o.push(`   <number:month number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:day number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:year/>
`),o.push(`  </number:date-style>
`);var c=0;l.SheetNames.map(function(h){return l.Sheets[h]}).forEach(function(h){if(h&&h["!cols"]){for(var p=0;p<h["!cols"].length;++p)if(h["!cols"][p]){var x=h["!cols"][p];if(x.width==null&&x.wpx==null&&x.wch==null)continue;x1(x),x.ods=c;var y=h["!cols"][p].wpx+"px";o.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),o.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+y+`"/>
`),o.push(`  </style:style>
`),++c}}});var f=0;l.SheetNames.map(function(h){return l.Sheets[h]}).forEach(function(h){if(h&&h["!rows"]){for(var p=0;p<h["!rows"].length;++p)if(h["!rows"][p]){h["!rows"][p].ods=f;var x=h["!rows"][p].hpx+"px";o.push('  <style:style style:name="ro'+f+`" style:family="table-row">
`),o.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+x+`"/>
`),o.push(`  </style:style>
`),++f}}}),o.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),o.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),o.push(`  </style:style>
`),o.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),o.push(` </office:automatic-styles>
`)};return function(l,c){var f=[Sr],h=Mu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),p=Mu({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(f.push("<office:document"+h+p+`>
`),f.push(rA().replace(/office:document-meta/g,"office:meta"))):f.push("<office:document-content"+h+`>
`),i(f,l),f.push(`  <office:body>
`),f.push(`    <office:spreadsheet>
`);for(var x=0;x!=l.SheetNames.length;++x)f.push(n(l.Sheets[l.SheetNames[x]],l,x));return f.push(`    </office:spreadsheet>
`),f.push(`  </office:body>
`),c.bookType=="fods"?f.push("</office:document>"):f.push("</office:document-content>"),f.join("")}})();function zA(r,e){if(e.bookType=="fods")return b2(r,e);var t=o1(),n="",i=[],o=[];return n="mimetype",ht(t,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",ht(t,n,b2(r,e)),i.push([n,"text/xml"]),o.push([n,"ContentFile"]),n="styles.xml",ht(t,n,m7(r,e)),i.push([n,"text/xml"]),o.push([n,"StylesFile"]),n="meta.xml",ht(t,n,Sr+rA()),i.push([n,"text/xml"]),o.push([n,"MetadataFile"]),n="manifest.rdf",ht(t,n,R8(o)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",ht(t,n,I8(i)),t}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Cd(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function x7(r){return typeof TextEncoder<"u"?new TextEncoder().encode(r):Di(Lu(r))}function y7(r,e){e:for(var t=0;t<=r.length-e.length;++t){for(var n=0;n<e.length;++n)if(r[t+n]!=e[n])continue e;return!0}return!1}function Ko(r){var e=r.reduce(function(i,o){return i+o.length},0),t=new Uint8Array(e),n=0;return r.forEach(function(i){t.set(i,n),n+=i.length}),t}function v7(r,e,t){var n=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,i=t/Math.pow(10,n-6176);r[e+15]|=n>>7,r[e+14]|=(n&127)<<1;for(var o=0;i>=1;++o,i/=256)r[e+o]=i&255;r[e+15]|=t>=0?0:128}function ju(r,e){var t=e?e[0]:0,n=r[t]&127;e:if(r[t++]>=128&&(n|=(r[t]&127)<<7,r[t++]<128||(n|=(r[t]&127)<<14,r[t++]<128)||(n|=(r[t]&127)<<21,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,28),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,35),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,42),++t,r[t++]<128)))break e;return e&&(e[0]=t),n}function Ot(r){var e=new Uint8Array(7);e[0]=r&127;var t=1;e:if(r>127){if(e[t-1]|=128,e[t]=r>>7&127,++t,r<=16383||(e[t-1]|=128,e[t]=r>>14&127,++t,r<=2097151)||(e[t-1]|=128,e[t]=r>>21&127,++t,r<=268435455)||(e[t-1]|=128,e[t]=r/256>>>21&127,++t,r<=34359738367)||(e[t-1]|=128,e[t]=r/65536>>>21&127,++t,r<=4398046511103))break e;e[t-1]|=128,e[t]=r/16777216>>>21&127,++t}return e.slice(0,t)}function Jl(r){var e=0,t=r[e]&127;e:if(r[e++]>=128){if(t|=(r[e]&127)<<7,r[e++]<128||(t|=(r[e]&127)<<14,r[e++]<128)||(t|=(r[e]&127)<<21,r[e++]<128))break e;t|=(r[e]&127)<<28}return t}function Rr(r){for(var e=[],t=[0];t[0]<r.length;){var n=t[0],i=ju(r,t),o=i&7;i=Math.floor(i/8);var l=0,c;if(i==0)break;switch(o){case 0:{for(var f=t[0];r[t[0]++]>=128;);c=r.slice(f,t[0])}break;case 5:l=4,c=r.slice(t[0],t[0]+l),t[0]+=l;break;case 1:l=8,c=r.slice(t[0],t[0]+l),t[0]+=l;break;case 2:l=ju(r,t),c=r.slice(t[0],t[0]+l),t[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(o," for Field ").concat(i," at offset ").concat(n))}var h={data:c,type:o};e[i]==null?e[i]=[h]:e[i].push(h)}return e}function Hr(r){var e=[];return r.forEach(function(t,n){t.forEach(function(i){i.data&&(e.push(Ot(n*8+i.type)),i.type==2&&e.push(Ot(i.data.length)),e.push(i.data))})}),Ko(e)}function Pi(r){for(var e,t=[],n=[0];n[0]<r.length;){var i=ju(r,n),o=Rr(r.slice(n[0],n[0]+i));n[0]+=i;var l={id:Jl(o[1][0].data),messages:[]};o[2].forEach(function(c){var f=Rr(c.data),h=Jl(f[3][0].data);l.messages.push({meta:f,data:r.slice(n[0],n[0]+h)}),n[0]+=h}),(e=o[3])!=null&&e[0]&&(l.merge=Jl(o[3][0].data)>>>0>0),t.push(l)}return t}function Ol(r){var e=[];return r.forEach(function(t){var n=[];n[1]=[{data:Ot(t.id),type:0}],n[2]=[],t.merge!=null&&(n[3]=[{data:Ot(+!!t.merge),type:0}]);var i=[];t.messages.forEach(function(l){i.push(l.data),l.meta[3]=[{type:0,data:Ot(l.data.length)}],n[2].push({data:Hr(l.meta),type:2})});var o=Hr(n);e.push(Ot(o.length)),e.push(o),i.forEach(function(l){return e.push(l)})}),Ko(e)}function _7(r,e){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var t=[0],n=ju(e,t),i=[];t[0]<e.length;){var o=e[t[0]]&3;if(o==0){var l=e[t[0]++]>>2;if(l<60)++l;else{var c=l-59;l=e[t[0]],c>1&&(l|=e[t[0]+1]<<8),c>2&&(l|=e[t[0]+2]<<16),c>3&&(l|=e[t[0]+3]<<24),l>>>=0,l++,t[0]+=c}i.push(e.slice(t[0],t[0]+l)),t[0]+=l;continue}else{var f=0,h=0;if(o==1?(h=(e[t[0]]>>2&7)+4,f=(e[t[0]++]&224)<<3,f|=e[t[0]++]):(h=(e[t[0]++]>>2)+1,o==2?(f=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(f=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[Ko(i)],f==0)throw new Error("Invalid offset 0");if(f>i[0].length)throw new Error("Invalid offset beyond length");if(h>=f)for(i.push(i[0].slice(-f)),h-=f;h>=i[i.length-1].length;)i.push(i[i.length-1]),h-=i[i.length-1].length;i.push(i[0].slice(-f,-f+h))}}var p=Ko(i);if(p.length!=n)throw new Error("Unexpected length: ".concat(p.length," != ").concat(n));return p}function Ni(r){for(var e=[],t=0;t<r.length;){var n=r[t++],i=r[t]|r[t+1]<<8|r[t+2]<<16;t+=3,e.push(_7(n,r.slice(t,t+i))),t+=i}if(t!==r.length)throw new Error("data is not a valid framed stream!");return Ko(e)}function Fl(r){for(var e=[],t=0;t<r.length;){var n=Math.min(r.length-t,268435455),i=new Uint8Array(4);e.push(i);var o=Ot(n),l=o.length;e.push(o),n<=60?(l++,e.push(new Uint8Array([n-1<<2]))):n<=256?(l+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(l+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(l+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(l+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(r.slice(t,t+n)),l+=n,i[0]=0,i[1]=l&255,i[2]=l>>8&255,i[3]=l>>16&255,t+=n}return Ko(e)}function fg(r,e){var t=new Uint8Array(32),n=Cd(t),i=12,o=0;switch(t[0]=5,r.t){case"n":t[1]=2,v7(t,i,r.v),o|=1,i+=16;break;case"b":t[1]=6,n.setFloat64(i,r.v?1:0,!0),o|=2,i+=8;break;case"s":if(e.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));t[1]=3,n.setUint32(i,e.indexOf(r.v),!0),o|=8,i+=4;break;default:throw"unsupported cell type "+r.t}return n.setUint32(8,o,!0),t.slice(0,i)}function hg(r,e){var t=new Uint8Array(32),n=Cd(t),i=12,o=0;switch(t[0]=3,r.t){case"n":t[2]=2,n.setFloat64(i,r.v,!0),o|=32,i+=8;break;case"b":t[2]=6,n.setFloat64(i,r.v?1:0,!0),o|=32,i+=8;break;case"s":if(e.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));t[2]=3,n.setUint32(i,e.indexOf(r.v),!0),o|=16,i+=4;break;default:throw"unsupported cell type "+r.t}return n.setUint32(4,o,!0),t.slice(0,i)}function Ao(r){var e=Rr(r);return ju(e[1][0].data)}function w7(r,e,t){var n,i,o,l;if(!((n=r[6])!=null&&n[0])||!((i=r[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var c=((l=(o=r[8])==null?void 0:o[0])==null?void 0:l.data)&&Jl(r[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var f=0,h=Cd(r[7][0].data),p=0,x=[],y=Cd(r[4][0].data),w=0,S=[],T=0;T<e.length;++T){if(e[T]==null){h.setUint16(T*2,65535,!0),y.setUint16(T*2,65535);continue}h.setUint16(T*2,p,!0),y.setUint16(T*2,w,!0);var A,j;switch(typeof e[T]){case"string":A=fg({t:"s",v:e[T]},t),j=hg({t:"s",v:e[T]},t);break;case"number":A=fg({t:"n",v:e[T]},t),j=hg({t:"n",v:e[T]},t);break;case"boolean":A=fg({t:"b",v:e[T]},t),j=hg({t:"b",v:e[T]},t);break;default:throw new Error("Unsupported value "+e[T])}x.push(A),p+=A.length,S.push(j),w+=j.length,++f}for(r[2][0].data=Ot(f);T<r[7][0].data.length/2;++T)h.setUint16(T*2,65535,!0),y.setUint16(T*2,65535,!0);return r[6][0].data=Ko(x),r[3][0].data=Ko(S),f}function E7(r,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=r.Sheets[r.SheetNames[0]];r.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Yn(t["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Er(n)));var o=Rd(t,{range:n,header:1}),l=["~Sh33tJ5~"];o.forEach(function(q){return q.forEach(function(K){typeof K=="string"&&l.push(K)})});var c={},f=[],h=Vt.read(e.numbers,{type:"base64"});h.FileIndex.map(function(q,K){return[q,h.FullPaths[K]]}).forEach(function(q){var K=q[0],Y=q[1];if(K.type==2&&K.name.match(/\.iwa/)){var re=K.content,_e=Ni(re),ke=Pi(_e);ke.forEach(function(Te){f.push(Te.id),c[Te.id]={deps:[],location:Y,type:Jl(Te.messages[0].meta[1][0].data)}})}}),f.sort(function(q,K){return q-K});var p=f.filter(function(q){return q>1}).map(function(q){return[q,Ot(q)]});h.FileIndex.map(function(q,K){return[q,h.FullPaths[K]]}).forEach(function(q){var K=q[0];if(q[1],!!K.name.match(/\.iwa/)){var Y=Pi(Ni(K.content));Y.forEach(function(re){re.messages.forEach(function(_e){p.forEach(function(ke){re.messages.some(function(Te){return Jl(Te.meta[1][0].data)!=11006&&y7(Te.data,ke[1])})&&c[ke[0]].deps.push(re.id)})})})}});for(var x=Vt.find(h,c[1].location),y=Pi(Ni(x.content)),w,S=0;S<y.length;++S){var T=y[S];T.id==1&&(w=T)}var A=Ao(Rr(w.messages[0].data)[1][0].data);for(x=Vt.find(h,c[A].location),y=Pi(Ni(x.content)),S=0;S<y.length;++S)T=y[S],T.id==A&&(w=T);for(A=Ao(Rr(w.messages[0].data)[2][0].data),x=Vt.find(h,c[A].location),y=Pi(Ni(x.content)),S=0;S<y.length;++S)T=y[S],T.id==A&&(w=T);for(A=Ao(Rr(w.messages[0].data)[2][0].data),x=Vt.find(h,c[A].location),y=Pi(Ni(x.content)),S=0;S<y.length;++S)T=y[S],T.id==A&&(w=T);var j=Rr(w.messages[0].data);{j[6][0].data=Ot(n.e.r+1),j[7][0].data=Ot(n.e.c+1);var U=Ao(j[46][0].data),F=Vt.find(h,c[U].location),Q=Pi(Ni(F.content));{for(var ne=0;ne<Q.length&&Q[ne].id!=U;++ne);if(Q[ne].id!=U)throw"Bad ColumnRowUIDMapArchive";var he=Rr(Q[ne].messages[0].data);he[1]=[],he[2]=[],he[3]=[];for(var k=0;k<=n.e.c;++k){var R=[];R[1]=R[2]=[{type:0,data:Ot(k+420690)}],he[1].push({type:2,data:Hr(R)}),he[2].push({type:0,data:Ot(k)}),he[3].push({type:0,data:Ot(k)})}he[4]=[],he[5]=[],he[6]=[];for(var C=0;C<=n.e.r;++C)R=[],R[1]=R[2]=[{type:0,data:Ot(C+726270)}],he[4].push({type:2,data:Hr(R)}),he[5].push({type:0,data:Ot(C)}),he[6].push({type:0,data:Ot(C)});Q[ne].messages[0].data=Hr(he)}F.content=Fl(Ol(Q)),F.size=F.content.length,delete j[46];var D=Rr(j[4][0].data);{D[7][0].data=Ot(n.e.r+1);var L=Rr(D[1][0].data),V=Ao(L[2][0].data);F=Vt.find(h,c[V].location),Q=Pi(Ni(F.content));{if(Q[0].id!=V)throw"Bad HeaderStorageBucket";var O=Rr(Q[0].messages[0].data);for(C=0;C<o.length;++C){var Me=Rr(O[2][0].data);Me[1][0].data=Ot(C),Me[4][0].data=Ot(o[C].length),O[2][C]={type:O[2][0].type,data:Hr(Me)}}Q[0].messages[0].data=Hr(O)}F.content=Fl(Ol(Q)),F.size=F.content.length;var ee=Ao(D[2][0].data);F=Vt.find(h,c[ee].location),Q=Pi(Ni(F.content));{if(Q[0].id!=ee)throw"Bad HeaderStorageBucket";for(O=Rr(Q[0].messages[0].data),k=0;k<=n.e.c;++k)Me=Rr(O[2][0].data),Me[1][0].data=Ot(k),Me[4][0].data=Ot(n.e.r+1),O[2][k]={type:O[2][0].type,data:Hr(Me)};Q[0].messages[0].data=Hr(O)}F.content=Fl(Ol(Q)),F.size=F.content.length;var De=Ao(D[4][0].data);(function(){for(var q=Vt.find(h,c[De].location),K=Pi(Ni(q.content)),Y,re=0;re<K.length;++re){var _e=K[re];_e.id==De&&(Y=_e)}var ke=Rr(Y.messages[0].data);{ke[3]=[];var Te=[];l.forEach(function(Ke,dt){Te[1]=[{type:0,data:Ot(dt)}],Te[2]=[{type:0,data:Ot(1)}],Te[3]=[{type:2,data:x7(Ke)}],ke[3].push({type:2,data:Hr(Te)})})}Y.messages[0].data=Hr(ke);var me=Ol(K),Qe=Fl(me);q.content=Qe,q.size=q.content.length})();var Ce=Rr(D[3][0].data);{var pe=Ce[1][0];delete Ce[2];var Ee=Rr(pe.data);{var Ae=Ao(Ee[2][0].data);(function(){for(var q=Vt.find(h,c[Ae].location),K=Pi(Ni(q.content)),Y,re=0;re<K.length;++re){var _e=K[re];_e.id==Ae&&(Y=_e)}var ke=Rr(Y.messages[0].data);{delete ke[6],delete Ce[7];var Te=new Uint8Array(ke[5][0].data);ke[5]=[];for(var me=0,Qe=0;Qe<=n.e.r;++Qe){var Ke=Rr(Te);me+=w7(Ke,o[Qe],l),Ke[1][0].data=Ot(Qe),ke[5].push({data:Hr(Ke),type:2})}ke[1]=[{type:0,data:Ot(n.e.c+1)}],ke[2]=[{type:0,data:Ot(n.e.r+1)}],ke[3]=[{type:0,data:Ot(me)}],ke[4]=[{type:0,data:Ot(n.e.r+1)}]}Y.messages[0].data=Hr(ke);var dt=Ol(K),Ze=Fl(dt);q.content=Ze,q.size=q.content.length})()}pe.data=Hr(Ee)}D[3][0].data=Hr(Ce)}j[4][0].data=Hr(D)}w.messages[0].data=Hr(j);var J=Ol(y),N=Fl(J);return x.content=N,x.size=x.content.length,h}function T7(r){return function(t){for(var n=0;n!=r.length;++n){var i=r[n];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function E1(r){T7([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(r)}function S7(r,e){return e.bookType=="ods"?zA(r,e):e.bookType=="numbers"?E7(r,e):e.bookType=="xlsb"?A7(r,e):I7(r,e)}function A7(r,e){Wl=1024,r&&!r.SSF&&(r.SSF=On(lr)),r&&r.SSF&&(a0(),o0(r.SSF),e.revssf=l0(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,vu?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",n=SA.indexOf(e.bookType)>-1,i=ZS();E1(e=e||{});var o=o1(),l="",c=0;if(e.cellXfs=[],Zo(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),l="docProps/core.xml",ht(o,l,nA(r.Props,e)),i.coreprops.push(l),Ft(e.rels,2,l,It.CORE_PROPS),l="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var f=[],h=0;h<r.SheetNames.length;++h)(r.Workbook.Sheets[h]||{}).Hidden!=2&&f.push(r.SheetNames[h]);r.Props.SheetNames=f}for(r.Props.Worksheets=r.Props.SheetNames.length,ht(o,l,sA(r.Props)),i.extprops.push(l),Ft(e.rels,3,l,It.EXT_PROPS),r.Custprops!==r.Props&&Zr(r.Custprops||{}).length>0&&(l="docProps/custom.xml",ht(o,l,oA(r.Custprops)),i.custprops.push(l),Ft(e.rels,4,l,It.CUST_PROPS)),c=1;c<=r.SheetNames.length;++c){var p={"!id":{}},x=r.Sheets[r.SheetNames[c-1]],y=(x||{})["!type"]||"sheet";switch(y){case"chart":default:l="xl/worksheets/sheet"+c+"."+t,ht(o,l,R9(c-1,l,e,r,p)),i.sheets.push(l),Ft(e.wbrels,-1,"worksheets/sheet"+c+"."+t,It.WS[0])}if(x){var w=x["!comments"],S=!1,T="";w&&w.length>0&&(T="xl/comments"+c+"."+t,ht(o,T,P9(w,T)),i.comments.push(T),Ft(p,-1,"../comments"+c+"."+t,It.CMNT),S=!0),x["!legacy"]&&S&&ht(o,"xl/drawings/vmlDrawing"+c+".vml",EA(c,x["!comments"])),delete x["!comments"],delete x["!legacy"]}p["!id"].rId1&&ht(o,tA(l),Yl(p))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+t,ht(o,l,b9(e.Strings,l,e)),i.strs.push(l),Ft(e.wbrels,-1,"sharedStrings."+t,It.SST)),l="xl/workbook."+t,ht(o,l,C9(r,l)),i.workbooks.push(l),Ft(e.rels,1,l,It.WB),l="xl/theme/theme1.xml",ht(o,l,_A(r.Themes,e)),i.themes.push(l),Ft(e.wbrels,-1,"theme/theme1.xml",It.THEME),l="xl/styles."+t,ht(o,l,k9(r,l,e)),i.styles.push(l),Ft(e.wbrels,-1,"styles."+t,It.STY),r.vbaraw&&n&&(l="xl/vbaProject.bin",ht(o,l,r.vbaraw),i.vba.push(l),Ft(e.wbrels,-1,"vbaProject.bin",It.VBA)),l="xl/metadata."+t,ht(o,l,N9(l)),i.metadata.push(l),Ft(e.wbrels,-1,"metadata."+t,It.XLMETA),ht(o,"[Content_Types].xml",eA(i,e)),ht(o,"_rels/.rels",Yl(e.rels)),ht(o,"xl/_rels/workbook."+t+".rels",Yl(e.wbrels)),delete e.revssf,delete e.ssf,o}function I7(r,e){Wl=1024,r&&!r.SSF&&(r.SSF=On(lr)),r&&r.SSF&&(a0(),o0(r.SSF),e.revssf=l0(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,vu?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",n=SA.indexOf(e.bookType)>-1,i=ZS();E1(e=e||{});var o=o1(),l="",c=0;if(e.cellXfs=[],Zo(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),l="docProps/core.xml",ht(o,l,nA(r.Props,e)),i.coreprops.push(l),Ft(e.rels,2,l,It.CORE_PROPS),l="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var f=[],h=0;h<r.SheetNames.length;++h)(r.Workbook.Sheets[h]||{}).Hidden!=2&&f.push(r.SheetNames[h]);r.Props.SheetNames=f}r.Props.Worksheets=r.Props.SheetNames.length,ht(o,l,sA(r.Props)),i.extprops.push(l),Ft(e.rels,3,l,It.EXT_PROPS),r.Custprops!==r.Props&&Zr(r.Custprops||{}).length>0&&(l="docProps/custom.xml",ht(o,l,oA(r.Custprops)),i.custprops.push(l),Ft(e.rels,4,l,It.CUST_PROPS));var p=["SheetJ5"];for(e.tcid=0,c=1;c<=r.SheetNames.length;++c){var x={"!id":{}},y=r.Sheets[r.SheetNames[c-1]],w=(y||{})["!type"]||"sheet";switch(w){case"chart":default:l="xl/worksheets/sheet"+c+"."+t,ht(o,l,DA(c-1,e,r,x)),i.sheets.push(l),Ft(e.wbrels,-1,"worksheets/sheet"+c+"."+t,It.WS[0])}if(y){var S=y["!comments"],T=!1,A="";if(S&&S.length>0){var j=!1;S.forEach(function(U){U[1].forEach(function(F){F.T==!0&&(j=!0)})}),j&&(A="xl/threadedComments/threadedComment"+c+"."+t,ht(o,A,nL(S,p,e)),i.threadedcomments.push(A),Ft(x,-1,"../threadedComments/threadedComment"+c+"."+t,It.TCMNT)),A="xl/comments"+c+"."+t,ht(o,A,TA(S)),i.comments.push(A),Ft(x,-1,"../comments"+c+"."+t,It.CMNT),T=!0}y["!legacy"]&&T&&ht(o,"xl/drawings/vmlDrawing"+c+".vml",EA(c,y["!comments"])),delete y["!comments"],delete y["!legacy"]}x["!id"].rId1&&ht(o,tA(l),Yl(x))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+t,ht(o,l,pA(e.Strings,e)),i.strs.push(l),Ft(e.wbrels,-1,"sharedStrings."+t,It.SST)),l="xl/workbook."+t,ht(o,l,LA(r)),i.workbooks.push(l),Ft(e.rels,1,l,It.WB),l="xl/theme/theme1.xml",ht(o,l,_A(r.Themes,e)),i.themes.push(l),Ft(e.wbrels,-1,"theme/theme1.xml",It.THEME),l="xl/styles."+t,ht(o,l,yA(r,e)),i.styles.push(l),Ft(e.wbrels,-1,"styles."+t,It.STY),r.vbaraw&&n&&(l="xl/vbaProject.bin",ht(o,l,r.vbaraw),i.vba.push(l),Ft(e.wbrels,-1,"vbaProject.bin",It.VBA)),l="xl/metadata."+t,ht(o,l,wA()),i.metadata.push(l),Ft(e.wbrels,-1,"metadata."+t,It.XLMETA),p.length>1&&(l="xl/persons/person.xml",ht(o,l,iL(p)),i.people.push(l),Ft(e.wbrels,-1,"persons/person.xml",It.PEOPLE)),ht(o,"[Content_Types].xml",eA(i,e)),ht(o,"_rels/.rels",Yl(e.rels)),ht(o,"xl/_rels/workbook."+t+".rels",Yl(e.wbrels)),delete e.revssf,delete e.ssf,o}function C7(r,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":t=$s(r.slice(0,12));break;case"binary":t=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function WA(r,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Zu(e.file,Vt.write(r,{type:kt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Vt.write(r,e)}function R7(r,e){var t=On(e||{}),n=S7(r,t);return k7(n,t)}function k7(r,e){var t={},n=kt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=n;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=r.FullPaths?Vt.write(r,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):r.generate(t);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(s0(i))}return e.password&&typeof encrypt_agile<"u"?WA(encrypt_agile(i,e.password),e):e.type==="file"?Zu(e.file,i):e.type=="string"?gu(i):i}function b7(r,e){var t=e||{},n=G9(r,t);return WA(n,t)}function ns(r,e,t){t||(t="");var n=t+r;switch(e.type){case"base64":return Ou(Lu(n));case"binary":return Lu(n);case"string":return r;case"file":return Zu(e.file,n,"utf8");case"buffer":return kt?qs(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):ns(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function P7(r,e){switch(e.type){case"base64":return Ou(r);case"binary":return r;case"string":return r;case"file":return Zu(e.file,r,"binary");case"buffer":return kt?qs(r,"binary"):r.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function kh(r,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",n=0;n<r.length;++n)t+=String.fromCharCode(r[n]);return e.type=="base64"?Ou(t):e.type=="string"?gu(t):t;case"file":return Zu(e.file,r);case"buffer":return r;default:throw new Error("Unrecognized type "+e.type)}}function $A(r,e){sO(),m9(r);var t=On(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var n=$A(r,t);return t.type="array",s0(n)}var i=0;if(t.sheet&&(typeof t.sheet=="number"?i=t.sheet:i=r.SheetNames.indexOf(t.sheet),!r.SheetNames[i]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return ns($9(r,t),t);case"slk":case"sylk":return ns(dF.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"htm":case"html":return ns(BA(r.Sheets[r.SheetNames[i]],t),t);case"txt":return P7(HA(r.Sheets[r.SheetNames[i]],t),t);case"csv":return ns(T1(r.Sheets[r.SheetNames[i]],t),t,"\uFEFF");case"dif":return ns(pF.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"dbf":return kh(hF.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"prn":return ns(gF.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"rtf":return ns(EF.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"eth":return ns(dA.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"fods":return ns(zA(r,t),t);case"wk1":return kh(T2.sheet_to_wk1(r.Sheets[r.SheetNames[i]],t),t);case"wk3":return kh(T2.book_to_wk3(r,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),kh(jA(r,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),b7(r,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return R7(r,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function N7(r,e,t,n,i,o,l,c){var f=Qr(t),h=c.defval,p=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),x=!0,y=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(y,"__rowNum__",{value:t,enumerable:!1})}catch{y.__rowNum__=t}else y.__rowNum__=t;if(!l||r[t])for(var w=e.s.c;w<=e.e.c;++w){var S=l?r[t][w]:r[n[w]+f];if(S===void 0||S.t===void 0){if(h===void 0)continue;o[w]!=null&&(y[o[w]]=h);continue}var T=S.v;switch(S.t){case"z":if(T==null)break;continue;case"e":T=T==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+S.t)}if(o[w]!=null){if(T==null)if(S.t=="e"&&T===null)y[o[w]]=null;else if(h!==void 0)y[o[w]]=h;else if(p&&T===null)y[o[w]]=null;else continue;else y[o[w]]=p&&(S.t!=="n"||S.t==="n"&&c.rawNumbers!==!1)?T:Hs(S,T,c);T!=null&&(x=!1)}}return{row:y,isempty:x}}function Rd(r,e){if(r==null||r["!ref"]==null)return[];var t={t:"n",v:0},n=0,i=1,o=[],l=0,c="",f={s:{r:0,c:0},e:{r:0,c:0}},h=e||{},p=h.range!=null?h.range:r["!ref"];switch(h.header===1?n=1:h.header==="A"?n=2:Array.isArray(h.header)?n=3:h.header==null&&(n=0),typeof p){case"string":f=Kt(p);break;case"number":f=Kt(r["!ref"]),f.s.r=p;break;default:f=p}n>0&&(i=0);var x=Qr(f.s.r),y=[],w=[],S=0,T=0,A=Array.isArray(r),j=f.s.r,U=0,F={};A&&!r[j]&&(r[j]=[]);var Q=h.skipHidden&&r["!cols"]||[],ne=h.skipHidden&&r["!rows"]||[];for(U=f.s.c;U<=f.e.c;++U)if(!(Q[U]||{}).hidden)switch(y[U]=ln(U),t=A?r[j][U]:r[y[U]+x],n){case 1:o[U]=U-f.s.c;break;case 2:o[U]=y[U];break;case 3:o[U]=h.header[U-f.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),c=l=Hs(t,null,h),T=F[l]||0,!T)F[l]=1;else{do c=l+"_"+T++;while(F[c]);F[l]=T,F[c]=1}o[U]=c}for(j=f.s.r+i;j<=f.e.r;++j)if(!(ne[j]||{}).hidden){var he=N7(r,f,j,y,n,o,A,h);(he.isempty===!1||(n===1?h.blankrows!==!1:h.blankrows))&&(w[S++]=he.row)}return w.length=S,w}var P2=/"/g;function D7(r,e,t,n,i,o,l,c){for(var f=!0,h=[],p="",x=Qr(t),y=e.s.c;y<=e.e.c;++y)if(n[y]){var w=c.dense?(r[t]||[])[y]:r[n[y]+x];if(w==null)p="";else if(w.v!=null){f=!1,p=""+(c.rawNumbers&&w.t=="n"?w.v:Hs(w,null,c));for(var S=0,T=0;S!==p.length;++S)if((T=p.charCodeAt(S))===i||T===o||T===34||c.forceQuotes){p='"'+p.replace(P2,'""')+'"';break}p=="ID"&&(p='"ID"')}else w.f!=null&&!w.F?(f=!1,p="="+w.f,p.indexOf(",")>=0&&(p='"'+p.replace(P2,'""')+'"')):p="";h.push(p)}return c.blankrows===!1&&f?null:h.join(l)}function T1(r,e){var t=[],n=e??{};if(r==null||r["!ref"]==null)return"";var i=Kt(r["!ref"]),o=n.FS!==void 0?n.FS:",",l=o.charCodeAt(0),c=n.RS!==void 0?n.RS:`
`,f=c.charCodeAt(0),h=new RegExp((o=="|"?"\\|":o)+"+$"),p="",x=[];n.dense=Array.isArray(r);for(var y=n.skipHidden&&r["!cols"]||[],w=n.skipHidden&&r["!rows"]||[],S=i.s.c;S<=i.e.c;++S)(y[S]||{}).hidden||(x[S]=ln(S));for(var T=0,A=i.s.r;A<=i.e.r;++A)(w[A]||{}).hidden||(p=D7(r,i,A,x,l,f,o,n),p!=null&&(n.strip&&(p=p.replace(h,"")),(p||n.blankrows!==!1)&&t.push((T++?c:"")+p)));return delete n.dense,t.join("")}function HA(r,e){e||(e={}),e.FS="	",e.RS=`
`;var t=T1(r,e);return t}function O7(r){var e="",t,n="";if(r==null||r["!ref"]==null)return[];var i=Kt(r["!ref"]),o="",l=[],c,f=[],h=Array.isArray(r);for(c=i.s.c;c<=i.e.c;++c)l[c]=ln(c);for(var p=i.s.r;p<=i.e.r;++p)for(o=Qr(p),c=i.s.c;c<=i.e.c;++c)if(e=l[c]+o,t=h?(r[p]||[])[c]:r[e],n="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;n=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)n=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)n=""+t.v;else if(t.t=="b")n=t.v?"TRUE":"FALSE";else if(t.w!==void 0)n="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?n="'"+t.v:n=""+t.v}}f[f.length]=e+"="+n}return f}function GA(r,e,t){var n=t||{},i=+!n.skipHeader,o=r||{},l=0,c=0;if(o&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var f=typeof n.origin=="string"?Mr(n.origin):n.origin;l=f.r,c=f.c}var h,p={s:{c:0,r:0},e:{c,r:l+e.length-1+i}};if(o["!ref"]){var x=Kt(o["!ref"]);p.e.c=Math.max(p.e.c,x.e.c),p.e.r=Math.max(p.e.r,x.e.r),l==-1&&(l=x.e.r+1,p.e.r=l+e.length-1+i)}else l==-1&&(l=0,p.e.r=e.length-1+i);var y=n.header||[],w=0;e.forEach(function(T,A){Zr(T).forEach(function(j){(w=y.indexOf(j))==-1&&(y[w=y.length]=j);var U=T[j],F="z",Q="",ne=Mt({c:c+w,r:l+A+i});h=Bu(o,ne),U&&typeof U=="object"&&!(U instanceof Date)?o[ne]=U:(typeof U=="number"?F="n":typeof U=="boolean"?F="b":typeof U=="string"?F="s":U instanceof Date?(F="d",n.cellDates||(F="n",U=Dn(U)),Q=n.dateNF||lr[14]):U===null&&n.nullError&&(F="e",U=0),h?(h.t=F,h.v=U,delete h.w,delete h.R,Q&&(h.z=Q)):o[ne]=h={t:F,v:U},Q&&(h.z=Q))})}),p.e.c=Math.max(p.e.c,c+y.length-1);var S=Qr(l);if(i)for(w=0;w<y.length;++w)o[ln(w+c)+S]={t:"s",v:y[w]};return o["!ref"]=Er(p),o}function F7(r,e){return GA(null,r,e)}function Bu(r,e,t){if(typeof e=="string"){if(Array.isArray(r)){var n=Mr(e);return r[n.r]||(r[n.r]=[]),r[n.r][n.c]||(r[n.r][n.c]={t:"z"})}return r[e]||(r[e]={t:"z"})}return typeof e!="number"?Bu(r,Mt(e)):Bu(r,Mt({r:e,c:t||0}))}function L7(r,e){if(typeof e=="number"){if(e>=0&&r.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=r.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function M7(){return{SheetNames:[],Sheets:{}}}function j7(r,e,t,n){var i=1;if(!t)for(;i<=65535&&r.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&r.SheetNames.indexOf(t)>=0){var o=t.match(/(^.*?)(\d+)$/);i=o&&+o[2]||0;var l=o&&o[1]||t;for(++i;i<=65535&&r.SheetNames.indexOf(t=l+i)!=-1;++i);}if(FA(t),r.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return r.SheetNames.push(t),r.Sheets[t]=e,t}function B7(r,e,t){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var n=L7(r,e);switch(r.Workbook.Sheets[n]||(r.Workbook.Sheets[n]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}r.Workbook.Sheets[n].Hidden=t}function V7(r,e){return r.z=e,r}function qA(r,e,t){return e?(r.l={Target:e},t&&(r.l.Tooltip=t)):delete r.l,r}function U7(r,e,t){return qA(r,"#"+e,t)}function z7(r,e,t){r.c||(r.c=[]),r.c.push({t:e,a:t||"SheetJS"})}function W7(r,e,t,n){for(var i=typeof e!="string"?e:Kt(e),o=typeof e=="string"?e:Er(e),l=i.s.r;l<=i.e.r;++l)for(var c=i.s.c;c<=i.e.c;++c){var f=Bu(r,l,c);f.t="n",f.F=o,delete f.v,l==i.s.r&&c==i.s.c&&(f.f=t,n&&(f.D=!0))}return r}var tu={encode_col:ln,encode_row:Qr,encode_cell:Mt,encode_range:Er,decode_col:h1,decode_row:f1,split_cell:s8,decode_cell:Mr,decode_range:Yn,format_cell:Hs,sheet_add_aoa:qS,sheet_add_json:GA,sheet_add_dom:VA,aoa_to_sheet:vc,json_to_sheet:F7,table_to_sheet:UA,table_to_book:p7,sheet_to_csv:T1,sheet_to_txt:HA,sheet_to_json:Rd,sheet_to_html:BA,sheet_to_formulae:O7,sheet_to_row_object_array:Rd,sheet_get_cell:Bu,book_new:M7,book_append_sheet:j7,book_set_sheet_visibility:B7,cell_set_number_format:V7,cell_set_hyperlink:qA,cell_set_internal_link:U7,cell_add_comment:z7,sheet_set_array_formula:W7,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function $7(){const[r,e]=ie.useState([]),[t,n]=ie.useState([]),[i,o]=ie.useState([]),[l]=Qu(Xn),[c,f]=ie.useState(!1),[h,p]=ie.useState(!0),[x,y]=ie.useState(!0),[w,S]=ie.useState("all"),[T,A]=ie.useState("all"),j=Xt(),{showToast:U}=br(),[F,Q]=ie.useState(""),ne=["","","","","","","",""];ie.useEffect(()=>{if(!l)return;(async()=>{try{const De=await _r(Ct(ut,"users",l.uid));De.exists()?Q(De.data().name||l.displayName||l.email):Q(l.displayName||l.email)}catch{Q(l.displayName||l.email)}})()},[l]),ie.useEffect(()=>{(async()=>{if(!l){f(!1),p(!1);return}try{const De=Ct(ut,"users",l.uid),Ce=await _r(De);if(Ce.exists()){const pe=Ce.data();f(pe.role==="admin")}else f(!1)}catch(De){console.error(":",De),f(!1)}finally{p(!1)}})()},[l]);const he=ee=>{const De={},Ce={},pe={};let Ee=0,Ae=0;return ee.forEach(J=>{Ae+=Number(J.totalDiscount||0),J.items.forEach(N=>{De[N.name]=(De[N.name]||0)+N.quantity;const q=(Number(N.price)||0)*(Number(N.quantity)||0);Ce[N.name]=(Ce[N.name]||0)+q,Ee+=q}),(J.appliedCombos||[]).forEach(N=>{pe[N.name]=(pe[N.name]||0)+N.applicableCount})}),{productCounts:De,productCosts:Ce,comboCounts:pe,totalDiscount:Ae,totalRevenue:Ee-Ae}},k=ee=>{const De={};return ee.filter(pe=>pe.delivered).forEach(pe=>{if(pe.deliveryUpdatedByName){const Ee=pe.deliveryUpdatedByName;De[Ee]||(De[Ee]={count:0,totalAmount:0}),De[Ee].count+=1,De[Ee].totalAmount+=Number(pe.finalTotal||0)}}),De},R=ee=>T==="all"?ee:ee.filter(De=>De.school===T);ie.useEffect(()=>{if(!c||h)return;(async()=>{try{y(!0);const De=_T(Oa(ut,"orders"),wT("createdAt","desc")),pe=(await oc(De)).docs.map(N=>({id:N.id,...N.data()})),Ee=await Promise.all(pe.map(async N=>{if(!(!N.customerName||!N.customerPhone||!N.customerEmail)||!N.userId)return N;try{const K=Ct(ut,"users",N.userId),Y=await _r(K);if(!Y.exists())return N;const re=Y.data();return{...N,customerName:N.customerName||re.name||"",customerPhone:N.customerPhone||re.phone||"",customerEmail:N.customerEmail||re.email||"",school:N.school||re.school||"",classNumber:N.classNumber||re.classNumber||""}}catch{return N}}));e(Ee);const Ae=Ee.filter(N=>N.delivered);n(Ae);const J=Ee.filter(N=>N.paid);o(J)}catch(De){console.error(":",De),U("")}finally{y(!1)}})()},[c,h]);const C=async(ee,De)=>{try{const Ce=Ct(ut,"orders",ee),pe={delivered:De,deliveryUpdatedAt:ac(),deliveryUpdatedBy:F,deliveryUpdatedByName:F||l.email||""};await Fa(Ce,pe);const Ee=r.map(J=>J.id===ee?{...J,...pe,deliveryUpdatedAt:new Date}:J);e(Ee);const Ae=Ee.filter(J=>J.delivered);n(Ae),U(De?" ":" ")}catch(Ce){console.error(":",Ce),U(" "+Ce.message)}},D=async(ee,De)=>{try{const Ce=Ct(ut,"orders",ee),pe={paid:De,paymentUpdatedAt:ac(),paymentUpdatedBy:F,paymentUpdatedByName:F||l.email||""};await Fa(Ce,pe);const Ee=r.map(J=>J.id===ee?{...J,...pe,paymentUpdatedAt:new Date}:J);e(Ee);const Ae=Ee.filter(J=>J.paid);o(Ae),U(De?" ":" ")}catch(Ce){console.error(":",Ce),U(" "+Ce.message)}},L=(ee=!1)=>{const Ce=R(ee?t:r),pe=he(Ce),Ee=[];if(Object.entries(pe.productCounts).forEach(([me,Qe])=>{Ee.push({:me,:Qe,:pe.productCosts[me]||0,:""})}),Object.entries(pe.comboCounts).forEach(([me,Qe])=>{let dt=Ce.flatMap(Ze=>Ze.appliedCombos||[]).filter(Ze=>Ze.name===me).reduce((Ze,it)=>Ze+(it.totalDiscount||0),0);Ee.push({:me,:Qe,:-dt,:""})}),Ee.push({}),Ee.push({:"",:"-",:pe.totalDiscount}),Ee.push({:"",:"-",:pe.totalRevenue}),ee){const me=k(Ce);Object.keys(me).length>0&&(Ee.push({}),Ee.push({:"===  ===",:"",:""}),Object.entries(me).forEach(([Qe,Ke])=>{Ee.push({:`${Qe} ()`,:`${Ke.count} `,:`NT$ ${Ke.totalAmount}`,:""})}))}const Ae=tu.json_to_sheet(Ee),J=[],N=[];let q=1;Ce.forEach(me=>{const Qe=me.createdAt?.toDate?me.createdAt.toDate().toLocaleString():"",Ke=me.deliveryUpdatedAt?.toDate?me.deliveryUpdatedAt.toDate().toLocaleString():"",dt=me.deliveryUpdatedByName||"",Ze=me.delivered?"":"",it=me.paymentUpdatedAt?.toDate?me.paymentUpdatedAt.toDate().toLocaleString():"",et=me.paymentUpdatedByName||"",Ue=me.paid?"":"",mt=me.items.length,ft=q,jt=q+mt-1;mt>1&&Array.from({length:18},(bt,fn)=>fn).forEach(bt=>{N.push({s:{r:ft,c:bt},e:{r:jt,c:bt}})}),me.items.forEach((Jt,bt)=>{J.push({ID:bt===0?me.id:"",:bt===0?Qe:"",:bt===0?me.originalTotal:"",:bt===0&&me.appliedCombos?.map(fn=>`${fn.name} x ${fn.applicableCount}`).join(", ")||"",:bt===0?me.totalDiscount:"",:bt===0?me.finalTotal:"",:bt===0?Ze:"",:bt===0?Ke:"",:bt===0?dt:"",:bt===0?Ue:"",:bt===0?it:"",:bt===0?et:"",:bt===0&&me.customerName||"",:bt===0&&me.customerPhone||"",Email:bt===0&&me.customerEmail||"",:bt===0&&me.school||"",:bt===0&&me.classNumber||"",:Jt.name,:Jt.quantity,:Jt.price,:(Number(Jt.price)||0)*(Number(Jt.quantity)||0)}),q++})});const K=tu.json_to_sheet(J);N.length>0&&(K["!merges"]=N),K["!cols"]=[{wch:15},{wch:20},{wch:12},{wch:20},{wch:12},{wch:12},{wch:10},{wch:20},{wch:12},{wch:10},{wch:20},{wch:12},{wch:12},{wch:15},{wch:25},{wch:15},{wch:12},{wch:15},{wch:8},{wch:8},{wch:10}],Ae["!cols"]=[{wch:20},{wch:10},{wch:12},{wch:10}];const Y=tu.book_new(),re=T!=="all"?`${T}_`:"",_e=ee?"":"";tu.book_append_sheet(Y,Ae,`${_e}`),tu.book_append_sheet(Y,K,`${_e}`);const ke=`${re}${ee?"":""}_${new Date().toISOString().slice(0,10)}.xlsx`,Te=$A(Y,{bookType:"xlsx",type:"array"});rO.saveAs(new Blob([Te],{type:"application/octet-stream"}),ke),U(` ${T!=="all"?T+" ":""}${ee?"":""} Excel `)};if(h)return g.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:g.jsxs("div",{style:{textAlign:"center"},children:[g.jsx("div",{style:{fontSize:"3rem",marginBottom:"16px"},children:""}),g.jsx("p",{style:{color:"#666"},children:"..."})]})});if(!c)return g.jsxs("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",padding:"20px"},children:[g.jsx("h2",{style:{color:"#d32f2f",marginBottom:"16px"},children:" "}),g.jsx("p",{style:{color:"#666",marginBottom:"24px"},children:""}),g.jsx("button",{onClick:()=>j("/"),style:{padding:"12px 28px",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer"},children:""})]});if(x)return g.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:g.jsxs("div",{style:{textAlign:"center"},children:[g.jsx("div",{style:{fontSize:"3rem",marginBottom:"16px"},children:""}),g.jsx("p",{style:{color:"#666"},children:"..."})]})});const O=R(w==="delivered"?t:r),Me=he(O);return g.jsxs("div",{style:{minHeight:"100vh",padding:"40px 20px",display:"flex",flexDirection:"column",alignItems:"center"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",borderRadius:"12px",boxShadow:"0 2px 6px rgba(0,0,0,0.1)",marginBottom:0},children:[g.jsx("img",{src:l.photoURL||"https://via.placeholder.com/48?text=",alt:"User Avatar",style:{width:"48px",height:"48px",borderRadius:"50%",objectFit:"cover",border:"2px solid #ddd"}}),g.jsxs("div",{children:[g.jsxs("p",{style:{margin:0,fontWeight:"bold",fontSize:"1rem",color:"#333"},children:["Admin-",F||""]}),g.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"#666"},children:l.email})]})]}),g.jsx("h1",{style:{marginBottom:"20px",color:"#333"},children:" - "}),g.jsxs("div",{style:{marginBottom:"16px",width:"100%",maxWidth:"1000px"},children:[g.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#333",fontSize:"0.95rem"},children:""}),g.jsxs("select",{value:T,onChange:ee=>A(ee.target.value),style:{width:"100%",padding:"10px 14px",borderRadius:"8px",border:"1px solid #ddd",fontSize:"1rem",cursor:"pointer",background:"white",outline:"none"},children:[g.jsx("option",{value:"all",children:""}),ne.map(ee=>g.jsx("option",{value:ee,children:ee},ee))]})]}),g.jsxs("div",{style:{display:"flex",gap:"4px",marginBottom:"20px",background:"#f1f5f9",padding:"4px",borderRadius:"12px",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.06)"},children:[g.jsxs("button",{onClick:()=>S("all"),style:{padding:"10px 20px",borderRadius:"8px",border:"none",background:w==="all"?"white":"transparent",color:w==="all"?"#1f2937":"#64748b",fontWeight:w==="all"?"600":"400",cursor:"pointer",transition:"all 0.2s",boxShadow:w==="all"?"0 1px 3px rgba(0,0,0,0.1)":"none"},children:[" (",O.length,")"]}),g.jsxs("button",{onClick:()=>S("delivered"),style:{padding:"10px 20px",borderRadius:"8px",border:"none",background:w==="delivered"?"white":"transparent",color:w==="delivered"?"#1f2937":"#64748b",fontWeight:w==="delivered"?"600":"400",cursor:"pointer",transition:"all 0.2s",boxShadow:w==="delivered"?"0 1px 3px rgba(0,0,0,0.1)":"none"},children:[" (",O.filter(ee=>ee.delivered).length,")"]})]}),g.jsxs("div",{style:{width:"100%",maxWidth:"1000px",display:"flex",flexDirection:"column",gap:"20px"},children:[g.jsxs("div",{style:{background:"white",borderRadius:"12px",boxShadow:"0 8px 20px rgba(0,0,0,0.08)",padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"16px"},children:[g.jsxs("div",{style:{flex:"1",minWidth:"280px"},children:[g.jsxs("h2",{style:{margin:0,color:"#333"},children:[T!=="all"&&`${T} - `,w==="delivered"?"":""]}),g.jsx("p",{style:{margin:"6px 0 12px",color:"#666",fontSize:"0.95rem"},children:w==="delivered"?"":""}),g.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",marginBottom:"12px"},children:[g.jsxs("div",{style:{background:"#f9fafb",border:"1px solid #eee",borderRadius:"10px",padding:"10px 14px",minWidth:"120px"},children:[g.jsx("div",{style:{color:"#666",fontSize:"0.85rem"},children:w==="delivered"?"":""}),g.jsx("div",{style:{color:"#111",fontWeight:700,fontSize:"1.2rem"},children:O.length})]}),g.jsxs("div",{style:{background:"#f0f9ff",border:"1px solid #e0f2fe",borderRadius:"10px",padding:"10px 14px",minWidth:"140px"},children:[g.jsx("div",{style:{color:"#0369a1",fontSize:"0.85rem"},children:""}),g.jsxs("div",{style:{color:"#0c4a6e",fontWeight:700,fontSize:"1.2rem"},children:["NT$ ",Me.totalRevenue.toLocaleString()]})]}),g.jsxs("div",{style:{background:"#fef3c7",border:"1px solid #fde68a",borderRadius:"10px",padding:"10px 14px",minWidth:"140px"},children:[g.jsx("div",{style:{color:"#92400e",fontSize:"0.85rem"},children:""}),g.jsxs("div",{style:{color:"#78350f",fontWeight:700,fontSize:"1.2rem"},children:["NT$ ",O.reduce((ee,De)=>ee+(Number(De.originalTotal)||0),0).toLocaleString()]})]}),g.jsxs("div",{style:{background:"#fff1f2",border:"1px solid #ffe4e6",borderRadius:"10px",padding:"10px 14px",minWidth:"140px"},children:[g.jsx("div",{style:{color:"#be123c",fontSize:"0.85rem"},children:""}),g.jsxs("div",{style:{color:"#9f1239",fontWeight:700,fontSize:"1.2rem"},children:["NT$ ",Me.totalDiscount.toLocaleString()]})]})]}),g.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",marginBottom:"12px"},children:[w==="all"&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{background:"#dcfce7",border:"1px solid #bbf7d0",borderRadius:"10px",padding:"10px 14px",minWidth:"110px"},children:[g.jsx("div",{style:{color:"#166534",fontSize:"0.85rem"},children:""}),g.jsx("div",{style:{color:"#14532d",fontWeight:700,fontSize:"1.2rem"},children:O.filter(ee=>ee.delivered).length})]}),g.jsxs("div",{style:{background:"#fef3c7",border:"1px solid #fde68a",borderRadius:"10px",padding:"10px 14px",minWidth:"110px"},children:[g.jsx("div",{style:{color:"#92400e",fontSize:"0.85rem"},children:""}),g.jsx("div",{style:{color:"#78350f",fontWeight:700,fontSize:"1.2rem"},children:O.filter(ee=>!ee.delivered).length})]}),g.jsxs("div",{style:{background:"#d1fae5",border:"1px solid #a7f3d0",borderRadius:"10px",padding:"10px 14px",minWidth:"110px"},children:[g.jsx("div",{style:{color:"#065f46",fontSize:"0.85rem"},children:""}),g.jsx("div",{style:{color:"#064e3b",fontWeight:700,fontSize:"1.2rem"},children:O.filter(ee=>ee.paid).length})]}),g.jsxs("div",{style:{background:"#fed7aa",border:"1px solid #fdba74",borderRadius:"10px",padding:"10px 14px",minWidth:"110px"},children:[g.jsx("div",{style:{color:"#9a3412",fontSize:"0.85rem"},children:""}),g.jsx("div",{style:{color:"#7c2d12",fontWeight:700,fontSize:"1.2rem"},children:O.filter(ee=>!ee.paid).length})]})]}),g.jsxs("div",{style:{background:"#e0e7ff",border:"1px solid #c7d2fe",borderRadius:"10px",padding:"10px 14px",minWidth:"140px"},children:[g.jsx("div",{style:{color:"#4338ca",fontSize:"0.85rem"},children:""}),g.jsx("div",{style:{color:"#3730a3",fontWeight:700,fontSize:"1.2rem"},children:O.reduce((ee,De)=>ee+De.items.reduce((Ce,pe)=>Ce+pe.quantity,0),0)})]}),g.jsxs("div",{style:{background:"#fce7f3",border:"1px solid #fbcfe8",borderRadius:"10px",padding:"10px 14px",minWidth:"140px"},children:[g.jsx("div",{style:{color:"#9f1239",fontSize:"0.85rem"},children:""}),g.jsxs("div",{style:{color:"#881337",fontWeight:700,fontSize:"1.2rem"},children:["NT$ ",O.length>0?Math.round(Me.totalRevenue/O.length).toLocaleString():0]})]})]}),O.length>0&&g.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"10px",padding:"12px 16px",color:"white",display:"inline-block"},children:[g.jsx("div",{style:{fontSize:"0.85rem",opacity:.9},children:""}),g.jsx("div",{style:{fontWeight:700,fontSize:"1.3rem"},children:(()=>{const ee=O.reduce((Ce,pe)=>Ce+(Number(pe.originalTotal)||0),0);return`${ee>0?(Me.totalDiscount/ee*100).toFixed(1):0}%`})()})]})]}),g.jsx("button",{onClick:()=>L(w==="delivered"),style:{padding:"14px 28px",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",fontSize:"1rem",cursor:"pointer",boxShadow:"0 4px 12px rgba(221,36,118,0.25)",alignSelf:"flex-start",whiteSpace:"nowrap"},children:"  Excel"})]}),w==="delivered"&&(()=>{const ee=k(O);return Object.keys(ee).length>0&&g.jsxs("div",{style:{background:"white",borderRadius:"12px",boxShadow:"0 8px 20px rgba(0,0,0,0.08)",padding:"20px"},children:[g.jsx("h2",{style:{margin:"0 0 16px",color:"#333"},children:""}),g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px"},children:Object.entries(ee).map(([De,Ce])=>g.jsxs("div",{style:{padding:"16px",background:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px",textAlign:"center"},children:[g.jsx("div",{style:{fontWeight:"bold",color:"#1f2937",marginBottom:"4px"},children:De}),g.jsxs("div",{style:{fontSize:"0.9rem",color:"#64748b"},children:[Ce.count," "]}),g.jsxs("div",{style:{fontSize:"1rem",fontWeight:"600",color:"#059669",marginTop:"4px"},children:["NT$ ",Ce.totalAmount]})]},De))})]})})(),g.jsxs("div",{style:{background:"white",borderRadius:"12px",boxShadow:"0 8px 20px rgba(0,0,0,0.08)",padding:"20px",display:"flex",flexDirection:"column",gap:"12px"},children:[g.jsx("h2",{style:{margin:0,color:"#333"},children:w==="delivered"?"":""}),Object.keys(Me.productCounts).length===0?g.jsx("p",{style:{color:"#555"},children:""}):g.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:Object.entries(Me.productCounts).map(([ee,De])=>g.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 14px",borderRadius:"10px",border:"1px solid #eee",boxShadow:"0 2px 6px rgba(0,0,0,0.04)",marginBottom:"10px",background:"#f9f9f9"},children:[g.jsx("span",{style:{color:"#333",fontWeight:600},children:ee}),g.jsxs("span",{style:{color:"#666"},children:["",De]})]},ee))})]}),g.jsxs("div",{children:[g.jsx("h2",{style:{margin:"0 0 12px",color:"#333"},children:w==="delivered"?"":""}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px",width:"100%"},children:[O.map(ee=>g.jsxs("div",{style:{background:"white",borderRadius:"12px",boxShadow:"0 8px 20px rgba(0,0,0,0.08)",padding:"20px",display:"flex",flexDirection:"column",gap:"12px"},children:[g.jsxs("div",{style:{background:ee.delivered?"#dcfce7":"#fef3c7",border:`1px solid ${ee.delivered?"#16a34a":"#f59e0b"}`,borderRadius:"8px",padding:"12px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"12px"},children:[g.jsxs("div",{children:[g.jsxs("div",{style:{fontWeight:"bold"},children:["",g.jsx("span",{style:{color:ee.delivered?"#16a34a":"#f59e0b",marginLeft:"8px"},children:ee.delivered?" ":" "})]}),ee.deliveryUpdatedAt&&g.jsxs("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"4px"},children:["",ee.deliveryUpdatedAt.toDate?ee.deliveryUpdatedAt.toDate().toLocaleString():ee.deliveryUpdatedAt.toLocaleString()," ",ee.deliveryUpdatedByName&&`(${ee.deliveryUpdatedByName})`]})]}),w==="all"&&g.jsxs("div",{style:{display:"flex",gap:"8px"},children:[g.jsx("button",{onClick:()=>C(ee.id,!0),disabled:ee.delivered,style:{padding:"6px 12px",borderRadius:"4px",border:"none",background:ee.delivered?"#94a3b8":"#16a34a",color:"white",fontSize:"0.85rem",fontWeight:"bold",cursor:ee.delivered?"not-allowed":"pointer"},children:""}),g.jsx("button",{onClick:()=>C(ee.id,!1),disabled:!ee.delivered,style:{padding:"6px 12px",borderRadius:"4px",border:"none",background:ee.delivered?"#f59e0b":"#94a3b8",color:"white",fontSize:"0.85rem",fontWeight:"bold",cursor:ee.delivered?"pointer":"not-allowed"},children:""})]})]}),g.jsxs("div",{style:{background:ee.paid?"#dcfce7":"#fef3c7",border:`1px solid ${ee.paid?"#16a34a":"#f59e0b"}`,borderRadius:"8px",padding:"12px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"12px"},children:[g.jsxs("div",{children:[g.jsxs("div",{style:{fontWeight:"bold"},children:["",g.jsx("span",{style:{color:ee.paid?"#16a34a":"#f59e0b",marginLeft:"8px"},children:ee.paid?" ":" "})]}),ee.paymentUpdatedAt&&g.jsxs("div",{style:{fontSize:"0.85rem",color:"#666",marginTop:"4px"},children:["",ee.paymentUpdatedAt.toDate?ee.paymentUpdatedAt.toDate().toLocaleString():ee.paymentUpdatedAt.toLocaleString()," ",ee.paymentUpdatedByName&&`(${ee.paymentUpdatedByName})`]})]}),w==="all"&&g.jsxs("div",{style:{display:"flex",gap:"8px"},children:[g.jsx("button",{onClick:()=>D(ee.id,!0),disabled:ee.paid,style:{padding:"6px 12px",borderRadius:"4px",border:"none",background:ee.paid?"#94a3b8":"#16a34a",color:"white",fontSize:"0.85rem",fontWeight:"bold",cursor:ee.paid?"not-allowed":"pointer"},children:""}),g.jsx("button",{onClick:()=>D(ee.id,!1),disabled:!ee.paid,style:{padding:"6px 12px",borderRadius:"4px",border:"none",background:ee.paid?"#f59e0b":"#94a3b8",color:"white",fontSize:"0.85rem",fontWeight:"bold",cursor:ee.paid?"pointer":"not-allowed"},children:""})]})]}),g.jsxs("p",{children:[g.jsx("strong",{children:"ID:"})," ",ee.id]}),g.jsxs("p",{children:[g.jsx("strong",{children:":"})," NT$ ",ee.finalTotal]}),g.jsxs("p",{children:[g.jsx("strong",{children:":"})," ",ee.createdAt?.toDate().toLocaleString()]}),(ee.customerName||ee.customerPhone||ee.customerEmail||ee.school||ee.classNumber)&&g.jsxs("div",{style:{background:"#f0f9ff",border:"1px solid #e0f2fe",borderRadius:"8px",padding:"10px"},children:[g.jsx("strong",{children:""}),g.jsxs("ul",{style:{marginTop:"6px"},children:[ee.customerName&&g.jsxs("li",{children:["",ee.customerName]}),ee.customerPhone&&g.jsxs("li",{children:["",ee.customerPhone]}),ee.customerEmail&&g.jsxs("li",{children:["Email",ee.customerEmail]}),ee.school&&g.jsxs("li",{children:["",ee.school]}),ee.classNumber&&g.jsxs("li",{children:["",ee.classNumber]})]})]}),g.jsxs("div",{style:{background:"#f9f9f9",borderRadius:"8px",padding:"10px"},children:[g.jsx("strong",{children:""}),g.jsx("ul",{style:{marginTop:"6px"},children:ee.items.map(De=>g.jsxs("li",{children:[De.name," x ",De.quantity," (NT$ ",De.price,")"]},De.id))})]}),g.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px"},children:[g.jsx("button",{onClick:()=>j(`/orders/${ee.id}`),style:{padding:"10px 16px",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",border:"none",borderRadius:"8px",fontWeight:600,cursor:"pointer"},children:""}),g.jsx("button",{onClick:async()=>{if(window.confirm(`
ID: ${ee.id}`))try{await Ym(Ct(ut,"orders",ee.id)),e(Ce=>Ce.filter(pe=>pe.id!==ee.id)),n(Ce=>Ce.filter(pe=>pe.id!==ee.id)),o(Ce=>Ce.filter(pe=>pe.id!==ee.id)),U(" ")}catch(Ce){console.error("",Ce),U(" ")}},style:{padding:"10px 16px",background:"#ef4444",color:"white",border:"none",borderRadius:"8px",fontWeight:600,cursor:"pointer"},children:""})]})]},ee.id)),O.length===0&&g.jsx("p",{style:{color:"#555"},children:""})]})]})]})]})}function N2(){const{id:r}=hi(),[e,t]=ie.useState(null),[n]=Qu(Xn),[i,o]=ie.useState(!1),[l,c]=ie.useState(!1),[f,h]=ie.useState(!0),[p,x]=ie.useState(!0),[y,w]=ie.useState(!1),S=Xt(),{showToast:T}=br(),[A,j]=ie.useState(""),[U,F]=ie.useState("");ie.useEffect(()=>{if(!n)return;(async()=>{try{const C=await _r(Ct(ut,"users",n.uid));C.exists()?j(C.data().name||n.displayName||n.email):j(n.displayName||n.email)}catch{j(n.displayName||n.email)}})()},[n]),ie.useEffect(()=>{(async()=>{if(!n){o(!1),c(!1),h(!1);return}try{const C=Ct(ut,"users",n.uid),D=await _r(C);if(D.exists()){const V=D.data().role;F(V),o(V==="admin"),c(V==="manager")}else o(!1),c(!1)}catch(C){console.error(":",C),o(!1),c(!1)}finally{h(!1)}})()},[n]),ie.useEffect(()=>{if(!i&&!l||f)return;(async()=>{try{x(!0);const C=Ct(ut,"orders",r),D=await _r(C);D.exists()?t({id:D.id,...D.data()}):(T(" "),S("/admin"))}catch(C){console.error(":",C),T(" "+C.message)}finally{x(!1)}})()},[r,i,l,f,S,T]);const Q=async R=>{if(e){w(!0);try{const C=Ct(ut,"orders",e.id);await Fa(C,{delivered:R,deliveryUpdatedAt:ac(),deliveryUpdatedBy:A,deliveryUpdatedByName:A||n.email||""});const D=await _r(C);D.exists()&&t({id:D.id,...D.data()}),T(R?" ":" ")}catch(C){console.error(":",C),T(" "+C.message)}finally{w(!1)}}},ne=async R=>{if(e){w(!0);try{const C=Ct(ut,"orders",e.id);await Fa(C,{paid:R,paymentUpdatedAt:ac(),paymentUpdatedBy:A,paymentUpdatedByName:A||n.email||""});const D=await _r(C);D.exists()&&t({id:D.id,...D.data()}),T(R?" ":" ")}catch(C){console.error(":",C),T(" "+C.message)}finally{w(!1)}}};if(f)return g.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:g.jsxs("div",{style:{textAlign:"center"},children:[g.jsx("div",{style:{fontSize:"3rem",marginBottom:"16px"},children:""}),g.jsx("p",{style:{color:"#666"},children:"..."})]})});if(!i&&!l)return g.jsxs("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",padding:"20px"},children:[g.jsx("h2",{style:{color:"#d32f2f",marginBottom:"16px"},children:" "}),g.jsx("p",{style:{color:"#666",marginBottom:"24px"},children:""}),g.jsx("button",{onClick:()=>S("/"),style:{padding:"12px 28px",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",border:"none",borderRadius:"10px",fontWeight:"bold",cursor:"pointer"},children:""})]});if(p)return g.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:g.jsxs("div",{style:{textAlign:"center"},children:[g.jsx("div",{style:{fontSize:"3rem",marginBottom:"16px"},children:""}),g.jsx("p",{style:{color:"#666"},children:"..."})]})});if(!e)return g.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:g.jsxs("div",{style:{textAlign:"center"},children:[g.jsx("div",{style:{fontSize:"3rem",marginBottom:"16px"},children:""}),g.jsx("p",{style:{color:"#666"},children:""})]})});const he=i?"Admin":"Manager",k=i?"#dd2476":"#0891b2";return g.jsx("div",{style:{minHeight:"100vh",padding:"20px",display:"flex",justifyContent:"center",boxSizing:"border-box"},children:g.jsxs("div",{style:{width:"100%",maxWidth:"800px",background:"white",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0,0,0,0.1)",padding:"20px",display:"flex",flexDirection:"column",gap:"16px",boxSizing:"border-box"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",borderRadius:"12px",boxShadow:"0 2px 6px rgba(0,0,0,0.1)",marginBottom:0,background:`linear-gradient(135deg, ${k}15 0%, ${k}05 100%)`,border:`1px solid ${k}30`},children:[g.jsx("img",{src:n.photoURL||"https://via.placeholder.com/48?text=",alt:"User Avatar",style:{width:"48px",height:"48px",borderRadius:"50%",objectFit:"cover",border:`2px solid ${k}`}}),g.jsxs("div",{children:[g.jsxs("p",{style:{margin:0,fontWeight:"bold",fontSize:"1rem",color:"#333"},children:[g.jsx("span",{style:{color:k,background:`${k}20`,padding:"2px 8px",borderRadius:"4px",marginRight:"8px",fontSize:"0.85rem"},children:he}),A||""]}),g.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"#666"},children:n.email})]})]}),g.jsx("h1",{style:{textAlign:"center",marginBottom:"8px",color:"#333"},children:""}),g.jsx("div",{style:{background:e.delivered?"#dcfce7":"#fef3c7",border:`1px solid ${e.delivered?"#16a34a":"#f59e0b"}`,borderRadius:"10px",padding:"16px",marginBottom:"8px"},children:g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"12px"},children:[g.jsxs("div",{children:[g.jsxs("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:["",g.jsx("span",{style:{color:e.delivered?"#16a34a":"#f59e0b",marginLeft:"8px"},children:e.delivered?" ":" "})]}),e.deliveryUpdatedAt&&g.jsxs("div",{style:{fontSize:"0.85rem",color:"#666"},children:["",e.deliveryUpdatedAt.toDate?e.deliveryUpdatedAt.toDate().toLocaleString():e.deliveryUpdatedAt.toLocaleString(),e.deliveryUpdatedByName&&` (${e.deliveryUpdatedByName})`]})]}),g.jsxs("div",{style:{display:"flex",gap:"8px"},children:[g.jsx("button",{onClick:()=>Q(!0),disabled:y||e.delivered,style:{padding:"8px 16px",borderRadius:"6px",border:"none",background:e.delivered?"#94a3b8":"#16a34a",color:"white",fontWeight:"bold",cursor:e.delivered||y?"not-allowed":"pointer",transition:"all 0.2s"},children:y?"...":""}),g.jsx("button",{onClick:()=>Q(!1),disabled:y||!e.delivered,style:{padding:"8px 16px",borderRadius:"6px",border:"none",background:e.delivered?"#f59e0b":"#94a3b8",color:"white",fontWeight:"bold",cursor:!e.delivered||y?"not-allowed":"pointer",transition:"all 0.2s"},children:y?"...":""})]})]})}),g.jsx("div",{style:{background:e.paid?"#dcfce7":"#fef3c7",border:`1px solid ${e.paid?"#16a34a":"#f59e0b"}`,borderRadius:"10px",padding:"16px",marginBottom:"8px"},children:g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"12px"},children:[g.jsxs("div",{children:[g.jsxs("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:["",g.jsx("span",{style:{color:e.paid?"#16a34a":"#f59e0b",marginLeft:"8px"},children:e.paid?" ":" "})]}),e.paymentUpdatedAt&&g.jsxs("div",{style:{fontSize:"0.85rem",color:"#666"},children:["",e.paymentUpdatedAt.toDate?e.paymentUpdatedAt.toDate().toLocaleString():e.paymentUpdatedAt.toLocaleString(),e.paymentUpdatedByName&&` (${e.paymentUpdatedByName})`]})]}),g.jsxs("div",{style:{display:"flex",gap:"8px"},children:[g.jsx("button",{onClick:()=>ne(!0),disabled:y||e.paid,style:{padding:"8px 16px",borderRadius:"6px",border:"none",background:e.paid?"#94a3b8":"#16a34a",color:"white",fontWeight:"bold",cursor:e.paid||y?"not-allowed":"pointer",transition:"all 0.2s"},children:y?"...":""}),g.jsx("button",{onClick:()=>ne(!1),disabled:y||!e.paid,style:{padding:"8px 16px",borderRadius:"6px",border:"none",background:e.paid?"#f59e0b":"#94a3b8",color:"white",fontWeight:"bold",cursor:!e.paid||y?"not-allowed":"pointer",transition:"all 0.2s"},children:y?"...":""})]})]})}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"12px"},children:[g.jsxs("div",{style:{background:"#f9fafb",borderRadius:"10px",padding:"12px"},children:[g.jsx("div",{style:{color:"#666",fontSize:"0.9rem"},children:"ID"}),g.jsx("div",{style:{fontWeight:700,fontSize:"0.85rem",wordBreak:"break-all"},children:e.id}),g.jsx("br",{}),g.jsx("div",{style:{color:"#666",fontSize:"0.9rem"},children:""}),g.jsx("div",{style:{fontWeight:600,fontSize:"0.85rem"},children:e.createdAt?.toDate().toLocaleString()})]}),g.jsxs("div",{style:{background:"#f0fdf4",border:"1px solid #dcfce7",borderRadius:"10px",padding:"12px"},children:[g.jsx("div",{style:{color:"#166534",fontSize:"0.9rem"},children:""}),g.jsxs("div",{style:{fontWeight:700,color:"#065f46"},children:["NT$ ",e.finalTotal]})]}),g.jsxs("div",{style:{background:"#fff0f6",border:"1px solid #ffffffff",borderRadius:"10px",padding:"12px"},children:[g.jsx("div",{style:{color:"#d63384",fontSize:"0.9rem",marginBottom:"6px",fontWeight:"bold"},children:""}),e.appliedCombos&&e.appliedCombos.length>0&&g.jsxs("div",{style:{marginBottom:"4px"},children:[g.jsx("div",{children:""}),g.jsx("ul",{style:{paddingLeft:"16px",marginTop:"2px"},children:e.appliedCombos.map(R=>g.jsxs("li",{children:[R.name," x ",R.applicableCount]},R.id))})]}),e.appliedCombos&&e.appliedCombos.length>0&&g.jsxs("div",{style:{marginBottom:"4px"},children:[g.jsx("span",{children:""}),g.jsxs("span",{children:["NT$ ",e.originalTotal]})]}),g.jsx("br",{}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold",color:"#d63384",marginTop:"4px"},children:[g.jsx("span",{children:""}),g.jsxs("span",{children:["NT$ ",e.totalDiscount]})]})]}),(e.customerName||e.customerPhone||e.customerEmail||e.school||e.classNumber)&&g.jsxs("div",{style:{background:"#eff6ff",border:"1px solid #dbeafe",borderRadius:"10px",padding:"12px",overflowWrap:"break-word"},children:[g.jsx("div",{style:{color:"#1d4ed8",fontSize:"0.9rem",marginBottom:4},children:""}),e.customerName&&g.jsxs("div",{style:{fontSize:"0.9rem"},children:["",e.customerName]}),e.customerPhone&&g.jsxs("div",{style:{fontSize:"0.9rem"},children:["",e.customerPhone]}),e.customerEmail&&g.jsxs("div",{style:{fontSize:"0.9rem"},children:["Email",e.customerEmail]}),e.school&&g.jsxs("div",{style:{fontSize:"0.9rem"},children:["",e.school]}),e.classNumber&&g.jsxs("div",{style:{fontSize:"0.9rem"},children:["",e.classNumber]})]})]}),g.jsxs("div",{style:{background:"#f9f9f9",borderRadius:"8px",padding:"16px",flex:"1",overflow:"auto"},children:[g.jsx("div",{style:{fontWeight:"600",marginBottom:"12px",fontSize:"1rem",color:"#333"},children:""}),g.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem",backgroundColor:"white",borderRadius:"4px",overflow:"hidden",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[g.jsx("thead",{children:g.jsxs("tr",{style:{backgroundColor:"#f3f4f6",borderBottom:"1px solid #e5e7eb"},children:[g.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:"600",color:"#374151"},children:""}),g.jsx("th",{style:{padding:"12px 16px",textAlign:"center",fontWeight:"600",color:"#374151"},children:""}),g.jsx("th",{style:{padding:"12px 16px",textAlign:"right",fontWeight:"600",color:"#374151"},children:""})]})}),g.jsx("tbody",{children:e.items.map(R=>g.jsxs("tr",{style:{borderBottom:"1px solid #f3f4f6",transition:"background-color 0.2s"},children:[g.jsx("td",{style:{padding:"12px 16px",color:"#374151"},children:R.name}),g.jsx("td",{style:{padding:"12px 16px",textAlign:"center",color:"#6b7280"},children:R.quantity}),g.jsxs("td",{style:{padding:"12px 16px",textAlign:"right",color:"#059669",fontWeight:"500"},children:["NT$ ",R.price]})]},R.id))})]})]}),g.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",flexWrap:"wrap"},children:[g.jsx("button",{onClick:()=>S("/"),style:{padding:"10px 20px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"white",cursor:"pointer",transition:"all 0.2s"},children:""}),g.jsx("button",{onClick:()=>S("/admin"),style:{padding:"10px 20px",borderRadius:"8px",border:"none",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s"},children:""})]})]})})}function H7(){const[r,e]=ie.useState(null),[t,n]=ie.useState(""),[i,o]=ie.useState(""),[l,c]=ie.useState(""),[f,h]=ie.useState(""),[p,x]=ie.useState(!1),[y,w]=ie.useState(!0),[S,T]=ie.useState(!1),[A,j]=ie.useState(null),U=Xt(),{showToast:F}=br(),[Q,ne]=ie.useState(!1),[he,k]=ie.useState(!1),[R,C]=ie.useState(!1),[D,L]=ie.useState(!1),[V,O]=ie.useState(!1),[Me,ee]=ie.useState(!1),[De,Ce]=ie.useState(!1),[pe,Ee]=ie.useState(!1);ie.useEffect(()=>{const it=Xn.onAuthStateChanged(async et=>{et?(e(et),await Ae(et)):U("/auth")});return()=>it()},[U]);const Ae=async it=>{try{w(!0);const et=Ct(ut,"users",it.uid),Ue=await _r(et);if(Ue.exists()){const mt=Ue.data();n(mt.name||""),o(mt.phone||""),c(mt.school||""),h(mt.classandnumber||""),j(mt),T(!0)}else n(""),T(!1)}catch(et){console.error("Error loading user data:",et),F(""),n(it.displayName||"")}finally{w(!1)}},J=async(it,et,Ue=!1)=>{try{const mt=Ct(ut,"users",it.uid),ft={name:et.name||it.displayName||"",phone:et.phone||"",email:it.email,school:et.school||"",classandnumber:et.classandnumber||"",googleId:it.uid,photoURL:it.photoURL||"",authMethod:"google",profileCompleted:!0,updatedAt:new Date};return Ue||(ft.createdAt=new Date),await Nu(mt,ft,{merge:!0}),!0}catch(mt){return console.error("Error saving user data:",mt),!1}},N=async it=>{if(it.preventDefault(),!t.trim()||!i.trim()){F("");return}try{x(!0),await J(r,{name:t.trim(),phone:i.trim(),school:l.trim(),classandnumber:f.trim()},S)?S?(F(""),j({...A,name:t.trim(),phone:i.trim(),school:l.trim(),classandnumber:f.trim()})):(F(""),setTimeout(()=>{U("/")},1e3)):F(S?"":"")}catch(et){console.error("Submit error:",et),F((S?"":"")+""+et.message)}finally{x(!1)}},q=()=>{A&&(n(A.name||""),o(A.phone||""),c(A.school||""),h(A.classandnumber||""),F(""))},K=async()=>{if(window.confirm(""))try{await kw(Xn),F(""),U("/auth")}catch(it){console.error("Sign out error:",it),F("")}},Y=()=>{U("/")};if(!r||y)return g.jsx("div",{style:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:g.jsxs("div",{style:{textAlign:"center",color:"#666"},children:[g.jsx("div",{style:{marginBottom:"16px",fontSize:"1.1rem"},children:"..."}),g.jsx("div",{style:{fontSize:"0.9rem"},children:r?"":""})]})});const re=()=>{ne(!1),k(!1),C(!1),L(!1),O(!1),ee(!1),Ce(!1),Ee(!1)},_e=()=>{Q==!1?(re(),ne(!0),c("")):(ne(!1),c(""))},ke=()=>{he==!1?(re(),k(!0),c("")):(k(!1),c(""))},Te=()=>{R==!1?(re(),C(!0),c("")):(C(!1),c(""))},me=()=>{D==!1?(re(),L(!0),c("")):(L(!1),c(""))},Qe=()=>{V==!1?(re(),O(!0),c("")):(O(!1),c(""))},Ke=()=>{Me==!1?(re(),ee(!0),c("")):(ee(!1),c(""))},dt=()=>{De==!1?(re(),Ce(!0),c("")):(Ce(!1),c(""))},Ze=()=>{pe==!1?(re(),Ee(!0),c("")):(Ee(!1),c(""))};return g.jsx("div",{style:{minHeight:"100vh",display:"flex",justifyContent:"center",padding:"20px",alignItems:"center"},children:g.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"32px 24px",maxWidth:"420px",width:"100%",boxShadow:"0 8px 24px rgba(0,0,0,0.15)",textAlign:"center"},className:"user-info-card",children:[g.jsx("h1",{style:{marginBottom:"16px",color:"#333",fontSize:"1.4rem"},children:S?"":""}),g.jsx("p",{style:{marginBottom:"24px",color:"#666",fontSize:"0.95rem"},children:S?"":""}),g.jsxs("div",{style:{marginBottom:"24px",padding:"16px",background:"#f8f9ff",borderRadius:"8px",display:"flex",alignItems:"center",gap:"12px"},children:[r.photoURL&&g.jsx("img",{src:r.photoURL,alt:"Profile",style:{width:"48px",height:"48px",borderRadius:"50%",border:"2px solid #e1e5f2"}}),g.jsxs("div",{style:{textAlign:"left",flex:1},children:[g.jsx("p",{style:{margin:0,fontWeight:"bold",color:"#333",fontSize:"1rem"},children:r.displayName}),g.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#666"},children:r.email})]}),g.jsx("div",{style:{fontSize:"1.2rem"},children:""})]}),g.jsxs("form",{onSubmit:N,style:{display:"flex",flexDirection:"column"},children:[g.jsx("input",{type:"text",placeholder:" *()",value:t,onChange:it=>n(it.target.value),required:!0,style:bh}),g.jsx("input",{type:"tel",placeholder:" *",value:i,onChange:it=>o(it.target.value),required:!0,style:bh}),g.jsxs("div",{style:{marginTop:"20px",fontSize:"0.9rem",color:"#555",textAlign:"left",display:"block"},children:["",g.jsxs("label",{style:{marginTop:"20px",fontSize:"0.9rem",color:"#555",textAlign:"left",display:"block"},children:[g.jsx("input",{type:"checkbox",checked:Q,onChange:()=>_e(),style:{marginRight:"8px"}}),""]}),g.jsxs("label",{style:{marginTop:"20px",fontSize:"0.9rem",color:"#555",textAlign:"left",display:"block"},children:[g.jsx("input",{type:"checkbox",checked:he,onChange:()=>ke(),style:{marginRight:"8px"}}),""]}),g.jsxs("label",{style:{marginTop:"20px",fontSize:"0.9rem",color:"#555",textAlign:"left",display:"block"},children:[g.jsx("input",{type:"checkbox",checked:R,onChange:()=>Te(),style:{marginRight:"8px"}}),""]}),g.jsxs("label",{style:{marginTop:"20px",fontSize:"0.9rem",color:"#555",textAlign:"left",display:"block"},children:[g.jsx("input",{type:"checkbox",checked:D,onChange:()=>me(),style:{marginRight:"8px"}}),""]}),g.jsxs("label",{style:{marginTop:"20px",fontSize:"0.9rem",color:"#555",textAlign:"left",display:"block"},children:[g.jsx("input",{type:"checkbox",checked:V,onChange:()=>Qe(),style:{marginRight:"8px"}}),""]}),g.jsxs("label",{style:{marginTop:"20px",fontSize:"0.9rem",color:"#555",textAlign:"left",display:"block"},children:[g.jsx("input",{type:"checkbox",checked:Me,onChange:()=>Ke(),style:{marginRight:"8px"}}),""]}),g.jsxs("label",{style:{marginTop:"20px",fontSize:"0.9rem",color:"#555",textAlign:"left",display:"block"},children:[g.jsx("input",{type:"checkbox",checked:De,onChange:()=>dt(),style:{marginRight:"8px"}}),""]}),g.jsxs("label",{style:{marginTop:"20px",fontSize:"0.9rem",color:"#555",textAlign:"left",display:"block"},children:[g.jsx("input",{type:"checkbox",checked:pe,onChange:()=>Ze(),style:{marginRight:"8px"}}),""]}),g.jsx("br",{})]}),g.jsx("input",{type:"text",placeholder:" *",value:l,onChange:it=>c(it.target.value),style:bh,required:!0}),g.jsx("input",{type:"text",placeholder:"",value:f,onChange:it=>h(it.target.value),style:bh,required:l===""||l===""||l===""||l===""||l===""||l===""}),g.jsx("p",{style:{margin:"16px 0 8px",fontSize:"0.85rem",color:"#888",textAlign:"left"},children:"* "}),g.jsx("p",{style:{margin:"16px 0 8px",fontSize:"0.85rem",color:"#ff0000ff",textAlign:"left"},children:""}),g.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"8px",flexWrap:"wrap"},children:[g.jsx("button",{type:"submit",style:{...G7,opacity:p?.7:1,cursor:p?"not-allowed":"pointer",flex:S?"1 1 100%":"2 1 auto"},disabled:p,children:p?S?"...":"...":S?"":""}),S?g.jsxs(g.Fragment,{children:[g.jsx("button",{type:"button",onClick:q,style:{...D2,flex:"1 1 48%"},disabled:p,children:""}),g.jsx("button",{type:"button",onClick:Y,style:{...q7,flex:"1 1 48%"},disabled:p||t.trim()===""||i.trim()===""||l.trim()==="",children:""})]}):g.jsx("button",{type:"button",onClick:K,style:{...D2,flex:"1 1 auto"},disabled:p,children:""})]})]}),g.jsxs("div",{style:{marginTop:"20px",padding:"12px",background:"#f0f8ff",borderRadius:"6px",fontSize:"0.85rem",color:"#0066cc",textAlign:"left"},children:[g.jsx("div",{style:{textAlign:"center",fontWeight:"bold",marginBottom:"4px"},children:""}),g.jsx("div",{style:{textAlign:"center"},children:""})]}),S&&A&&A.updatedAt&&g.jsxs("div",{style:{marginTop:"12px",fontSize:"0.8rem",color:"#999",textAlign:"center"},children:["",new Date(A.updatedAt.toDate?A.updatedAt.toDate():A.updatedAt).toLocaleString("zh-TW")]})]})})}const bh={padding:"12px 16px",margin:"6px 0",borderRadius:"8px",border:"1px solid #ddd",fontSize:"1rem",outline:"none",transition:"border 0.2s",width:"100%",boxSizing:"border-box"},G7={padding:"12px 20px",borderRadius:"8px",border:"none",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",fontWeight:"bold",fontSize:"1rem",cursor:"pointer",boxShadow:"0 4px 12px rgba(221,36,118,0.25)",transition:"all 0.2s ease-in-out"},D2={padding:"12px 20px",borderRadius:"8px",border:"1px solid #ddd",background:"white",color:"#666",fontSize:"1rem",cursor:"pointer",transition:"all 0.2s"},q7={padding:"12px 20px",borderRadius:"8px",border:"1px solid #4CAF50",background:"#4CAF50",color:"white",fontSize:"1rem",cursor:"pointer",transition:"all 0.2s"};function K7(r){return r1({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19 7V4H9v3h2.868L9.012 17H5v3h10v-3h-2.868l2.856-10z"},child:[]}]})(r)}function X7(){return g.jsxs("div",{style:{RxFontStyle:K7,fontFamily:"brush script mt",textAlign:"center",fontSize:"70px",color:"#0c1b7ae6"},children:[g.jsx("br",{}),g.jsx("br",{}),g.jsx("br",{}),"Coming Soon"]})}function Y7(){const[r,e]=ie.useState([]),[t,n]=ie.useState([]),[i,o]=ie.useState(!1),[l,c]=ie.useState(0),[f,h]=ie.useState([]),[p,x]=ie.useState([]),y=(j,U="info")=>{x(F=>[...F,{message:j,type:U,time:new Date().toLocaleTimeString()}])},w=async()=>{if(!ut){y(" Firebase ","error");return}try{o(!0),y(" ...");const j=Oa(ut,"orders"),U=await oc(j),F=[];U.forEach(R=>{const C=R.data();F.push({id:R.id,...C,hasClassNumber:!!(C.classandnumber||C.classNumber),classandnumber:C.classandnumber||C.classNumber||""})}),e(F),y(" ...");const Q=Oa(ut,"users"),ne=await oc(Q),he=[];ne.forEach(R=>{const C=R.data();he.push({id:R.id,email:C.email,classandnumber:C.classandnumber||C.classNumber||"",name:C.name||"",school:C.school||"",phone:C.phone||""})}),n(he);const k=F.filter(R=>!R.hasClassNumber).length;y(`  ${F.length} ${he.length} ${k} `,"success")}catch(j){y(` : ${j.message}`,"error"),h(U=>[...U,j.message])}finally{o(!1)}},S=j=>j?t.find(U=>U.email&&U.email.toLowerCase()===j.toLowerCase()):null,T=async()=>{if(!ut){y(" Firebase ","error");return}try{o(!0),c(0),y(" ...");let j=0,U=0,F=0,Q=0;for(const ne of r){if(ne.hasClassNumber){U++;continue}try{let he=null,k="";if(ne.userId){const R=Ct(ut,"users",ne.userId),C=await _r(R);C.exists()&&(he=C.data(),k="userId")}if(!he&&ne.customerEmail){const R=S(ne.customerEmail);R&&(he=R,k="email",Q++)}if(he){const R=he.classandnumber||he.classNumber||"",C=he.name||ne.customerName||"",D=he.school||ne.school||"",L=he.phone||ne.customerPhone||"";if(R||C||D||L){const V=Ct(ut,"orders",ne.id),O={updatedAt:new Date,dataFixed:!0,matchMethod:k};R&&(O.classandnumber=R),C&&!ne.customerName&&(O.customerName=C),D&&!ne.school&&(O.school=D),L&&!ne.customerPhone&&(O.customerPhone=L),await Fa(V,O),j++;const Me=[];R&&Me.push(`: ${R}`),C&&!ne.customerName&&Me.push(`: ${C}`),D&&!ne.school&&Me.push(`: ${D}`),L&&!ne.customerPhone&&Me.push(`: ${L}`),y(`  ${ne.id.substring(0,8)}...  (${k==="email"?" Email":" userId"}): ${Me.join(", ")}`,"success")}else U++,y(`  ${ne.id.substring(0,8)}... `,"warning")}else F++,y(`  ${ne.id.substring(0,8)}...  (Email: ${ne.customerEmail||""})`,"error")}catch(he){F++,y(`  ${ne.id.substring(0,8)}... : ${he.message}`,"error"),h(k=>[...k,` ${ne.id}: ${he.message}`])}(j+U+F)%5===0&&await new Promise(he=>setTimeout(he,500))}c(j),y(`
 `,"success"),y(` : ${j}  ( ${Q}  Email )`,"success"),y(` : ${U} `,"warning"),y(` : ${F} `,"error"),await w()}catch(j){y(` : ${j.message}`,"error"),h(U=>[...U,j.message])}finally{o(!1)}},A=()=>{x([]),h([])};return g.jsx("div",{style:{minHeight:"100vh",padding:"40px 20px"},children:g.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",background:"white",borderRadius:"16px",padding:"32px",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[g.jsx("h1",{style:{textAlign:"center",color:"#333",marginBottom:"16px",fontSize:"2rem"},children:" "}),g.jsx("p",{style:{textAlign:"center",color:"#6c757d",marginBottom:"32px"},children:" userId  Email "}),g.jsxs("div",{style:{marginBottom:"32px",padding:"20px",background:"#f8f9fa",borderRadius:"12px",border:"1px solid #dee2e6"},children:[g.jsx("h2",{style:{fontSize:"1.3rem",marginBottom:"16px",color:"#495057"},children:" 1: "}),g.jsx("button",{onClick:w,disabled:i,style:{padding:"12px 24px",borderRadius:"8px",border:"none",background:"linear-gradient(90deg, #667eea 0%, #764ba2 100%)",color:"white",fontWeight:"bold",cursor:i?"not-allowed":"pointer",opacity:i?.7:1,marginRight:"12px"},children:i?"...":""}),r.length>0&&g.jsxs("span",{style:{color:"#6c757d",fontSize:"0.95rem"},children:[" ",r.length," ",t.length," "]})]}),r.length>0&&g.jsxs("div",{style:{marginBottom:"32px",padding:"20px",background:"#f8f9fa",borderRadius:"12px",border:"1px solid #dee2e6"},children:[g.jsx("h2",{style:{fontSize:"1.3rem",marginBottom:"16px",color:"#495057"},children:""}),g.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:g.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[g.jsx("thead",{children:g.jsxs("tr",{style:{background:"#e9ecef"},children:[g.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #dee2e6"},children:" ID"}),g.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #dee2e6"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #dee2e6"},children:"Email"}),g.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #dee2e6"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #dee2e6"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center",borderBottom:"2px solid #dee2e6"},children:""})]})}),g.jsx("tbody",{children:r.map((j,U)=>g.jsxs("tr",{style:{background:U%2===0?"white":"#f8f9fa"},children:[g.jsxs("td",{style:{padding:"12px",borderBottom:"1px solid #dee2e6",fontSize:"0.85rem"},children:[j.id.substring(0,12),"..."]}),g.jsx("td",{style:{padding:"12px",borderBottom:"1px solid #dee2e6"},children:j.customerName||""}),g.jsx("td",{style:{padding:"12px",borderBottom:"1px solid #dee2e6",fontSize:"0.85rem"},children:j.customerEmail||""}),g.jsx("td",{style:{padding:"12px",borderBottom:"1px solid #dee2e6"},children:j.school||""}),g.jsx("td",{style:{padding:"12px",borderBottom:"1px solid #dee2e6"},children:j.classandnumber||g.jsx("span",{style:{color:"#dc3545"},children:""})}),g.jsx("td",{style:{padding:"12px",borderBottom:"1px solid #dee2e6",textAlign:"center"},children:j.hasClassNumber?g.jsx("span",{style:{color:"#28a745",fontWeight:"bold"},children:""}):g.jsx("span",{style:{color:"#dc3545",fontWeight:"bold"},children:""})})]},j.id))})]})})]}),r.length>0&&g.jsxs("div",{style:{marginBottom:"32px",padding:"20px",background:"#fff3cd",borderRadius:"12px",border:"2px solid #ffc107"},children:[g.jsx("h2",{style:{fontSize:"1.3rem",marginBottom:"16px",color:"#856404"},children:" 2: "}),g.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"white",borderRadius:"8px",border:"1px solid #ffc107"},children:[g.jsx("p",{style:{margin:"0 0 8px 0",color:"#856404",fontWeight:"bold"},children:" "}),g.jsxs("ul",{style:{margin:0,paddingLeft:"20px",color:"#856404"},children:[g.jsx("li",{children:" userId "}),g.jsx("li",{children:" Email "}),g.jsx("li",{children:""})]})]}),g.jsx("p",{style:{marginBottom:"16px",color:"#856404"},children:" "}),g.jsx("button",{onClick:T,disabled:i,style:{padding:"12px 24px",borderRadius:"8px",border:"none",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",fontWeight:"bold",cursor:i?"not-allowed":"pointer",opacity:i?.7:1},children:i?"...":""}),l>0&&g.jsxs("span",{style:{marginLeft:"16px",color:"#28a745",fontWeight:"bold"},children:["  ",l," "]})]}),p.length>0&&g.jsxs("div",{style:{padding:"20px",background:"#212529",borderRadius:"12px",color:"white"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[g.jsx("h2",{style:{fontSize:"1.3rem",margin:0},children:""}),g.jsx("button",{onClick:A,style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #6c757d",background:"#343a40",color:"white",cursor:"pointer",fontSize:"0.9rem"},children:""})]}),g.jsx("div",{style:{maxHeight:"400px",overflowY:"auto",fontFamily:"monospace",fontSize:"0.9rem"},children:p.map((j,U)=>g.jsxs("div",{style:{padding:"8px",borderBottom:"1px solid #495057",color:j.type==="error"?"#ff6b6b":j.type==="success"?"#51cf66":j.type==="warning"?"#ffd43b":"white"},children:[g.jsxs("span",{style:{color:"#6c757d",marginRight:"8px"},children:["[",j.time,"]"]}),j.message]},U))})]})]})})}function Q7(){const[r,e]=ie.useState([]),[t,n]=ie.useState(!1),[i,o]=ie.useState(0),[l,c]=ie.useState([]),[f,h]=ie.useState([]),p=(S,T="info")=>{h(A=>[...A,{message:S,type:T,time:new Date().toLocaleTimeString()}])},x=async()=>{if(!ut){p(" Firebase ","error");return}try{n(!0),p(" ...");const S=Oa(ut,"orders"),T=await oc(S),A=[];T.forEach(U=>{const F=U.data();A.push({id:U.id,...F,hasClassNumber:!!(F.classandnumber||F.classNumber),classandnumber:F.classandnumber||F.classNumber||""})}),e(A);const j=A.filter(U=>!U.hasClassNumber).length;p(`  ${A.length} ${j} `,"success")}catch(S){p(` : ${S.message}`,"error"),c(T=>[...T,S.message])}finally{n(!1)}},y=async()=>{if(!ut){p(" Firebase ","error");return}try{n(!0),o(0),p(" ...");let S=0,T=0,A=0;for(const j of r){if(j.hasClassNumber){T++;continue}try{const U=Ct(ut,"users",j.userId),F=await _r(U);if(F.exists()){const Q=F.data(),ne=Q.classandnumber||Q.classNumber||"";if(ne){const he=Ct(ut,"orders",j.id);await Fa(he,{classandnumber:ne,updatedAt:new Date,dataFixed:!0}),S++,p(`  ${j.id.substring(0,8)}... : ${ne}`,"success")}else T++,p(`  ${j.id.substring(0,8)}... `,"warning")}else A++,p(`  ${j.id.substring(0,8)}... `,"error")}catch(U){A++,p(`  ${j.id.substring(0,8)}... : ${U.message}`,"error"),c(F=>[...F,` ${j.id}: ${U.message}`])}(S+T+A)%5===0&&await new Promise(U=>setTimeout(U,500))}o(S),p(`
 `,"success"),p(` : ${S} `,"success"),p(` : ${T} `,"warning"),p(` : ${A} `,"error"),await x()}catch(S){p(` : ${S.message}`,"error"),c(T=>[...T,S.message])}finally{n(!1)}},w=()=>{h([]),c([])};return g.jsx("div",{style:{minHeight:"100vh",padding:"40px 20px"},children:g.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",background:"white",borderRadius:"16px",padding:"32px",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[g.jsx("h1",{style:{textAlign:"center",color:"#333",marginBottom:"32px",fontSize:"2rem"},children:" "}),g.jsxs("div",{style:{marginBottom:"32px",padding:"20px",background:"#f8f9fa",borderRadius:"12px",border:"1px solid #dee2e6"},children:[g.jsx("h2",{style:{fontSize:"1.3rem",marginBottom:"16px",color:"#495057"},children:" 1: "}),g.jsx("button",{onClick:x,disabled:t,style:{padding:"12px 24px",borderRadius:"8px",border:"none",background:"linear-gradient(90deg, #667eea 0%, #764ba2 100%)",color:"white",fontWeight:"bold",cursor:t?"not-allowed":"pointer",opacity:t?.7:1,marginRight:"12px"},children:t?"...":""}),r.length>0&&g.jsxs("span",{style:{color:"#6c757d",fontSize:"0.95rem"},children:[" ",r.length," "]})]}),r.length>0&&g.jsxs("div",{style:{marginBottom:"32px",padding:"20px",background:"#f8f9fa",borderRadius:"12px",border:"1px solid #dee2e6"},children:[g.jsx("h2",{style:{fontSize:"1.3rem",marginBottom:"16px",color:"#495057"},children:""}),g.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:g.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[g.jsx("thead",{children:g.jsxs("tr",{style:{background:"#e9ecef"},children:[g.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #dee2e6"},children:" ID"}),g.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #dee2e6"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #dee2e6"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #dee2e6"},children:""}),g.jsx("th",{style:{padding:"12px",textAlign:"center",borderBottom:"2px solid #dee2e6"},children:""})]})}),g.jsx("tbody",{children:r.map((S,T)=>g.jsxs("tr",{style:{background:T%2===0?"white":"#f8f9fa"},children:[g.jsxs("td",{style:{padding:"12px",borderBottom:"1px solid #dee2e6",fontSize:"0.85rem"},children:[S.id.substring(0,12),"..."]}),g.jsx("td",{style:{padding:"12px",borderBottom:"1px solid #dee2e6"},children:S.customerName||""}),g.jsx("td",{style:{padding:"12px",borderBottom:"1px solid #dee2e6"},children:S.school||""}),g.jsx("td",{style:{padding:"12px",borderBottom:"1px solid #dee2e6"},children:S.classandnumber||g.jsx("span",{style:{color:"#dc3545"},children:""})}),g.jsx("td",{style:{padding:"12px",borderBottom:"1px solid #dee2e6",textAlign:"center"},children:S.hasClassNumber?g.jsx("span",{style:{color:"#28a745",fontWeight:"bold"},children:""}):g.jsx("span",{style:{color:"#dc3545",fontWeight:"bold"},children:""})})]},S.id))})]})})]}),r.length>0&&g.jsxs("div",{style:{marginBottom:"32px",padding:"20px",background:"#fff3cd",borderRadius:"12px",border:"2px solid #ffc107"},children:[g.jsx("h2",{style:{fontSize:"1.3rem",marginBottom:"16px",color:"#856404"},children:" 2: "}),g.jsx("p",{style:{marginBottom:"16px",color:"#856404"},children:" "}),g.jsx("button",{onClick:y,disabled:t,style:{padding:"12px 24px",borderRadius:"8px",border:"none",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",fontWeight:"bold",cursor:t?"not-allowed":"pointer",opacity:t?.7:1},children:t?"...":""}),i>0&&g.jsxs("span",{style:{marginLeft:"16px",color:"#28a745",fontWeight:"bold"},children:["  ",i," "]})]}),f.length>0&&g.jsxs("div",{style:{padding:"20px",background:"#212529",borderRadius:"12px",color:"white"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[g.jsx("h2",{style:{fontSize:"1.3rem",margin:0},children:""}),g.jsx("button",{onClick:w,style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #6c757d",background:"#343a40",color:"white",cursor:"pointer",fontSize:"0.9rem"},children:""})]}),g.jsx("div",{style:{maxHeight:"400px",overflowY:"auto",fontFamily:"monospace",fontSize:"0.9rem"},children:f.map((S,T)=>g.jsxs("div",{style:{padding:"8px",borderBottom:"1px solid #495057",color:S.type==="error"?"#ff6b6b":S.type==="success"?"#51cf66":S.type==="warning"?"#ffd43b":"white"},children:[g.jsxs("span",{style:{color:"#6c757d",marginRight:"8px"},children:["[",S.time,"]"]}),S.message]},T))})]})]})})}const J7=H7,Z7=new Date("2025-11-05T12:00:00+08:00"),eB=new Date,tB=eB>=Z7,O2=window.location.pathname==="/info";function rB(){const[r,e]=ie.useState(null),[t,n]=ie.useState(!0),[i,o]=ie.useState(!1),{showToast:l}=br(),c=Xt();if(ie.useEffect(()=>{const x=Rw(Xn,async y=>{if(y)try{const w=Ct(ut,"users",y.uid),S=await _r(w);let T=!1,A=!1;if(S.exists()){const j=S.data();T=j.role==="admin",A=j.role==="manager"}e({...y,isAdmin:T,isManager:A})}catch(w){console.error("Error fetching user role:",w),e({...y,isAdmin:!1,isManager:!1})}else e(null);n(!1)});return()=>x()},[]),t)return g.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(120deg, #e0eafc 0%, #cfdef3 100%)"},children:g.jsx("p",{style:{fontSize:"1.2rem",color:"#333"},children:"Loading..."})});const f=async()=>{await kw(Xn),l(""),e(null),o(!1)},h={padding:"10px 16px",marginBottom:"12px",border:"none",borderRadius:"8px",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",fontWeight:"bold",cursor:"pointer",width:"100%",textAlign:"left"},p=r&&(r.isAdmin||r.isManager);return g.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(120deg, #e0eafc 0%, #cfdef3 100%)"},children:[g.jsxs("header",{style:{padding:"10px 20px",marginBottom:"32px",background:"white",color:"black",display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"0 4px 16px rgba(0,0,0,0.10)"},children:[g.jsx("button",{disabled:O2,onClick:()=>o(!0),style:{border:"none",fontSize:"1.5rem",background:"transparent",cursor:"pointer"},children:g.jsx(lD,{})}),g.jsx("span",{style:{fontSize:"1.0rem",fontWeight:"bold",letterSpacing:"2px"},children:""}),r?g.jsx("button",{disabled:O2,onClick:()=>c("/cart"),style:{border:"none",background:"transparent",fontSize:"1.5rem",cursor:"pointer"},children:g.jsx(cD,{})}):g.jsx("button",{onClick:()=>c("/auth"),style:{padding:"6px 14px",borderRadius:"8px",border:"none",background:"linear-gradient(90deg, #ff512f 0%, #dd2476 100%)",color:"white",fontWeight:"bold",cursor:"pointer"},children:" / "})]}),g.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"260px",height:"100%",background:"#fff",boxShadow:i?"2px 0 12px rgba(0,0,0,0.2)":"none",padding:"20px",display:i?"flex":"none",flexDirection:"column",transition:"left 0.3s",zIndex:1e3},children:[g.jsx("button",{onClick:()=>o(!1),style:{alignSelf:"flex-end",marginBottom:"20px",background:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer"},children:""}),r?g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>{c("/"),o(!1)},style:h,children:""}),g.jsx("button",{onClick:()=>{c("/cart"),o(!1)},style:h,children:""}),g.jsx("button",{onClick:()=>{c("/orders"),o(!1)},style:h,children:""}),g.jsx("button",{onClick:()=>{c("/info"),o(!1)},style:h,children:""}),g.jsx("button",{onClick:()=>{c("/terms"),o(!1)},style:h,children:""}),g.jsx("button",{onClick:()=>{c("/about"),o(!1)},style:h,children:""}),r.isAdmin&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>{c("/admin"),o(!1)},style:h,children:""}),g.jsx("button",{onClick:()=>{c("/account"),o(!1)},style:h,children:""}),g.jsx("button",{onClick:()=>{c("/tool"),o(!1)},style:h,children:""}),g.jsx("button",{onClick:()=>{c("/update"),o(!1)},style:h,children:""})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginTop:"auto",padding:"12px",borderRadius:"12px",background:"linear-gradient(120deg, #fdfbfb 0%, #ebedee 100%)",boxShadow:"0 2px 6px rgba(0,0,0,0.1)",marginBottom:0},children:[g.jsx("img",{src:r.photoURL||"https://via.placeholder.com/48?text=",alt:"User Avatar",style:{width:"48px",height:"48px",borderRadius:"50%",objectFit:"cover",border:"2px solid #ddd"}}),g.jsxs("div",{children:[g.jsx("p",{style:{margin:0,fontWeight:"bold",fontSize:"1rem",color:"#333"},children:r.displayName||""}),g.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"#666"},children:r.email})]})]}),g.jsx("button",{onClick:f,style:{...h,marginTop:20,background:"linear-gradient(90deg, #232526 0%, #414345 100%)",marginBottom:40},children:""})]}):g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>{c("/auth"),o(!1)},style:h,children:" / "}),g.jsx("button",{onClick:()=>{c("/terms"),o(!1)},style:h,children:""}),g.jsx("button",{onClick:()=>{c("/about"),o(!1)},style:h,children:""})]})]}),i&&g.jsx("div",{onClick:()=>o(!1),style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.3)",zIndex:900}}),g.jsx("main",{style:{maxWidth:"900px",margin:"16px auto 0",padding:"0 12px"},children:g.jsxs(J4,{children:[g.jsx(fr,{path:"/terms",element:g.jsx(JD,{})}),g.jsx(fr,{path:"/about",element:g.jsx(ZD,{})}),g.jsx(fr,{path:"/info",element:g.jsx(J7,{})}),r?g.jsxs(g.Fragment,{children:[tB?g.jsxs(g.Fragment,{children:[g.jsx(fr,{path:"/",element:g.jsx(M_,{})}),g.jsx(fr,{path:"/product/:id",element:g.jsx($_,{})}),g.jsx(fr,{path:"/cart",element:g.jsx(j_,{})}),g.jsx(fr,{path:"/orders",element:g.jsx(z_,{})}),g.jsx(fr,{path:"/orders/:id",element:g.jsx(N2,{})}),g.jsx(fr,{path:"/tool",element:g.jsx(Y7,{})}),g.jsx(fr,{path:"/update",element:g.jsx(Q7,{})})]}):g.jsxs(g.Fragment,{children:[g.jsx(fr,{path:"/comingsoon",element:g.jsx(X7,{})}),g.jsx(fr,{path:"/",element:p?g.jsx(M_,{}):g.jsx(To,{to:"/info",replace:!0})}),g.jsx(fr,{path:"/product/:id",element:p?g.jsx($_,{}):g.jsx(To,{to:"/comingsoon",replace:!0})}),g.jsx(fr,{path:"/cart",element:p?g.jsx(j_,{}):g.jsx(To,{to:"/comingsoon",replace:!0})}),g.jsx(fr,{path:"/orders",element:p?g.jsx(z_,{}):g.jsx(To,{to:"/comingsoon",replace:!0})}),g.jsx(fr,{path:"/orders/:id",element:p?g.jsx(N2,{}):g.jsx(To,{to:"/comingsoon",replace:!0})})]}),g.jsx(fr,{path:"/admin",element:p?g.jsx($7,{}):g.jsx(To,{to:"/",replace:!0})}),g.jsx(fr,{path:"/account",element:r.isAdmin?g.jsx(dD,{}):g.jsx(To,{to:"/",replace:!0})}),g.jsx(fr,{path:"*",element:g.jsx(To,{to:"/",replace:!0})})]}):g.jsx(g.Fragment,{children:g.jsx(fr,{path:"*",element:g.jsx(fD,{})})})]})})]})}function nB(){return g.jsx(uD,{children:g.jsx(sC,{children:g.jsx(rB,{})})})}a4.createRoot(document.getElementById("root")).render(g.jsx(Bt.StrictMode,{children:g.jsx(bD,{children:g.jsx(nB,{})})}));
